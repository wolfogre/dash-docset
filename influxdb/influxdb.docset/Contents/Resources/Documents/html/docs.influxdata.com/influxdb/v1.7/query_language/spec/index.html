<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title> Influx Query Language (InfluxQL) reference | InfluxData Documentation</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link rel="shortcut icon" href="../../../../img/favicon.ico" type="image/x-icon"/>

    
    
    
    
    <meta name="docsearch:latest" content="true"/>
    
    

    
    <meta name="robots" content="index, follow"/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
    <link rel="stylesheet" title="dark-theme" href="../../../../css/docs-default.css"/>
    <link rel="alternate stylesheet" title="light-theme" href="https://docs.influxdata.com/css/docs-light.css"/>

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,400italic,500italic,700,700italic,900,900italic" rel="stylesheet" type="text/css"/>

    <meta name="application-name" content="InfluxData"/>
    <meta name="msapplication-TileColor" content=""/>

    <meta name="msapplication-TileImage" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png"/>

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@influxdb"/>
    <meta name="twitter:title" content=" Influx Query Language (InfluxQL) reference | InfluxData Documentation"/>
    <meta name="twitter:description" content=""/>

    <meta name="twitter:image" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png"/>

    <meta property="fb:app_id" content="222112578359661"/>
    <meta property="og:title" content=" Influx Query Language (InfluxQL) reference | InfluxData Documentation"/>
    <meta property="og:description" content=""/>
    <meta property="og:url" content="https://docs.influxdata.com/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://www.influxdata.com/wp-content/uploads/Simple-Kubo.jpg"/>
    <meta property="og:image:width" content="555px"/>
    <meta property="og:image:height" content="290px"/>

    <meta name="Copyright" content="InfluxData Inc."/>

    
    <script type="text/javascript" src="https://script.crazyegg.com/pages/scripts/0080/4231.js" async="async"></script>

    <script src="../../../../js/vendor/js.cookie.js" type="text/javascript"></script>
    <script src="../../../../js/docs-themes.js" type="text/javascript"></script>
    <script src="../../../../js/docs-chronograf-url.js" type="text/javascript"></script>
    <script type="text/javascript">
        set_style_from_cookie();

    </script>
</head>

<body class="docs-theme--influxdb">
    
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WXRH9C');

    </script>
    
    <nav class="navbar" id="main-nav">
    <div class="navbar--logo">
      <a href="https://www.influxdata.com/" target="_blank" title="Go to InfluxData">
        <span class="icon logo"></span>
        <span class="icon logotype"></span>
      </a>
      <span class="divider"></span>
      <a href="https://docs.influxdata.com/" class="navbar--docs klavika-font" title="Go to Documentation Homepage">Docs</a>
    </div>
    

<div class="navbar--hamburger" id="navbar--hamburger">
    <div class="navbar--hamburger-bar top"></div>
    <div class="navbar--hamburger-bar middle"></div>
    <div class="navbar--hamburger-bar bottom"></div>
</div>
<div class="navbar--product-dropdown" id="navbar--dropdown">
    <div class="navbar--current-product">
      
      
        
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          InfluxDB v1.7
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
      
      
    </div>
    <div class="navbar--product-dropdown-caret"><span class="icon arrow-down"></span></div>
</div>
<div class="navbar--product-container" id="navbar--product-container">
    <div class="navbar--dropdown-dismiss" id="navbar--dropdown-dismiss"></div>
    <ul class="navbar--product-menu" id="navbar--product-menu">
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/telegraf/v1.13/">Telegraf</a></li>
          
        
          
            <li><a class="navbar--product" href="../../index.html">InfluxDB</a></li>
            <li><a class="navbar--product v2" href="https://v2.docs.influxdata.com" target="_blank">InfluxDB 2.0 <span class="v2-status">beta</span></a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_influxdb/v1.7/">InfluxDB Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/chronograf/v1.7/">Chronograf</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/kapacitor/v1.5/">Kapacitor</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_kapacitor/v1.5/">Kapacitor Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/flux/v0.50/">Flux</a></li>
          
        
        <li class="navbar--product-divider"></li>
        <li><a class="navbar--product external" href="https://influxdata.com/use-cases/" target="_blank">‚ñ∫&nbsp; See how the TICK Stack is used</a></li>
        <li><a class="navbar--product external" href="https://influxdata.com/pricing/" target="_blank">‚ñ∫&nbsp; Need help using our stack?</a></li>
    </ul>
</div>


    <div class="navbar--search" id="navbar--search">
	
	
	
	
			
				<input class="navbar--search-field" id="algolia-search-input" type="text" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" dir="auto" placeholder="Search the docs..."/>
			
		
	
	
	
	
	
	
</div>

    <button class="theme-switcher" id="theme-switch-light" onclick="switch_style(&#39;light-theme&#39;);return false;"><span class="icon sun2"></span></button>
<button class="theme-switcher" id="theme-switch-dark" onclick="switch_style(&#39;dark-theme&#39;);return false;"><span class="icon moon"></span></button>


</nav>


<div class="sidebar--toggle" id="sidebar--toggle">InfluxDB Contents</div>
<aside class="sidebar" id="sidebar">
  <section class="sidebar--section">
    <div id="sidebar--ad"></div>

  </section>
  
  
    
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../about_the_project/index.html">About the project</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../about_the_project/releasenotes-changelog/index.html">Release notes</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/contributing/index.html">Contributing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/cla/index.html">Contributor license agreement</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/licenses/index.html">InfluxDB license</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/third-party/index.html">Third party software</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../introduction/index.html">Introduction</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../introduction/downloading/index.html">Downloading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../introduction/installation/index.html">Installing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../introduction/getting-started/index.html">Getting started</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../concepts/index.html">Concepts</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../concepts/key_concepts/index.html">Key concepts</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/glossary/index.html">Glossary</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/crosswalk/index.html">Comparing InfluxDB to SQL databases</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/insights_tradeoffs/index.html">InfluxDB design insights and tradeoffs</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/schema_and_data_layout/index.html">Schema design and data layout</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/storage_engine/index.html">In-memory indexing with TSM</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/time-series-index/index.html">Time Series Index (TSI) overview</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/tsi-details/index.html">Time Series Index (TSI) details</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../administration/index.html">Administration</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../administration/config/index.html">Configuring InfluxDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/authentication_and_authorization/index.html">Authentication and authorization</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/upgrading/index.html">Upgrading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/https_setup/index.html">Enabling HTTPS</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/logs/index.html">Logging and tracing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/ports/index.html">Ports</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/backup_and_restore/index.html">Backing up and restoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/rebuild-tsi-index/index.html">Rebuild the TSI index</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/security/index.html">Managing security</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/server_monitoring/index.html">Server monitoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/stability_and_compatibility/index.html">Stability and compatibility</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/subscription-management/index.html">Manage subscriptions</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../tools/index.html">Tools</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../tools/shell/index.html">InfluxDB command line interface (CLI/shell)</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/api/index.html">InfluxDB API reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/api_client_libraries/index.html">InfluxDB API client libraries</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/influx_inspect/index.html">Influx Inspect disk utility</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/inch/index.html">InfluxDB inch tool</a></li>
              
            
              
                <li><a class="sidebar--page" href="https://grafana.com/docs/grafana/latest/features/datasources/influxdb/">Grafana graphs and dashboards</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class=" active" href="../index.html">Influx Query Language (InfluxQL)</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../data_download/index.html">Sample data</a></li>
              
            
              
                <li><a class="sidebar--page" href="../data_exploration/index.html">Data exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../schema_exploration/index.html">Schema exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../database_management/index.html">Data management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../continuous_queries/index.html">Continuous Queries</a></li>
              
            
              
                <li><a class="sidebar--page" href="../functions/index.html">Functions</a></li>
              
            
              
                <li><a class="sidebar--page" href="../math_operators/index.html">Mathematical operators</a></li>
              
            
              
                <li><a class="sidebar--page active" href="index.html">InfluxQL reference</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../write_protocols/index.html">Write protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../write_protocols/line_protocol_reference/index.html">InfluxDB line protocol reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../write_protocols/line_protocol_tutorial/index.html">InfluxDB line protocol tutorial</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../supported_protocols/index.html">Supported protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/collectd/index.html">CollectD</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/graphite/index.html">Graphite</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/opentsdb/index.html">OpenTSDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/prometheus/index.html">Prometheus</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/udp/index.html">UDP</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../high_availability/index.html">High availability</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../high_availability/clusters/index.html">Clustering</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../troubleshooting/index.html">Troubleshooting</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../troubleshooting/frequently-asked-questions/index.html">Frequently asked questions (FAQ)</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../troubleshooting/query_management/index.html">Query management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../troubleshooting/errors/index.html">Error messages</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../additional_resources/additional_resources/index.html">Additional resources</a>
          </div>

          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="index.html">Guides</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../guides/writing_data/index.html">Writing data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/querying_data/index.html">Querying data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/downsampling_and_retention/index.html">Downsampling and data retention</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/hardware_sizing/index.html">Hardware sizing guidelines</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/calculating_percentages/index.html">Calculating percentages in a query</a></li>
              
            
            </ul>
          

        </section>
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  <section class="sidebar--section">
    <div class="sidebar--section-title">
      <a href="https://docs.influxdata.com/influxdb/">InfluxDB versions</a>
    </div>
    <ul>
      
      <li><a class="sidebar--page" href="../../index.html">v1.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.6/">v1.6</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.5/">v1.5</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.4/">v1.4</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.3/">v1.3</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.2/">v1.2</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.1/">v1.1</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.0/">v1.0</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.13/">v0.13</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.12/">v0.12</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.11/">v0.11</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.10/">v0.10</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.9/">v0.9</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.8/">v0.8</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.7/">v0.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.6/">v0.6</a></li>
      
    </ul>
  </section>
</aside>

<article class="article">
	
	<section class="article-section article-heading">
		<div class="article-content">
			<h1>Influx Query Language (InfluxQL) reference</h1>
		</div>
	</section>
	
	<section class="article-section">
		<div class="article-content">
			

			

<h2 id="introduction">Introduction</h2>

<p>Find Influx Query Language (InfluxQL) definitions and details, including:</p>

<ul>
<li><a href="index.html#notation">Notation</a></li>
<li><a href="index.html#query-representation">Query representation</a></li>
<li><a href="index.html#letters-and-digits">Letters and digits</a></li>
<li><a href="index.html#identifiers">Identifiers</a></li>
<li><a href="index.html#keywords">Keywords</a></li>
<li><a href="index.html#literals">Literals</a></li>
<li><a href="index.html#queries">Queries</a></li>
<li><a href="index.html#statements">Statements</a></li>
<li><a href="index.html#clauses">Clauses</a></li>
<li><a href="index.html#expressions">Expressions</a></li>
<li><a href="index.html#other">Other</a></li>
<li><a href="index.html#query-engine-internals">Query engine internals</a></li>
</ul>

<p>To learn more about InfluxQL, browse the following topics:</p>

<ul>
<li><a href="../data_exploration/index.html">Explore your data with InfluxQL</a></li>
<li><a href="../schema_exploration/index.html">Explore your schema with InfluxQL</a></li>
<li><a href="../database_management/index.html">Database management</a></li>
<li><a href="../../administration/authentication_and_authorization/index.html">Authentication and authorization</a>.</li>
</ul>

<p>InfluxQL is a SQL-like query language for interacting with InfluxDB and providing features specific to storing and analyzing time series data.</p>

<h2 id="notation">Notation</h2>

<p>The syntax is specified using Extended Backus-Naur Form (&ldquo;EBNF&rdquo;).
EBNF is the same notation used in the <a href="http://golang.org">Go</a> programming language specification, which can be found <a href="https://golang.org/ref/spec">here</a>.
Not so coincidentally, InfluxDB is written in Go.</p>

<pre><code>Production  = production_name &#34;=&#34; [ Expression ] &#34;.&#34; .
Expression  = Alternative { &#34;|&#34; Alternative } .
Alternative = Term { Term } .
Term        = production_name | token [ &#34;&hellip;&#34; token ] | Group | Option | Repetition .
Group       = &#34;(&#34; Expression &#34;)&#34; .
Option      = &#34;[&#34; Expression &#34;]&#34; .
Repetition  = &#34;{&#34; Expression &#34;}&#34; .
</code></pre>

<p>Notation operators in order of increasing precedence:</p>

<pre><code>|   alternation
()  grouping
[]  option (0 or 1 times)
{}  repetition (0 to n times)
</code></pre>

<h2 id="query-representation">Query representation</h2>

<a class="dashingAutolink" name="autolink-72"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Characters"></a><h3 id="characters">Characters</h3>

<p>InfluxQL is Unicode text encoded in <a href="http://en.wikipedia.org/wiki/UTF-8">UTF-8</a>.</p>

<pre><code>newline             = /* the Unicode code point U+000A */ .
unicode_char        = /* an arbitrary Unicode code point except newline */ .
</code></pre>

<h2 id="letters-and-digits">Letters and digits</h2>

<p>Letters are the set of ASCII characters plus the underscore character _ (U+005F) is considered a letter.</p>

<p>Only decimal digits are supported.</p>

<pre><code>letter              = ascii_letter | &#34;_&#34; .
ascii_letter        = &#34;A&#34; &hellip; &#34;Z&#34; | &#34;a&#34; &hellip; &#34;z&#34; .
digit               = &#34;0&#34; &hellip; &#34;9&#34; .
</code></pre>

<h2 id="identifiers">Identifiers</h2>

<p>Identifiers are tokens which refer to <a href="../../concepts/glossary/index.html#database">database</a> names, <a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a> names, <a href="../../concepts/glossary/index.html#user">user</a> names, <a href="../../concepts/glossary/index.html#measurement">measurement</a> names, <a href="../../concepts/glossary/index.html#tag-key">tag keys</a>, and <a href="../../concepts/glossary/index.html#field-key">field keys</a>.</p>

<p>The rules:</p>

<ul>
<li>double quoted identifiers can contain any unicode character other than a new line</li>
<li>double quoted identifiers can contain escaped <code>&#34;</code> characters (i.e., <code>\&#34;</code>)</li>
<li>double quoted identifiers can contain InfluxQL <a href="index.html#keywords">keywords</a></li>
<li>unquoted identifiers must start with an upper or lowercase ASCII character or &ldquo;_&rdquo;</li>
<li>unquoted identifiers may contain only ASCII letters, decimal digits, and &ldquo;_&rdquo;</li>
</ul>

<pre><code>identifier          = unquoted_identifier | quoted_identifier .
unquoted_identifier = ( letter ) { letter | digit } .
quoted_identifier   = `&#34;` unicode_char { unicode_char } `&#34;` .
</code></pre>

<h4 id="examples">Examples</h4>

<pre><code>cpu
_cpu_stats
&#34;1h&#34;
&#34;anything really&#34;
&#34;1_Crazy-1337.identifier&gt;NAMEüëç&#34;
</code></pre>

<h2 id="keywords">Keywords</h2>

<pre><code>ALL           ALTER         ANY           AS            ASC           BEGIN
BY            CREATE        CONTINUOUS    DATABASE      DATABASES     DEFAULT
DELETE        DESC          DESTINATIONS  DIAGNOSTICS   DISTINCT      DROP
DURATION      END           EVERY         EXPLAIN       FIELD         FOR
FROM          GRANT         GRANTS        GROUP         GROUPS        IN
INF           INSERT        INTO          KEY           KEYS          KILL
LIMIT         SHOW          MEASUREMENT   MEASUREMENTS  NAME          OFFSET
ON            ORDER         PASSWORD      POLICY        POLICIES      PRIVILEGES
QUERIES       QUERY         READ          REPLICATION   RESAMPLE      RETENTION
REVOKE        SELECT        SERIES        SET           SHARD         SHARDS
SLIMIT        SOFFSET       STATS         SUBSCRIPTION  SUBSCRIPTIONS TAG
TO            USER          USERS         VALUES        WHERE         WITH
WRITE
</code></pre>

<p>If you use an InfluxQL keywords as an
<a href="../../concepts/glossary/index.html#identifier">identifier</a> you will need to
double quote that identifier in every query.</p>

<p>The keyword <code>time</code> is a special case.
<code>time</code> can be a
<a href="../../concepts/glossary/index.html#continuous-query-cq">continuous query</a> name,
database name,
<a href="../../concepts/glossary/index.html#measurement">measurement</a> name,
<a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a> name,
<a href="../../concepts/glossary/index.html#subscription">subscription</a> name, and
<a href="../../concepts/glossary/index.html#user">user</a> name.
In those cases, <code>time</code> does not require double quotes in queries.
<code>time</code> cannot be a <a href="../../concepts/glossary/index.html#field-key">field key</a> or
<a href="../../concepts/glossary/index.html#tag-key">tag key</a>;
InfluxDB rejects writes with <code>time</code> as a field key or tag key and returns an error.
See <a href="../../troubleshooting/frequently-asked-questions/index.html#time">Frequently Asked Questions</a> for more information.</p>

<h2 id="literals">Literals</h2>

<a class="dashingAutolink" name="autolink-73"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Integers"></a><h3 id="integers">Integers</h3>

<p>InfluxQL supports decimal integer literals.
Hexadecimal and octal literals are not currently supported.</p>

<pre><code>int_lit             = ( &#34;1&#34; &hellip; &#34;9&#34; ) { digit } .
</code></pre>

<a class="dashingAutolink" name="autolink-74"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Floats"></a><h3 id="floats">Floats</h3>

<p>InfluxQL supports floating-point literals.
Exponents are not currently supported.</p>

<pre><code>float_lit           = int_lit &#34;.&#34; int_lit .
</code></pre>

<a class="dashingAutolink" name="autolink-75"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Strings"></a><h3 id="strings">Strings</h3>

<p>String literals must be surrounded by single quotes.
Strings may contain <code>&#39;</code> characters as long as they are escaped (i.e., <code>\&#39;</code>).</p>

<pre><code>string_lit          = `&#39;` { unicode_char } `&#39;` .
</code></pre>

<a class="dashingAutolink" name="autolink-76"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Durations"></a><h3 id="durations">Durations</h3>

<p>Duration literals specify a length of time.
An integer literal followed immediately (with no spaces) by a duration unit listed below is interpreted as a duration literal.
Durations can be specified with mixed units.</p>

<h4 id="duration-units">Duration units</h4>

<table>
<thead>
<tr>
<th>Units</th>
<th>Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td>ns</td>
<td>nanoseconds (1 billionth of a second)</td>
</tr>

<tr>
<td>u or &micro;</td>
<td>microseconds (1 millionth of a second)</td>
</tr>

<tr>
<td>ms</td>
<td>milliseconds (1 thousandth of a second)</td>
</tr>

<tr>
<td>s</td>
<td>second</td>
</tr>

<tr>
<td>m</td>
<td>minute</td>
</tr>

<tr>
<td>h</td>
<td>hour</td>
</tr>

<tr>
<td>d</td>
<td>day</td>
</tr>

<tr>
<td>w</td>
<td>week</td>
</tr>
</tbody>
</table>

<pre><code>duration_lit        = int_lit duration_unit .
duration_unit       = &#34;ns&#34; | &#34;u&#34; | &#34;&micro;&#34; | &#34;ms&#34; | &#34;s&#34; | &#34;m&#34; | &#34;h&#34; | &#34;d&#34; | &#34;w&#34; .
</code></pre>

<a class="dashingAutolink" name="autolink-77"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Dates%20%26%20Times"></a><h3 id="dates-times">Dates &amp; Times</h3>

<p>The date and time literal format is not specified in EBNF like the rest of this document.
It is specified using Go&rsquo;s date / time parsing format, which is a reference date written in the format required by InfluxQL.
The reference date time is:</p>

<p>InfluxQL reference date time: January 2nd, 2006 at 3:04:05 PM</p>

<pre><code>time_lit            = &#34;2006-01-02 15:04:05.999999&#34; | &#34;2006-01-02&#34; .
</code></pre>

<a class="dashingAutolink" name="autolink-78"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Booleans"></a><h3 id="booleans">Booleans</h3>

<pre><code>bool_lit            = TRUE | FALSE .
</code></pre>

<a class="dashingAutolink" name="autolink-79"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Regular%20Expressions"></a><h3 id="regular-expressions">Regular Expressions</h3>

<pre><code>regex_lit           = &#34;/&#34; { unicode_char } &#34;/&#34; .
</code></pre>

<p><strong>Comparators:</strong>
<code>=~</code> matches against
<code>!~</code> doesn&rsquo;t match against</p>

<blockquote>
<p><strong>Note:</strong> InfluxQL supports using regular expressions when specifying:</p>

<ul>
<li><a href="../../concepts/glossary/index.html#field-key">field keys</a> and <a href="../../concepts/glossary/index.html#tag-key">tag keys</a> in the <a href="../data_exploration/index.html#the-basic-select-statement"><code>SELECT</code> clause</a></li>
<li><a href="../../concepts/glossary/index.html#measurement">measurements</a> in the <a href="../data_exploration/index.html#the-basic-select-statement"><code>FROM</code> clause</a></li>
<li><a href="../../concepts/glossary/index.html#tag-value">tag values</a> and string <a href="../../concepts/glossary/index.html#field-value">field values</a> in the <a href="../data_exploration/index.html#the-where-clause"><code>WHERE</code> clause</a>.</li>
<li><a href="../../concepts/glossary/index.html#tag-key">tag keys</a> in the <a href="../data_exploration/index.html#group-by-tags"><code>GROUP BY</code> clause</a></li>
</ul>

<p>Currently, InfluxQL does not support using regular expressions to match
non-string field values in the
<code>WHERE</code> clause,
<a href="../../concepts/glossary/index.html#database">databases</a>, and
<a href="../../concepts/glossary/index.html#retention-policy-rp">retention polices</a>.</p>
</blockquote>

<h2 id="queries">Queries</h2>

<p>A query is composed of one or more statements separated by a semicolon.</p>

<pre><code>query               = statement { &#34;;&#34; statement } .

statement           = alter_retention_policy_stmt |
                      create_continuous_query_stmt |
                      create_database_stmt |
                      create_retention_policy_stmt |
                      create_subscription_stmt |
                      create_user_stmt |
                      delete_stmt |
                      drop_continuous_query_stmt |
                      drop_database_stmt |
                      drop_measurement_stmt |
                      drop_retention_policy_stmt |
                      drop_series_stmt |
                      drop_shard_stmt |
                      drop_subscription_stmt |
                      drop_user_stmt |
                      explain_stmt |
                      explain_analyze_stmt |
                      grant_stmt |
                      kill_query_statement |
                      revoke_stmt |
                      select_stmt |
                      show_continuous_queries_stmt |
                      show_databases_stmt |
                      show_diagnostics_stmt |
                      show_field_key_cardinality_stmt |
                      show_field_keys_stmt |
                      show_grants_stmt |
                      show_measurement_cardinality_stmt |
                      show_measurement_exact_cardinality_stmt |
                      show_measurements_stmt |
                      show_queries_stmt |
                      show_retention_policies_stmt |
                      show_series_cardinality_stmt |
                      show_series_exact_cardinality_stmt |
                      show_series_stmt |
                      show_shard_groups_stmt |
                      show_shards_stmt |
                      show_stats_stmt |
                      show_subscriptions_stmt |
                      show_tag_key_cardinality_stmt |
                      show_tag_key_exact_cardinality_stmt |
                      show_tag_keys_stmt |
                      show_tag_values_stmt |
                      show_tag_values_cardinality_stmt |
                      show_users_stmt .
</code></pre>

<h2 id="statements">Statements</h2>

<a class="dashingAutolink" name="autolink-80"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/ALTER%20RETENTION%20POLICY"></a><h3 id="alter-retention-policy">ALTER RETENTION POLICY</h3>

<pre><code>alter_retention_policy_stmt  = &#34;ALTER RETENTION POLICY&#34; policy_name on_clause
                               retention_policy_option
                               [ retention_policy_option ]
                               [ retention_policy_option ]
                               [ retention_policy_option ] .
</code></pre>

<h4 id="examples-1">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- Set default retention policy for mydb to 1h.cpu.
</span><span class="c1"></span><span class="k">ALTER</span> <span class="n">RETENTION</span> <span class="n">POLICY</span> <span class="s2">&#34;1h.cpu&#34;</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span> <span class="k">DEFAULT</span>

<span class="c1">-- Change duration and replication factor.
</span><span class="c1">-- REPLICATION (replication factor) not valid for OSS instances.
</span><span class="c1"></span><span class="k">ALTER</span> <span class="n">RETENTION</span> <span class="n">POLICY</span> <span class="s2">&#34;policy1&#34;</span> <span class="k">ON</span> <span class="s2">&#34;somedb&#34;</span> <span class="n">DURATION</span> <span class="mi">1</span><span class="n">h</span> <span class="n">REPLICATION</span> <span class="mi">4</span></code></pre></div>
<a class="dashingAutolink" name="autolink-81"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/CREATE%20CONTINUOUS%20QUERY"></a><h3 id="create-continuous-query">CREATE CONTINUOUS QUERY</h3>

<pre><code>create_continuous_query_stmt = &#34;CREATE CONTINUOUS QUERY&#34; query_name on_clause
                               [ &#34;RESAMPLE&#34; resample_opts ]
                               &#34;BEGIN&#34; select_stmt &#34;END&#34; .

query_name                   = identifier .

resample_opts                = (every_stmt for_stmt | every_stmt | for_stmt) .
every_stmt                   = &#34;EVERY&#34; duration_lit
for_stmt                     = &#34;FOR&#34; duration_lit
</code></pre>

<h4 id="examples-2">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- selects from DEFAULT retention policy and writes into 6_months retention policy
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">CONTINUOUS</span> <span class="n">QUERY</span> <span class="s2">&#34;10m_event_count&#34;</span>
<span class="k">ON</span> <span class="s2">&#34;db_name&#34;</span>
<span class="k">BEGIN</span>
  <span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="s2">&#34;value&#34;</span><span class="p">)</span>
  <span class="k">INTO</span> <span class="s2">&#34;6_months&#34;</span><span class="p">.</span><span class="s2">&#34;events&#34;</span>
  <span class="k">FROM</span> <span class="s2">&#34;events&#34;</span>
  <span class="k">GROUP</span> <span class="p">(</span><span class="mi">10</span><span class="n">m</span><span class="p">)</span>
<span class="k">END</span><span class="p">;</span>

<span class="c1">-- this selects from the output of one continuous query in one retention policy and outputs to another series in another retention policy
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">CONTINUOUS</span> <span class="n">QUERY</span> <span class="s2">&#34;1h_event_count&#34;</span>
<span class="k">ON</span> <span class="s2">&#34;db_name&#34;</span>
<span class="k">BEGIN</span>
  <span class="k">SELECT</span> <span class="k">sum</span><span class="p">(</span><span class="s2">&#34;count&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="s2">&#34;count&#34;</span>
  <span class="k">INTO</span> <span class="s2">&#34;2_years&#34;</span><span class="p">.</span><span class="s2">&#34;events&#34;</span>
  <span class="k">FROM</span> <span class="s2">&#34;6_months&#34;</span><span class="p">.</span><span class="s2">&#34;events&#34;</span>
  <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span><span class="p">)</span>
<span class="k">END</span><span class="p">;</span>

<span class="c1">-- this customizes the resample interval so the interval is queried every 10s and intervals are resampled until 2m after their start time
</span><span class="c1">-- when resample is used, at least one of &#34;EVERY&#34; or &#34;FOR&#34; must be used
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">CONTINUOUS</span> <span class="n">QUERY</span> <span class="s2">&#34;cpu_mean&#34;</span>
<span class="k">ON</span> <span class="s2">&#34;db_name&#34;</span>
<span class="n">RESAMPLE</span> <span class="k">EVERY</span> <span class="mi">10</span><span class="n">s</span> <span class="k">FOR</span> <span class="mi">2</span><span class="n">m</span>
<span class="k">BEGIN</span>
  <span class="k">SELECT</span> <span class="n">mean</span><span class="p">(</span><span class="s2">&#34;value&#34;</span><span class="p">)</span>
  <span class="k">INTO</span> <span class="s2">&#34;cpu_mean&#34;</span>
  <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span>
  <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="n">m</span><span class="p">)</span>
<span class="k">END</span><span class="p">;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-82"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/CREATE%20DATABASE"></a><h3 id="create-database">CREATE DATABASE</h3>

<pre><code>create_database_stmt = &#34;CREATE DATABASE&#34; db_name
                       [ WITH
                           [ retention_policy_duration ]
                           [ retention_policy_replication ]
                           [ retention_policy_shard_group_duration ]
                           [ retention_policy_name ]
                       ] .
</code></pre>


<div class="warn">
  <p>Replication factors do not serve a purpose with single node instances.</p>

</div>


<h4 id="examples-3">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- Create a database called foo
</span><span class="c1"></span><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="s2">&#34;foo&#34;</span>

<span class="c1">-- Create a database called bar with a new DEFAULT retention policy and specify the duration, replication, shard group duration, and name of that retention policy
</span><span class="c1"></span><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="s2">&#34;bar&#34;</span> <span class="k">WITH</span> <span class="n">DURATION</span> <span class="mi">1</span><span class="n">d</span> <span class="n">REPLICATION</span> <span class="mi">1</span> <span class="n">SHARD</span> <span class="n">DURATION</span> <span class="mi">30</span><span class="n">m</span> <span class="n">NAME</span> <span class="s2">&#34;myrp&#34;</span>

<span class="c1">-- Create a database called mydb with a new DEFAULT retention policy and specify the name of that retention policy
</span><span class="c1"></span><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="s2">&#34;mydb&#34;</span> <span class="k">WITH</span> <span class="n">NAME</span> <span class="s2">&#34;myrp&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-83"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/CREATE%20RETENTION%20POLICY"></a><h3 id="create-retention-policy">CREATE RETENTION POLICY</h3>

<pre><code>create_retention_policy_stmt = &#34;CREATE RETENTION POLICY&#34; policy_name on_clause
                               retention_policy_duration
                               retention_policy_replication
                               [ retention_policy_shard_group_duration ]
                               [ &#34;DEFAULT&#34; ] .
</code></pre>


<div class="warn">
  <p>Replication factors do not serve a purpose with single node instances.</p>

</div>


<h4 id="examples-4">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- Create a retention policy.
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">RETENTION</span> <span class="n">POLICY</span> <span class="s2">&#34;10m.events&#34;</span> <span class="k">ON</span> <span class="s2">&#34;somedb&#34;</span> <span class="n">DURATION</span> <span class="mi">60</span><span class="n">m</span> <span class="n">REPLICATION</span> <span class="mi">2</span>

<span class="c1">-- Create a retention policy and set it as the DEFAULT.
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">RETENTION</span> <span class="n">POLICY</span> <span class="s2">&#34;10m.events&#34;</span> <span class="k">ON</span> <span class="s2">&#34;somedb&#34;</span> <span class="n">DURATION</span> <span class="mi">60</span><span class="n">m</span> <span class="n">REPLICATION</span> <span class="mi">2</span> <span class="k">DEFAULT</span>

<span class="c1">-- Create a retention policy and specify the shard group duration.
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">RETENTION</span> <span class="n">POLICY</span> <span class="s2">&#34;10m.events&#34;</span> <span class="k">ON</span> <span class="s2">&#34;somedb&#34;</span> <span class="n">DURATION</span> <span class="mi">60</span><span class="n">m</span> <span class="n">REPLICATION</span> <span class="mi">2</span> <span class="n">SHARD</span> <span class="n">DURATION</span> <span class="mi">30</span><span class="n">m</span></code></pre></div>
<a class="dashingAutolink" name="autolink-84"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/CREATE%20SUBSCRIPTION"></a><h3 id="create-subscription">CREATE SUBSCRIPTION</h3>

<p>Subscriptions tell InfluxDB to send all the data it receives to <a href="https://docs.influxdata.com/kapacitor/latest/introduction/">Kapacitor</a>.</p>

<pre><code>create_subscription_stmt = &#34;CREATE SUBSCRIPTION&#34; subscription_name &#34;ON&#34; db_name &#34;.&#34; retention_policy &#34;DESTINATIONS&#34; (&#34;ANY&#34;|&#34;ALL&#34;) host { &#34;,&#34; host} .
</code></pre>

<h4 id="examples-5">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- Create a SUBSCRIPTION on database &#39;mydb&#39; and retention policy &#39;autogen&#39; that send data to &#39;example.com:9090&#39; via UDP.
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">SUBSCRIPTION</span> <span class="s2">&#34;sub0&#34;</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span> <span class="n">DESTINATIONS</span> <span class="k">ALL</span> <span class="s1">&#39;udp://example.com:9090&#39;</span>

<span class="c1">-- Create a SUBSCRIPTION on database &#39;mydb&#39; and retention policy &#39;autogen&#39; that round robins the data to &#39;h1.example.com:9090&#39; and &#39;h2.example.com:9090&#39;.
</span><span class="c1"></span><span class="k">CREATE</span> <span class="n">SUBSCRIPTION</span> <span class="s2">&#34;sub0&#34;</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span> <span class="n">DESTINATIONS</span> <span class="k">ANY</span> <span class="s1">&#39;udp://h1.example.com:9090&#39;</span><span class="p">,</span> <span class="s1">&#39;udp://h2.example.com:9090&#39;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-85"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/CREATE%20USER"></a><h3 id="create-user">CREATE USER</h3>

<pre><code>create_user_stmt = &#34;CREATE USER&#34; user_name &#34;WITH PASSWORD&#34; password
                   [ &#34;WITH ALL PRIVILEGES&#34; ] .
</code></pre>

<h4 id="examples-6">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- Create a normal database user.
</span><span class="c1"></span><span class="k">CREATE</span> <span class="k">USER</span> <span class="s2">&#34;jdoe&#34;</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">&#39;1337password&#39;</span>

<span class="c1">-- Create an admin user.
</span><span class="c1">-- Note: Unlike the GRANT statement, the &#34;PRIVILEGES&#34; keyword is required here.
</span><span class="c1"></span><span class="k">CREATE</span> <span class="k">USER</span> <span class="s2">&#34;jdoe&#34;</span> <span class="k">WITH</span> <span class="n">PASSWORD</span> <span class="s1">&#39;1337password&#39;</span> <span class="k">WITH</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> The password string must be wrapped in single quotes.</p>
</blockquote>

<a class="dashingAutolink" name="autolink-86"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DELETE"></a><h3 id="delete">DELETE</h3>

<pre><code>delete_stmt = &#34;DELETE&#34; ( from_clause | where_clause | from_clause where_clause ) .
</code></pre>

<h4 id="examples-7">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DELETE</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span>
<span class="k">DELETE</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="s1">&#39;2000-01-01T00:00:00Z&#39;</span>
<span class="k">DELETE</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="s1">&#39;2000-01-01T00:00:00Z&#39;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-87"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20CONTINUOUS%20QUERY"></a><h3 id="drop-continuous-query">DROP CONTINUOUS QUERY</h3>

<pre><code>drop_continuous_query_stmt = &#34;DROP CONTINUOUS QUERY&#34; query_name on_clause .
</code></pre>

<h4 id="example">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DROP</span> <span class="n">CONTINUOUS</span> <span class="n">QUERY</span> <span class="s2">&#34;myquery&#34;</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-88"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20DATABASE"></a><h3 id="drop-database">DROP DATABASE</h3>

<pre><code>drop_database_stmt = &#34;DROP DATABASE&#34; db_name .
</code></pre>

<h4 id="example-1">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DROP</span> <span class="k">DATABASE</span> <span class="s2">&#34;mydb&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-89"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20MEASUREMENT"></a><h3 id="drop-measurement">DROP MEASUREMENT</h3>

<pre><code>drop_measurement_stmt = &#34;DROP MEASUREMENT&#34; measurement .
</code></pre>

<h4 id="examples-8">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- drop the cpu measurement
</span><span class="c1"></span><span class="k">DROP</span> <span class="n">MEASUREMENT</span> <span class="s2">&#34;cpu&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-90"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20RETENTION%20POLICY"></a><h3 id="drop-retention-policy">DROP RETENTION POLICY</h3>

<pre><code>drop_retention_policy_stmt = &#34;DROP RETENTION POLICY&#34; policy_name on_clause .
</code></pre>

<h4 id="example-2">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- drop the retention policy named 1h.cpu from mydb
</span><span class="c1"></span><span class="k">DROP</span> <span class="n">RETENTION</span> <span class="n">POLICY</span> <span class="s2">&#34;1h.cpu&#34;</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-91"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20SERIES"></a><h3 id="drop-series">DROP SERIES</h3>

<pre><code>drop_series_stmt = &#34;DROP SERIES&#34; ( from_clause | where_clause | from_clause where_clause ) .
</code></pre>

<blockquote>
<p><strong><em>Note:</em></strong> Filtering by time is not supported in the <code>WHERE</code> clause.</p>
</blockquote>

<h4 id="example-3">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DROP</span> <span class="n">SERIES</span> <span class="k">FROM</span> <span class="s2">&#34;telegraf&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="s2">&#34;cpu&#34;</span> <span class="k">WHERE</span> <span class="n">cpu</span> <span class="o">=</span> <span class="s1">&#39;cpu8&#39;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-92"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20SHARD"></a><h3 id="drop-shard">DROP SHARD</h3>

<pre><code>drop_shard_stmt = &#34;DROP SHARD&#34; ( shard_id ) .
</code></pre>

<h4 id="example-4">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DROP</span> <span class="n">SHARD</span> <span class="mi">1</span></code></pre></div>
<a class="dashingAutolink" name="autolink-93"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20SUBSCRIPTION"></a><h3 id="drop-subscription">DROP SUBSCRIPTION</h3>

<pre><code>drop_subscription_stmt = &#34;DROP SUBSCRIPTION&#34; subscription_name &#34;ON&#34; db_name &#34;.&#34; retention_policy .
</code></pre>

<h4 id="example-5">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DROP</span> <span class="n">SUBSCRIPTION</span> <span class="s2">&#34;sub0&#34;</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-94"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/DROP%20USER"></a><h3 id="drop-user">DROP USER</h3>

<pre><code>drop_user_stmt = &#34;DROP USER&#34; user_name .
</code></pre>

<h4 id="example-6">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">DROP</span> <span class="k">USER</span> <span class="s2">&#34;jdoe&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-95"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/EXPLAIN"></a><h3 id="explain">EXPLAIN</h3>

<p>Parses and plans the query, and then prints a summary of estimated costs.</p>

<p>Many SQL engines use the <code>EXPLAIN</code> statement to show join order, join algorithms, and predicate and expression pushdown.
Since InfluxQL does not support joins, the cost of a InfluxQL query is typically a function of the total series accessed, the number of iterator accesses to a TSM file, and the number of TSM blocks that need to be scanned.</p>

<p>The elements of <code>EXPLAIN</code> query plan include:</p>

<ul>
<li>expression</li>
<li>auxillary fields</li>
<li>number of shards</li>
<li>number of series</li>
<li>cached values</li>
<li>number of files</li>
<li>number of blocks</li>
<li>size of blocks</li>
</ul>

<pre><code>explain_stmt = &#34;EXPLAIN&#34; select_stmt .
</code></pre>

<h4 id="example-7">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">explain</span> <span class="k">select</span> <span class="k">sum</span><span class="p">(</span><span class="n">pointReq</span><span class="p">)</span> <span class="k">from</span> <span class="s2">&#34;_internal&#34;</span><span class="p">.</span><span class="s2">&#34;monitor&#34;</span><span class="p">.</span><span class="s2">&#34;write&#34;</span> <span class="k">group</span> <span class="k">by</span> <span class="n">hostname</span><span class="p">;</span>
<span class="o">&gt;</span> <span class="n">QUERY</span> <span class="n">PLAN</span>
<span class="c1">------
</span><span class="c1"></span><span class="n">EXPRESSION</span><span class="p">:</span> <span class="k">sum</span><span class="p">(</span><span class="n">pointReq</span><span class="p">::</span><span class="nb">integer</span><span class="p">)</span>
<span class="nb">NUMBER</span> <span class="k">OF</span> <span class="n">SHARDS</span><span class="p">:</span> <span class="mi">2</span>
<span class="nb">NUMBER</span> <span class="k">OF</span> <span class="n">SERIES</span><span class="p">:</span> <span class="mi">2</span>
<span class="n">CACHED</span> <span class="k">VALUES</span><span class="p">:</span> <span class="mi">110</span>
<span class="nb">NUMBER</span> <span class="k">OF</span> <span class="n">FILES</span><span class="p">:</span> <span class="mi">1</span>
<span class="nb">NUMBER</span> <span class="k">OF</span> <span class="n">BLOCKS</span><span class="p">:</span> <span class="mi">1</span>
<span class="k">SIZE</span> <span class="k">OF</span> <span class="n">BLOCKS</span><span class="p">:</span> <span class="mi">931</span></code></pre></div>
<a class="dashingAutolink" name="autolink-96"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/EXPLAIN%20ANALYZE"></a><h3 id="explain-analyze">EXPLAIN ANALYZE</h3>

<p>Executes the query and counts the actual costs during runtime.</p>

<pre><code>explain_analyze_stmt = &#34;EXPLAIN ANALYZE&#34; select_stmt .
</code></pre>

<h4 id="example-8">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">explain</span> <span class="k">analyze</span> <span class="k">select</span> <span class="k">sum</span><span class="p">(</span><span class="n">pointReq</span><span class="p">)</span> <span class="k">from</span> <span class="s2">&#34;_internal&#34;</span><span class="p">.</span><span class="s2">&#34;monitor&#34;</span><span class="p">.</span><span class="s2">&#34;write&#34;</span> <span class="k">group</span> <span class="k">by</span> <span class="n">hostname</span><span class="p">;</span>
<span class="o">&gt;</span> <span class="k">EXPLAIN</span> <span class="k">ANALYZE</span>
<span class="c1">-----------
</span><span class="c1"></span><span class="p">.</span>
<span class="err">‚îî‚îÄ‚îÄ</span> <span class="k">select</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">execution_time</span><span class="p">:</span> <span class="mi">242</span><span class="p">.</span><span class="mi">167</span><span class="err">&micro;</span><span class="n">s</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">planning_time</span><span class="p">:</span> <span class="mi">2</span><span class="p">.</span><span class="mi">165637</span><span class="n">ms</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">total_time</span><span class="p">:</span> <span class="mi">2</span><span class="p">.</span><span class="mi">407804</span><span class="n">ms</span>
<span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">field_iterators</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">labels</span>
<span class="err">‚îÇ</span>   <span class="err">‚îî‚îÄ‚îÄ</span> <span class="k">statement</span><span class="p">:</span> <span class="k">SELECT</span> <span class="k">sum</span><span class="p">(</span><span class="n">pointReq</span><span class="p">::</span><span class="nb">integer</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;_internal&#34;</span><span class="p">.</span><span class="s2">&#34;monitor&#34;</span><span class="p">.</span><span class="s2">&#34;write&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">hostname</span>
<span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">expression</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">labels</span>
<span class="err">‚îÇ</span>   <span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">expr</span><span class="p">:</span> <span class="k">sum</span><span class="p">(</span><span class="n">pointReq</span><span class="p">::</span><span class="nb">integer</span><span class="p">)</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">create_iterator</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">labels</span>
<span class="err">‚îÇ</span>   <span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">measurement</span><span class="p">:</span> <span class="k">write</span>
<span class="err">‚îÇ</span>   <span class="err">‚îÇ</span>   <span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">shard_id</span><span class="p">:</span> <span class="mi">57</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">cursors_ref</span><span class="p">:</span> <span class="mi">1</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">cursors_aux</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">cursors_cond</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">float_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">float_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">integer_blocks_decoded</span><span class="p">:</span> <span class="mi">1</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">integer_blocks_size_bytes</span><span class="p">:</span> <span class="mi">931</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">unsigned_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">unsigned_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">string_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">string_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">boolean_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">boolean_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îÇ</span>   <span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">planning_time</span><span class="p">:</span> <span class="mi">1</span><span class="p">.</span><span class="mi">401099</span><span class="n">ms</span>
<span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">create_iterator</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">labels</span>
<span class="err">‚îÇ</span>   <span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">measurement</span><span class="p">:</span> <span class="k">write</span>
<span class="err">‚îÇ</span>   <span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">shard_id</span><span class="p">:</span> <span class="mi">58</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">cursors_ref</span><span class="p">:</span> <span class="mi">1</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">cursors_aux</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">cursors_cond</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">float_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">float_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">integer_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">integer_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">unsigned_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">unsigned_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">string_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">string_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">boolean_blocks_decoded</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îú‚îÄ‚îÄ</span> <span class="n">boolean_blocks_size_bytes</span><span class="p">:</span> <span class="mi">0</span>
<span class="err">‚îî‚îÄ‚îÄ</span> <span class="n">planning_time</span><span class="p">:</span> <span class="mi">76</span><span class="p">.</span><span class="mi">192</span><span class="err">&micro;</span><span class="n">s</span></code></pre></div>
<a class="dashingAutolink" name="autolink-97"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/GRANT"></a><h3 id="grant">GRANT</h3>

<blockquote>
<p><strong>NOTE:</strong> Users can be granted privileges on databases that do not exist.</p>
</blockquote>

<pre><code>grant_stmt = &#34;GRANT&#34; privilege [ on_clause ] to_clause .
</code></pre>

<h4 id="examples-9">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- grant admin privileges
</span><span class="c1"></span><span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">TO</span> <span class="s2">&#34;jdoe&#34;</span>

<span class="c1">-- grant read access to a database
</span><span class="c1"></span><span class="k">GRANT</span> <span class="k">READ</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span> <span class="k">TO</span> <span class="s2">&#34;jdoe&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-98"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/KILL%20QUERY"></a><h3 id="kill-query">KILL QUERY</h3>

<p>Stop currently-running query.</p>

<pre><code>kill_query_statement = &#34;KILL QUERY&#34; query_id .
</code></pre>

<p>Where <code>query_id</code> is the query ID, displayed in the <a href="../../troubleshooting/query_management/index.html#list-currently-running-queries-with-show-queries"><code>SHOW QUERIES</code></a> output as <code>qid</code>.</p>

<blockquote>
<p><strong><em>InfluxDB Enterprise clusters:</em></strong> To kill queries on a cluster, you need to specify the query ID (qid) and the TCP host (for example, <code>myhost:8088</code>),
available in the <code>SHOW QUERIES</code> output.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">KILL</span> <span class="n">QUERY</span> <span class="o">&lt;</span><span class="n">qid</span><span class="o">&gt;</span> <span class="k">ON</span> <span class="s2">&#34;&lt;host&gt;&#34;</span></code></pre></div></blockquote>

<h4 id="examples-10">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- kill query with qid of 36 on the local host
</span><span class="c1"></span><span class="n">KILL</span> <span class="n">QUERY</span> <span class="mi">36</span></code></pre></div><div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- kill query on InfluxDB Enterprise cluster
</span><span class="c1"></span><span class="n">KILL</span> <span class="n">QUERY</span> <span class="mi">53</span> <span class="k">ON</span> <span class="s2">&#34;myhost:8088&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-99"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/REVOKE"></a><h3 id="revoke">REVOKE</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">revoke_stmt</span> <span class="o">=</span> <span class="s2">&#34;REVOKE&#34;</span> <span class="n">privilege</span> <span class="p">[</span> <span class="n">on_clause</span> <span class="p">]</span> <span class="s2">&#34;FROM&#34;</span> <span class="n">user_name</span> <span class="p">.</span></code></pre></div>
<h4 id="examples-11">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- revoke admin privileges from jdoe
</span><span class="c1"></span><span class="k">REVOKE</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">FROM</span> <span class="s2">&#34;jdoe&#34;</span>

<span class="c1">-- revoke read privileges from jdoe on mydb
</span><span class="c1"></span><span class="k">REVOKE</span> <span class="k">READ</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;jdoe&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-100"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SELECT"></a><h3 id="select">SELECT</h3>

<pre><code>select_stmt = &#34;SELECT&#34; fields from_clause [ into_clause ] [ where_clause ]
              [ group_by_clause ] [ order_by_clause ] [ limit_clause ]
              [ offset_clause ] [ slimit_clause ] [ soffset_clause ] [ timezone_clause ] .
</code></pre>

<h4 id="examples-12">Examples</h4>

<p>Select from all measurements beginning with cpu into the same measurement name in the cpu_1h retention policy</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">mean</span><span class="p">(</span><span class="s2">&#34;value&#34;</span><span class="p">)</span> <span class="k">INTO</span> <span class="s2">&#34;cpu_1h&#34;</span><span class="p">.:</span><span class="n">MEASUREMENT</span> <span class="k">FROM</span> <span class="o">/</span><span class="n">cpu</span><span class="p">.</span><span class="o">*/</span></code></pre></div>
<p>Select from measurements grouped by the day with a timezone</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">mean</span><span class="p">(</span><span class="s2">&#34;value&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">region</span><span class="p">,</span> <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="n">d</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="n">tz</span><span class="p">(</span><span class="s1">&#39;America/Chicago&#39;</span><span class="p">)</span></code></pre></div>
<a class="dashingAutolink" name="autolink-101"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20CARDINALITY"></a><h3 id="show-cardinality">SHOW CARDINALITY</h3>

<p>Refers to the group of commands used to estimate or count exactly the cardinality of measurements, series, tag keys, tag key values, and field keys.</p>

<p>The SHOW CARDINALITY commands are available in two variations: estimated and exact. Estimated values are calculated using sketches and are a safe default for all cardinality sizes. Exact values are counts directly from TSM (Time-Structured Merge Tree) data, but are expensive to run for high cardinality data.  Unless required, use the estimated variety.</p>

<p>Filtering by <code>time</code> is only supported when Time Series Index (TSI) is enabled on a database.</p>

<p>See the specific SHOW CARDINALITY commands for details:</p>

<ul>
<li><a href="index.html#show-field-key-cardinality">SHOW FIELD KEY CARDINALITY</a></li>
<li><a href="index.html#show-measurement-cardinality">SHOW MEASUREMENT CARDINALITY</a></li>
<li><a href="index.html#show-series-cardinality">SHOW SERIES CARDINALITY</a></li>
<li><a href="index.html#show-tag-key-cardinality">SHOW TAG KEY CARDINALITY</a></li>
<li><a href="index.html#show-tag-values-cardinality">SHOW TAG VALUES CARDINALITY</a></li>
</ul>

<a class="dashingAutolink" name="autolink-102"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20CONTINUOUS%20QUERIES"></a><h3 id="show-continuous-queries">SHOW CONTINUOUS QUERIES</h3>

<pre><code>show_continuous_queries_stmt = &#34;SHOW CONTINUOUS QUERIES&#34; .
</code></pre>

<h4 id="example-9">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all continuous queries
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">CONTINUOUS</span> <span class="n">QUERIES</span></code></pre></div>
<a class="dashingAutolink" name="autolink-103"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20DATABASES"></a><h3 id="show-databases">SHOW DATABASES</h3>

<pre><code>show_databases_stmt = &#34;SHOW DATABASES&#34; .
</code></pre>

<h4 id="example-10">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all databases
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">DATABASES</span></code></pre></div>
<a class="dashingAutolink" name="autolink-104"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20DIAGNOSTICS"></a><h3 id="show-diagnostics">SHOW DIAGNOSTICS</h3>

<p>Displays node information, such as build information, uptime, hostname, server configuration, memory usage, and Go runtime diagnostics.</p>

<p>For more information on using the <code>SHOW DIAGNOSTICS</code> command, see <a href="https://docs.influxdata.com/platform/monitoring/influxdata-platform/tools/show-diagnostics/">Using the SHOW DIAGNOSTICS command for monitoring InfluxDB</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">show_diagnostics_stmt</span> <span class="o">=</span> <span class="s2">&#34;SHOW DIAGNOSTICS&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-105"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20FIELD%20KEY%20CARDINALITY"></a><h3 id="show-field-key-cardinality">SHOW FIELD KEY CARDINALITY</h3>

<p>Estimates or counts exactly the cardinality of the field key set for the current database unless a database is specified using the <code>ON &lt;database&gt;</code> option.</p>

<blockquote>
<p><strong>Note:</strong> <code>ON &lt;database&gt;</code>, <code>FROM &lt;sources&gt;</code>, <code>WITH KEY = &lt;key&gt;</code>, <code>WHERE &lt;condition&gt;</code>, <code>GROUP BY &lt;dimensions&gt;</code>, and <code>LIMIT/OFFSET</code> clauses are optional.
When using these query clauses, the query falls back to an exact count.
Filtering by <code>time</code> is only supported when Time Series Index (TSI) is enabled and <code>time</code> is not supported in the <code>WHERE</code> clause.</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">show_field_key_cardinality_stmt</span> <span class="o">=</span> <span class="s2">&#34;SHOW FIELD KEY CARDINALITY&#34;</span> <span class="p">[</span> <span class="n">on_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">from_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">where_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">group_by_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">limit_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">offset_clause</span> <span class="p">]</span>

<span class="n">show_field_key_exact_cardinality_stmt</span> <span class="o">=</span> <span class="s2">&#34;SHOW FIELD KEY EXACT CARDINALITY&#34;</span> <span class="p">[</span> <span class="n">on_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">from_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">where_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">group_by_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">limit_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">offset_clause</span> <span class="p">]</span></code></pre></div>
<h4 id="examples-13">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show estimated cardinality of the field key set of current database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">FIELD</span> <span class="k">KEY</span> <span class="k">CARDINALITY</span>
<span class="c1">-- show exact cardinality on field key set of specified database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">FIELD</span> <span class="k">KEY</span> <span class="n">EXACT</span> <span class="k">CARDINALITY</span> <span class="k">ON</span> <span class="n">mydb</span></code></pre></div>
<a class="dashingAutolink" name="autolink-106"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20FIELD%20KEYS"></a><h3 id="show-field-keys">SHOW FIELD KEYS</h3>

<pre><code>show_field_keys_stmt = &#34;SHOW FIELD KEYS&#34; [on_clause] [ from_clause ] .
</code></pre>

<h4 id="examples-14">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show field keys and field value data types from all measurements
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">FIELD</span> <span class="n">KEYS</span>

<span class="c1">-- show field keys and field value data types from specified measurement
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">FIELD</span> <span class="n">KEYS</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-107"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20GRANTS"></a><h3 id="show-grants">SHOW GRANTS</h3>

<pre><code>show_grants_stmt = &#34;SHOW GRANTS FOR&#34; user_name .
</code></pre>

<h4 id="example-11">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show grants for jdoe
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">GRANTS</span> <span class="k">FOR</span> <span class="s2">&#34;jdoe&#34;</span></code></pre></div>
<h4 id="show-measurement-cardinality">SHOW MEASUREMENT CARDINALITY</h4>

<p>Estimates or counts exactly the cardinality of the measurement set for the current database unless a database is specified using the <code>ON &lt;database&gt;</code> option.</p>

<blockquote>
<p><strong>Note:</strong> <code>ON &lt;database&gt;</code>, <code>FROM &lt;sources&gt;</code>, <code>WITH KEY = &lt;key&gt;</code>, <code>WHERE &lt;condition&gt;</code>, <code>GROUP BY &lt;dimensions&gt;</code>, and <code>LIMIT/OFFSET</code> clauses are optional.
When using these query clauses, the query falls back to an exact count.
Filtering by <code>time</code> is only supported when TSI (Time Series Index) is enabled and <code>time</code> is not supported in the <code>WHERE</code> clause.</p>
</blockquote>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">show_measurement_cardinality_stmt</span> <span class="o">=</span> <span class="s2">&#34;SHOW MEASUREMENT CARDINALITY&#34;</span> <span class="p">[</span> <span class="n">on_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">from_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">where_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">group_by_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">limit_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">offset_clause</span> <span class="p">]</span>

<span class="n">show_measurement_exact_cardinality_stmt</span> <span class="o">=</span> <span class="s2">&#34;SHOW MEASUREMENT EXACT CARDINALITY&#34;</span> <span class="p">[</span> <span class="n">on_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">from_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">where_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">group_by_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">limit_clause</span> <span class="p">]</span> <span class="p">[</span> <span class="n">offset_clause</span> <span class="p">]</span></code></pre></div>
<h4 id="example-12">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show estimated cardinality of measurement set on current database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">MEASUREMENT</span> <span class="k">CARDINALITY</span>
<span class="c1">-- show exact cardinality of measurement set on specified database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">MEASUREMENT</span> <span class="n">EXACT</span> <span class="k">CARDINALITY</span> <span class="k">ON</span> <span class="n">mydb</span></code></pre></div>
<a class="dashingAutolink" name="autolink-108"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20MEASUREMENTS"></a><h3 id="show-measurements">SHOW MEASUREMENTS</h3>

<pre><code>show_measurements_stmt = &#34;SHOW MEASUREMENTS&#34; [on_clause] [ with_measurement_clause ] [ where_clause ] [ limit_clause ] [ offset_clause ] .
</code></pre>

<h4 id="examples-15">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all measurements
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">MEASUREMENTS</span>

<span class="c1">-- show measurements where region tag = &#39;uswest&#39; AND host tag = &#39;serverA&#39;
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">MEASUREMENTS</span> <span class="k">WHERE</span> <span class="s2">&#34;region&#34;</span> <span class="o">=</span> <span class="s1">&#39;uswest&#39;</span> <span class="k">AND</span> <span class="s2">&#34;host&#34;</span> <span class="o">=</span> <span class="s1">&#39;serverA&#39;</span>

<span class="c1">-- show measurements that start with &#39;h2o&#39;
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">MEASUREMENTS</span> <span class="k">WITH</span> <span class="n">MEASUREMENT</span> <span class="o">=~</span> <span class="o">/</span><span class="n">h2o</span><span class="p">.</span><span class="o">*/</span></code></pre></div>
<a class="dashingAutolink" name="autolink-109"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20QUERIES"></a><h3 id="show-queries">SHOW QUERIES</h3>

<pre><code>show_queries_stmt = &#34;SHOW QUERIES&#34; .
</code></pre>

<h4 id="example-13">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all currently-running queries
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">QUERIES</span>
<span class="c1">--</span></code></pre></div>
<a class="dashingAutolink" name="autolink-110"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20RETENTION%20POLICIES"></a><h3 id="show-retention-policies">SHOW RETENTION POLICIES</h3>

<pre><code>show_retention_policies_stmt = &#34;SHOW RETENTION POLICIES&#34; [on_clause] .
</code></pre>

<h4 id="example-14">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all retention policies on a database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">RETENTION</span> <span class="n">POLICIES</span> <span class="k">ON</span> <span class="s2">&#34;mydb&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-111"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20SERIES"></a><h3 id="show-series">SHOW SERIES</h3>

<pre><code>show_series_stmt = &#34;SHOW SERIES&#34; [on_clause] [ from_clause ] [ where_clause ] [ limit_clause ] [ offset_clause ] .
</code></pre>

<h4 id="example-15">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SHOW</span> <span class="n">SERIES</span> <span class="k">FROM</span> <span class="s2">&#34;telegraf&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="s2">&#34;cpu&#34;</span> <span class="k">WHERE</span> <span class="n">cpu</span> <span class="o">=</span> <span class="s1">&#39;cpu8&#39;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-112"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20SERIES%20CARDINALITY"></a><h3 id="show-series-cardinality">SHOW SERIES CARDINALITY</h3>

<p>Estimates or counts exactly the cardinality of the series for the current database unless a database is specified using the <code>ON &lt;database&gt;</code> option.</p>

<p><a href="../../concepts/glossary/index.html#series-cardinality">Series cardinality</a> is the major factor that affects RAM requirements. For more information, see:</p>

<ul>
<li><a href="../../guides/hardware_sizing/index.html#when-do-i-need-more-ram">When do I need more RAM?</a> in <a href="../../guides/hardware_sizing/index.html">Hardware Sizing Guidelines</a></li>
<li><a href="../../concepts/schema_and_data_layout/index.html#don-t-have-too-many-series">Don&rsquo;t have too many series</a></li>
</ul>

<blockquote>
<p><strong>Note:</strong> <code>ON &lt;database&gt;</code>, <code>FROM &lt;sources&gt;</code>, <code>WITH KEY = &lt;key&gt;</code>, <code>WHERE &lt;condition&gt;</code>, <code>GROUP BY &lt;dimensions&gt;</code>, and <code>LIMIT/OFFSET</code> clauses are optional.
When using these query clauses, the query falls back to an exact count.
Filtering by <code>time</code> is not supported in the <code>WHERE</code> clause.</p>
</blockquote>

<pre><code>show_series_cardinality_stmt = &#34;SHOW SERIES CARDINALITY&#34; [ on_clause ] [ from_clause ] [ where_clause ] [ group_by_clause ] [ limit_clause ] [ offset_clause ]

show_series_exact_cardinality_stmt = &#34;SHOW SERIES EXACT CARDINALITY&#34; [ on_clause ] [ from_clause ] [ where_clause ] [ group_by_clause ] [ limit_clause ] [ offset_clause ]
</code></pre>

<h4 id="examples-16">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show estimated cardinality of the series on current database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">SERIES</span> <span class="k">CARDINALITY</span>
<span class="c1">-- show estimated cardinality of the series on specified database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">SERIES</span> <span class="k">CARDINALITY</span> <span class="k">ON</span> <span class="n">mydb</span>
<span class="c1">-- show exact series cardinality
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">SERIES</span> <span class="n">EXACT</span> <span class="k">CARDINALITY</span>
<span class="c1">-- show series cardinality of the series on specified database
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">SERIES</span> <span class="n">EXACT</span> <span class="k">CARDINALITY</span> <span class="k">ON</span> <span class="n">mydb</span></code></pre></div>
<a class="dashingAutolink" name="autolink-113"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20SHARD%20GROUPS"></a><h3 id="show-shard-groups">SHOW SHARD GROUPS</h3>

<pre><code>show_shard_groups_stmt = &#34;SHOW SHARD GROUPS&#34; .
</code></pre>

<h4 id="example-16">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SHOW</span> <span class="n">SHARD</span> <span class="n">GROUPS</span></code></pre></div>
<a class="dashingAutolink" name="autolink-114"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20SHARDS"></a><h3 id="show-shards">SHOW SHARDS</h3>

<pre><code>show_shards_stmt = &#34;SHOW SHARDS&#34; .
</code></pre>

<h4 id="example-17">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SHOW</span> <span class="n">SHARDS</span></code></pre></div>
<a class="dashingAutolink" name="autolink-115"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20STATS"></a><h3 id="show-stats">SHOW STATS</h3>

<p>Returns detailed statistics on available components of an InfluxDB node and available (enabled) components.</p>

<p>For more information on using the <code>SHOW STATS</code> command, see <a href="https://docs.influxdata.com/platform/monitoring/tools/show-stats/">Using the SHOW STATS command to monitor InfluxDB</a>.</p>

<pre><code>show_stats_stmt = &#34;SHOW STATS [ FOR &#39;&lt;component&gt;&#39; | &#39;indexes&#39; ]&#34;
</code></pre>

<h4 id="show-stats-1"><code>SHOW STATS</code></h4>

<ul>
<li>The <code>SHOW STATS</code> command does not list index memory usage &ndash; use the <a href="index.html#show-stats-for-indexes"><code>SHOW STATS FOR &#39;indexes&#39;</code></a> command.</li>
<li>Statistics returned by <code>SHOW STATS</code> are stored in memory and reset to zero when the node is restarted, but <code>SHOW STATS</code> is triggered every 10 seconds to populate the <code>_internal</code> database.</li>
</ul>

<h4 id="show-stats-for-component"><code>SHOW STATS FOR &lt;component&gt;</code></h4>

<ul>
<li>For the specified component (&lt;component&gt;), the command returns available statistics.</li>
<li>For the <code>runtime</code> component, the command returns an overview of memory usage by the InfluxDB system, using the <a href="https://golang.org/pkg/runtime/">Go runtime</a> package.</li>
</ul>

<h4 id="show-stats-for-indexes"><code>SHOW STATS FOR &#39;indexes&#39;</code></h4>

<ul>
<li>Returns an estimate of memory use of all indexes. Index memory use is not reported with <code>SHOW STATS</code> because it is a potentially expensive operation.</li>
</ul>

<h4 id="example-18">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">show</span> <span class="n">stats</span>
<span class="n">name</span><span class="p">:</span> <span class="n">runtime</span>
<span class="c1">-------------
</span><span class="c1"></span><span class="n">Alloc</span>   <span class="n">Frees</span>   <span class="n">HeapAlloc</span>       <span class="n">HeapIdle</span>        <span class="n">HeapInUse</span>       <span class="n">HeapObjects</span>     <span class="n">HeapReleased</span>    <span class="n">HeapSys</span>         <span class="n">Lookups</span> <span class="n">Mallocs</span> <span class="n">NumGC</span>   <span class="n">NumGoroutine</span>    <span class="n">PauseTotalNs</span>    <span class="n">Sys</span>             <span class="n">TotalAlloc</span>
<span class="mi">4136056</span> <span class="mi">6684537</span> <span class="mi">4136056</span>         <span class="mi">34586624</span>        <span class="mi">5816320</span>         <span class="mi">49412</span>           <span class="mi">0</span>               <span class="mi">40402944</span>        <span class="mi">110</span>     <span class="mi">6733949</span> <span class="mi">83</span>      <span class="mi">44</span>              <span class="mi">36083006</span>        <span class="mi">46692600</span>        <span class="mi">439945704</span>


<span class="n">name</span><span class="p">:</span> <span class="n">graphite</span>
<span class="n">tags</span><span class="p">:</span> <span class="n">proto</span><span class="o">=</span><span class="n">tcp</span>
<span class="n">batches_tx</span>      <span class="n">bytes_rx</span>        <span class="n">connections_active</span>      <span class="n">connections_handled</span>     <span class="n">points_rx</span>       <span class="n">points_tx</span>
<span class="c1">----------      --------        ------------------      -------------------     ---------       ---------
</span><span class="c1"></span><span class="mi">159</span>             <span class="mi">3999750</span>         <span class="mi">0</span>                       <span class="mi">1</span>                       <span class="mi">158110</span>          <span class="mi">158110</span></code></pre></div>
<a class="dashingAutolink" name="autolink-116"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20SUBSCRIPTIONS"></a><h3 id="show-subscriptions">SHOW SUBSCRIPTIONS</h3>

<pre><code>show_subscriptions_stmt = &#34;SHOW SUBSCRIPTIONS&#34; .
</code></pre>

<h4 id="example-19">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SHOW</span> <span class="n">SUBSCRIPTIONS</span></code></pre></div>
<h4 id="show-tag-key-cardinality">SHOW TAG KEY CARDINALITY</h4>

<p>Estimates or counts exactly the cardinality of tag key set on the current database unless a database is specified using the <code>ON &lt;database&gt;</code> option.</p>

<blockquote>
<p><strong>Note:</strong> <code>ON &lt;database&gt;</code>, <code>FROM &lt;sources&gt;</code>, <code>WITH KEY = &lt;key&gt;</code>, <code>WHERE &lt;condition&gt;</code>, <code>GROUP BY &lt;dimensions&gt;</code>, and <code>LIMIT/OFFSET</code> clauses are optional.
When using these query clauses, the query falls back to an exact count.
Filtering by <code>time</code> is only supported when TSI (Time Series Index) is enabled and <code>time</code> is not supported in the <code>WHERE</code> clause.</p>
</blockquote>

<pre><code>show_tag_key_cardinality_stmt = &#34;SHOW TAG KEY CARDINALITY&#34; [ on_clause ] [ from_clause ] [ where_clause ] [ group_by_clause ] [ limit_clause ] [ offset_clause ]

show_tag_key_exact_cardinality_stmt = &#34;SHOW TAG KEY EXACT CARDINALITY&#34; [ on_clause ] [ from_clause ] [ where_clause ] [ group_by_clause ] [ limit_clause ] [ offset_clause ]
</code></pre>

<h4 id="examples-17">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show estimated tag key cardinality
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">KEY</span> <span class="k">CARDINALITY</span>
<span class="c1">-- show exact tag key cardinality
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">KEY</span> <span class="n">EXACT</span> <span class="k">CARDINALITY</span></code></pre></div>
<a class="dashingAutolink" name="autolink-117"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20TAG%20KEYS"></a><h3 id="show-tag-keys">SHOW TAG KEYS</h3>

<pre><code>show_tag_keys_stmt = &#34;SHOW TAG KEYS&#34; [on_clause] [ from_clause ] [ where_clause ]
                     [ limit_clause ] [ offset_clause ] .
</code></pre>

<h4 id="examples-18">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all tag keys
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="n">KEYS</span>

<span class="c1">-- show all tag keys from the cpu measurement
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="n">KEYS</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span>

<span class="c1">-- show all tag keys from the cpu measurement where the region key = &#39;uswest&#39;
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="n">KEYS</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;region&#34;</span> <span class="o">=</span> <span class="s1">&#39;uswest&#39;</span>

<span class="c1">-- show all tag keys where the host key = &#39;serverA&#39;
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="n">KEYS</span> <span class="k">WHERE</span> <span class="s2">&#34;host&#34;</span> <span class="o">=</span> <span class="s1">&#39;serverA&#39;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-118"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20TAG%20VALUES"></a><h3 id="show-tag-values">SHOW TAG VALUES</h3>

<pre><code>show_tag_values_stmt = &#34;SHOW TAG VALUES&#34; [on_clause] [ from_clause ] with_tag_clause [ where_clause ]
                       [ limit_clause ] [ offset_clause ] .
</code></pre>

<h4 id="examples-19">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all tag values across all measurements for the region tag
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="o">=</span> <span class="s2">&#34;region&#34;</span>

<span class="c1">-- show tag values from the cpu measurement for the region tag
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="o">=</span> <span class="s2">&#34;region&#34;</span>

<span class="c1">-- show tag values across all measurements for all tag keys that do not include the letter c
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="o">!~</span> <span class="o">/</span><span class="p">.</span><span class="o">*</span><span class="k">c</span><span class="p">.</span><span class="o">*/</span>

<span class="c1">-- show tag values from the cpu measurement for region &amp; host tag keys where service = &#39;redis&#39;
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="k">FROM</span> <span class="s2">&#34;cpu&#34;</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="k">IN</span> <span class="p">(</span><span class="s2">&#34;region&#34;</span><span class="p">,</span> <span class="s2">&#34;host&#34;</span><span class="p">)</span> <span class="k">WHERE</span> <span class="s2">&#34;service&#34;</span> <span class="o">=</span> <span class="s1">&#39;redis&#39;</span></code></pre></div>
<h4 id="show-tag-values-cardinality">SHOW TAG VALUES CARDINALITY</h4>

<p>Estimates or counts exactly the cardinality of tag key values for the specified tag key on the current database unless a database is specified using the <code>ON &lt;database&gt;</code> option.</p>

<blockquote>
<p><strong>Note:</strong> <code>ON &lt;database&gt;</code>, <code>FROM &lt;sources&gt;</code>, <code>WITH KEY = &lt;key&gt;</code>, <code>WHERE &lt;condition&gt;</code>, <code>GROUP BY &lt;dimensions&gt;</code>, and <code>LIMIT/OFFSET</code> clauses are optional.
When using these query clauses, the query falls back to an exact count.
Filtering by <code>time</code> is only supported when TSI (Time Series Index) is enabled.</p>
</blockquote>

<pre><code>show_tag_values_cardinality_stmt = &#34;SHOW TAG VALUES CARDINALITY&#34; [ on_clause ] [ from_clause ] [ where_clause ] [ group_by_clause ] [ limit_clause ] [ offset_clause ] with_key_clause

show_tag_values_exact_cardinality_stmt = &#34;SHOW TAG VALUES EXACT CARDINALITY&#34; [ on_clause ] [ from_clause ] [ where_clause ] [ group_by_clause ] [ limit_clause ] [ offset_clause ] with_key_clause
</code></pre>

<h4 id="examples-20">Examples</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show estimated tag key values cardinality for a specified tag key
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="k">CARDINALITY</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="o">=</span> <span class="s2">&#34;myTagKey&#34;</span>
<span class="c1">-- show estimated tag key values cardinality for a specified tag key
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="k">CARDINALITY</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="o">=</span> <span class="s2">&#34;myTagKey&#34;</span>
<span class="c1">-- show exact tag key values cardinality for a specified tag key
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="n">EXACT</span> <span class="k">CARDINALITY</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="o">=</span> <span class="s2">&#34;myTagKey&#34;</span>
<span class="c1">-- show exact tag key values cardinality for a specified tag key
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">TAG</span> <span class="k">VALUES</span> <span class="n">EXACT</span> <span class="k">CARDINALITY</span> <span class="k">WITH</span> <span class="k">KEY</span> <span class="o">=</span> <span class="s2">&#34;myTagKey&#34;</span></code></pre></div>
<a class="dashingAutolink" name="autolink-119"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/SHOW%20USERS"></a><h3 id="show-users">SHOW USERS</h3>

<pre><code>show_users_stmt = &#34;SHOW USERS&#34; .
</code></pre>

<h4 id="example-20">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="c1">-- show all users
</span><span class="c1"></span><span class="k">SHOW</span> <span class="n">USERS</span></code></pre></div>
<h2 id="clauses">Clauses</h2>

<pre><code>from_clause     = &#34;FROM&#34; measurements .

group_by_clause = &#34;GROUP BY&#34; dimensions fill(fill_option).

into_clause     = &#34;INTO&#34; ( measurement | back_ref ).

limit_clause    = &#34;LIMIT&#34; int_lit .

offset_clause   = &#34;OFFSET&#34; int_lit .

slimit_clause   = &#34;SLIMIT&#34; int_lit .

soffset_clause  = &#34;SOFFSET&#34; int_lit .

timezone_clause = tz(string_lit) .

on_clause       = &#34;ON&#34; db_name .

order_by_clause = &#34;ORDER BY&#34; sort_fields .

to_clause       = &#34;TO&#34; user_name .

where_clause    = &#34;WHERE&#34; expr .

with_measurement_clause = &#34;WITH MEASUREMENT&#34; ( &#34;=&#34; measurement | &#34;=~&#34; regex_lit ) .

with_tag_clause = &#34;WITH KEY&#34; ( &#34;=&#34; tag_key | &#34;!=&#34; tag_key | &#34;=~&#34; regex_lit | &#34;IN (&#34; tag_keys &#34;)&#34;  ) .
</code></pre>

<h2 id="expressions">Expressions</h2>

<pre><code>binary_op        = &#34;+&#34; | &#34;-&#34; | &#34;*&#34; | &#34;/&#34; | &#34;%&#34; | &#34;&amp;&#34; | &#34;|&#34; | &#34;^&#34; | &#34;AND&#34; |
                   &#34;OR&#34; | &#34;=&#34; | &#34;!=&#34; | &#34;&lt;&gt;&#34; | &#34;&lt;&#34; | &#34;&lt;=&#34; | &#34;&gt;&#34; | &#34;&gt;=&#34; .

expr             = unary_expr { binary_op unary_expr } .

unary_expr       = &#34;(&#34; expr &#34;)&#34; | var_ref | time_lit | string_lit | int_lit |
                   float_lit | bool_lit | duration_lit | regex_lit .
</code></pre>

<h2 id="other">Other</h2>

<pre><code>alias            = &#34;AS&#34; identifier .

back_ref         = ( policy_name &#34;.:MEASUREMENT&#34; ) |
                   ( db_name &#34;.&#34; [ policy_name ] &#34;.:MEASUREMENT&#34; ) .

db_name          = identifier .

dimension        = expr .

dimensions       = dimension { &#34;,&#34; dimension } .

field_key        = identifier .

field            = expr [ alias ] .

fields           = field { &#34;,&#34; field } .

fill_option      = &#34;null&#34; | &#34;none&#34; | &#34;previous&#34; | int_lit | float_lit | &#34;linear&#34; .

host             = string_lit .

measurement      = measurement_name |
                   ( policy_name &#34;.&#34; measurement_name ) |
                   ( db_name &#34;.&#34; [ policy_name ] &#34;.&#34; measurement_name ) .

measurements     = measurement { &#34;,&#34; measurement } .

measurement_name = identifier | regex_lit .

password         = string_lit .

policy_name      = identifier .

privilege        = &#34;ALL&#34; [ &#34;PRIVILEGES&#34; ] | &#34;READ&#34; | &#34;WRITE&#34; .

query_id         = int_lit .

query_name       = identifier .

retention_policy = identifier .

retention_policy_option      = retention_policy_duration |
                               retention_policy_replication |
                               retention_policy_shard_group_duration |
                               &#34;DEFAULT&#34; .

retention_policy_duration    = &#34;DURATION&#34; duration_lit .

retention_policy_replication = &#34;REPLICATION&#34; int_lit .

retention_policy_shard_group_duration = &#34;SHARD DURATION&#34; duration_lit .

retention_policy_name = &#34;NAME&#34; identifier .

series_id        = int_lit .

shard_id         = int_lit .

sort_field       = field_key [ ASC | DESC ] .

sort_fields      = sort_field { &#34;,&#34; sort_field } .

subscription_name = identifier .

tag_key          = identifier .

tag_keys         = tag_key { &#34;,&#34; tag_key } .

user_name        = identifier .

var_ref          = measurement .
</code></pre>

<a class="dashingAutolink" name="autolink-120"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Comments"></a><h3 id="comments">Comments</h3>

<p>Use comments with InfluxQL statements to describe your queries.</p>

<ul>
<li>A single line comment begins with two hyphens (<code>--</code>) and ends where InfluxDB detects a line break.
This comment type cannot span several lines.</li>
<li>A multi-line comment begins with <code>/*</code> and ends with <code>*/</code>. This comment type can span several lines.
Multi-line comments do not support nested multi-line comments.</li>
</ul>

<h2 id="query-engine-internals">Query Engine Internals</h2>

<p>Once you understand the language itself, it&rsquo;s important to know how these
language constructs are implemented in the query engine. This gives you an
intuitive sense for how results will be processed and how to create efficient
queries.</p>

<p>The life cycle of a query looks like this:</p>

<ol>
<li><p>InfluxQL query string is tokenized and then parsed into an abstract syntax
tree (AST). This is the code representation of the query itself.</p></li>

<li><p>The AST is passed to the <code>QueryExecutor</code> which directs queries to the
appropriate handlers. For example, queries related to meta data are executed
by the meta service and <code>SELECT</code> statements are executed by the shards
themselves.</p></li>

<li><p>The query engine then determines the shards that match the <code>SELECT</code>
statement&rsquo;s time range. From these shards, iterators are created for each
field in the statement.</p></li>

<li><p>Iterators are passed to the emitter which drains them and joins the resulting
points. The emitter&rsquo;s job is to convert simple time/value points into the
more complex result objects that are returned to the client.</p></li>
</ol>

<a class="dashingAutolink" name="autolink-121"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Understanding%20iterators"></a><h3 id="understanding-iterators">Understanding iterators</h3>

<p>Iterators are at the heart of the query engine. They provide a simple interface
for looping over a set of points. For example, this is an iterator over Float
points:</p>

<pre><code>type FloatIterator interface {
    Next() *FloatPoint
}
</code></pre>

<p>These iterators are created through the <code>IteratorCreator</code> interface:</p>

<pre><code>type IteratorCreator interface {
    CreateIterator(opt *IteratorOptions) (Iterator, error)
}
</code></pre>

<p>The <code>IteratorOptions</code> provide arguments about field selection, time ranges,
and dimensions that the iterator creator can use when planning an iterator.
The <code>IteratorCreator</code> interface is used at many levels such as the <code>Shards</code>,
<code>Shard</code>, and <code>Engine</code>. This allows optimizations to be performed when applicable
such as returning a precomputed <code>COUNT()</code>.</p>

<p>Iterators aren&rsquo;t just for reading raw data from storage though. Iterators can be
composed so that they provided additional functionality around an input
iterator. For example, a <code>DistinctIterator</code> can compute the distinct values for
each time window for an input iterator. Or a <code>FillIterator</code> can generate
additional points that are missing from an input iterator.</p>

<p>This composition also lends itself well to aggregation. For example, a statement
such as this:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">cpu</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">10</span><span class="n">m</span><span class="p">)</span></code></pre></div>
<p>In this case, <code>MEAN(value)</code> is a <code>MeanIterator</code> wrapping an iterator from the
underlying shards. However, if we can add an additional iterator to determine
the derivative of the mean:</p>

<pre><code>SELECT DERIVATIVE(MEAN(value), 20m) FROM cpu GROUP BY time(10m)
</code></pre>

<a class="dashingAutolink" name="autolink-122"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Understanding%20auxiliary%20fields"></a><h3 id="understanding-auxiliary-fields">Understanding auxiliary fields</h3>

<p>Because InfluxQL allows users to use selector functions such as <code>FIRST()</code>,
<code>LAST()</code>, <code>MIN()</code>, and <code>MAX()</code>, the engine must provide a way to return related
data at the same time with the selected point.</p>

<p>For example, in this query:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="k">FIRST</span><span class="p">(</span><span class="n">value</span><span class="p">),</span> <span class="k">host</span> <span class="k">FROM</span> <span class="n">cpu</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span><span class="p">)</span></code></pre></div>
<p>We are selecting the first <code>value</code> that occurs every hour but we also want to
retrieve the <code>host</code> associated with that point. Since the <code>Point</code> types only
specify a single typed <code>Value</code> for efficiency, we push the <code>host</code> into the
auxiliary fields of the point. These auxiliary fields are attached to the point
until it is passed to the emitter where the fields get split off to their own
iterator.</p>

<a class="dashingAutolink" name="autolink-123"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Built-in%20iterators"></a><h3 id="built-in-iterators">Built-in iterators</h3>

<p>There are many helper iterators that let us build queries:</p>

<ul>
<li><p>Merge Iterator - This iterator combines one or more iterators into a single
new iterator of the same type. This iterator guarantees that all points
within a window will be output before starting the next window but does not
provide ordering guarantees within the window. This allows for fast access
for aggregate queries which do not need stronger sorting guarantees.</p></li>

<li><p>Sorted Merge Iterator - This iterator also combines one or more iterators
into a new iterator of the same type. However, this iterator guarantees
time ordering of every point. This makes it slower than the <code>MergeIterator</code>
but this ordering guarantee is required for non-aggregate queries which
return the raw data points.</p></li>

<li><p>Limit Iterator - This iterator limits the number of points per name/tag
group. This is the implementation of the <code>LIMIT</code> &amp; <code>OFFSET</code> syntax.</p></li>

<li><p>Fill Iterator - This iterator injects extra points if they are missing from
the input iterator. It can provide <code>null</code> points, points with the previous
value, or points with a specific value.</p></li>

<li><p>Buffered Iterator - This iterator provides the ability to &ldquo;unread&rdquo; a point
back onto a buffer so it can be read again next time. This is used extensively
to provide lookahead for windowing.</p></li>

<li><p>Reduce Iterator - This iterator calls a reduction function for each point in
a window. When the window is complete then all points for that window are
output. This is used for simple aggregate functions such as <code>COUNT()</code>.</p></li>

<li><p>Reduce Slice Iterator - This iterator collects all points for a window first
and then passes them all to a reduction function at once. The results are
returned from the iterator. This is used for aggregate functions such as
<code>DERIVATIVE()</code>.</p></li>

<li><p>Transform Iterator - This iterator calls a transform function for each point
from an input iterator. This is used for executing binary expressions.</p></li>

<li><p>Dedupe Iterator - This iterator only outputs unique points. It is resource
intensive so it is only used for small queries such as meta query statements.</p></li>
</ul>

<a class="dashingAutolink" name="autolink-124"></a><a class="dashAnchor" name="//apple_ref/cpp/Query/Call%20iterators"></a><h3 id="call-iterators">Call iterators</h3>

<p>Function calls in InfluxQL are implemented at two levels. Some calls can be
wrapped at multiple layers to improve efficiency. For example, a <code>COUNT()</code> can
be performed at the shard level and then multiple <code>CountIterator</code>s can be
wrapped with another <code>CountIterator</code> to compute the count of all shards. These
iterators can be created using <code>NewCallIterator()</code>.</p>

<p>Some iterators are more complex or need to be implemented at a higher level.
For example, the <code>DERIVATIVE()</code> needs to retrieve all points for a window first
before performing the calculation. This iterator is created by the engine itself
and is never requested to be created by the lower levels.</p>

		</div>
	</section>
	
<section class="article-section article-footer">
	<div class="article-content">
		<p><span class="icon logo" style="margin-right: 1em;"></span> This documentation is <a href="https://github.com/influxdata/docs.influxdata.com/blob/master/content/influxdb/v1.7/query_language/spec.md">open source</a>. See a typo? Please, open an <a href="https://github.com/influxdata/docs.influxdata.com/issues/new">issue</a>.</p>
		<br/>
		<p><span class="icon bubbles2" style="margin-right: 1em;"></span><strong>Need help getting up and running?</strong> <a href="https://www.influxdata.com/products/services/" target="_blank">Get Support</a></p>
	</div>
</section>


</article>
<script>window.jQuery || document.write('<script src="../../../../js/vendor/jquery-2.1.4.min.js"><\/script>')</script>

<script src="../../../../js/docs-interactions.js" type="text/javascript"></script>
<script>
  $("h2, h3, h4").each(function() {
  var link = "<a href="https://docs.influxdata.com/influxdb/v1.7/query_language/spec/\&quot;#"" + $(this).attr("id") + "\"></a>"
  $(this).wrapInner( link );
  })
</script>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45024174-5', 'auto');ga('send', 'pageview');</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  docsearch({
    apiKey: 'ba4435a9d456ac0d954cc276206eac06',
    appId: 'WHM9UWMP6M',
    indexName: 'influxdata',
    inputSelector: '#algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 15,
      facets: [ "project", "version", "latest"],
      facetFilters: [ "latest:true" ]
    }
  });
</script>



<div class="modal-overlay"></div>
<div id="chronograf-url-modal" class="modal-content">
    <label>Chronograf Data Explorer URL</label>
    <form class="flex-form" id="save-chronograf-url">
        <input type="text" id="chronograf-url" name="chronograf-url"/>
        <button class="save-btn"><span>Save</span></button>
    </form>
    <a id="default-chronograf-url">Revert to Default</a>
</div>

</body></html>