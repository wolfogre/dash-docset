<!DOCTYPE html><html lang="en"><head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <title> InfluxDB frequently asked questions | InfluxData Documentation</title>
    <meta name="description" content=""/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link rel="shortcut icon" href="../../../../img/favicon.ico" type="image/x-icon"/>

    
    
    
    
    <meta name="docsearch:latest" content="true"/>
    
    

    
    <meta name="robots" content="index, follow"/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>
    <link rel="stylesheet" title="dark-theme" href="../../../../css/docs-default.css"/>
    <link rel="alternate stylesheet" title="light-theme" href="https://docs.influxdata.com/css/docs-light.css"/>

    <link href="https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,400italic,500italic,700,700italic,900,900italic" rel="stylesheet" type="text/css"/>

    <meta name="application-name" content="InfluxData"/>
    <meta name="msapplication-TileColor" content=""/>

    <meta name="msapplication-TileImage" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png"/>

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:site" content="@influxdb"/>
    <meta name="twitter:title" content=" InfluxDB frequently asked questions | InfluxData Documentation"/>
    <meta name="twitter:description" content=""/>

    <meta name="twitter:image" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png"/>

    <meta property="fb:app_id" content="222112578359661"/>
    <meta property="og:title" content=" InfluxDB frequently asked questions | InfluxData Documentation"/>
    <meta property="og:description" content=""/>
    <meta property="og:url" content="https://docs.influxdata.com/"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="https://www.influxdata.com/wp-content/uploads/Simple-Kubo.jpg"/>
    <meta property="og:image:width" content="555px"/>
    <meta property="og:image:height" content="290px"/>

    <meta name="Copyright" content="InfluxData Inc."/>

    
    <script type="text/javascript" src="https://script.crazyegg.com/pages/scripts/0080/4231.js" async="async"></script>

    <script src="../../../../js/vendor/js.cookie.js" type="text/javascript"></script>
    <script src="../../../../js/docs-themes.js" type="text/javascript"></script>
    <script src="../../../../js/docs-chronograf-url.js" type="text/javascript"></script>
    <script type="text/javascript">
        set_style_from_cookie();

    </script>
</head>

<body class="docs-theme--influxdb">
    
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WXRH9C');

    </script>
    
    <nav class="navbar" id="main-nav">
    <div class="navbar--logo">
      <a href="https://www.influxdata.com/" target="_blank" title="Go to InfluxData">
        <span class="icon logo"></span>
        <span class="icon logotype"></span>
      </a>
      <span class="divider"></span>
      <a href="https://docs.influxdata.com/" class="navbar--docs klavika-font" title="Go to Documentation Homepage">Docs</a>
    </div>
    

<div class="navbar--hamburger" id="navbar--hamburger">
    <div class="navbar--hamburger-bar top"></div>
    <div class="navbar--hamburger-bar middle"></div>
    <div class="navbar--hamburger-bar bottom"></div>
</div>
<div class="navbar--product-dropdown" id="navbar--dropdown">
    <div class="navbar--current-product">
      
      
        
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          InfluxDB v1.7
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
      
      
    </div>
    <div class="navbar--product-dropdown-caret"><span class="icon arrow-down"></span></div>
</div>
<div class="navbar--product-container" id="navbar--product-container">
    <div class="navbar--dropdown-dismiss" id="navbar--dropdown-dismiss"></div>
    <ul class="navbar--product-menu" id="navbar--product-menu">
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/telegraf/v1.13/">Telegraf</a></li>
          
        
          
            <li><a class="navbar--product" href="../../index.html">InfluxDB</a></li>
            <li><a class="navbar--product v2" href="https://v2.docs.influxdata.com" target="_blank">InfluxDB 2.0 <span class="v2-status">beta</span></a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_influxdb/v1.7/">InfluxDB Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/chronograf/v1.7/">Chronograf</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/kapacitor/v1.5/">Kapacitor</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_kapacitor/v1.5/">Kapacitor Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/flux/v0.50/">Flux</a></li>
          
        
        <li class="navbar--product-divider"></li>
        <li><a class="navbar--product external" href="https://influxdata.com/use-cases/" target="_blank">►&nbsp; See how the TICK Stack is used</a></li>
        <li><a class="navbar--product external" href="https://influxdata.com/pricing/" target="_blank">►&nbsp; Need help using our stack?</a></li>
    </ul>
</div>


    <div class="navbar--search" id="navbar--search">
	
	
	
	
			
				<input class="navbar--search-field" id="algolia-search-input" type="text" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" dir="auto" placeholder="Search the docs..."/>
			
		
	
	
	
	
	
	
</div>

    <button class="theme-switcher" id="theme-switch-light" onclick="switch_style(&#39;light-theme&#39;);return false;"><span class="icon sun2"></span></button>
<button class="theme-switcher" id="theme-switch-dark" onclick="switch_style(&#39;dark-theme&#39;);return false;"><span class="icon moon"></span></button>


</nav>


<div class="sidebar--toggle" id="sidebar--toggle">InfluxDB Contents</div>
<aside class="sidebar" id="sidebar">
  <section class="sidebar--section">
    <div id="sidebar--ad"></div>

  </section>
  
  
    
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../about_the_project/index.html">About the project</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../about_the_project/releasenotes-changelog/index.html">Release notes</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/contributing/index.html">Contributing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/cla/index.html">Contributor license agreement</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/licenses/index.html">InfluxDB license</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/third-party/index.html">Third party software</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../introduction/index.html">Introduction</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../introduction/downloading/index.html">Downloading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../introduction/installation/index.html">Installing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../introduction/getting-started/index.html">Getting started</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../concepts/index.html">Concepts</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../concepts/key_concepts/index.html">Key concepts</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/glossary/index.html">Glossary</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/crosswalk/index.html">Comparing InfluxDB to SQL databases</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/insights_tradeoffs/index.html">InfluxDB design insights and tradeoffs</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/schema_and_data_layout/index.html">Schema design and data layout</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/storage_engine/index.html">In-memory indexing with TSM</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/time-series-index/index.html">Time Series Index (TSI) overview</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/tsi-details/index.html">Time Series Index (TSI) details</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../administration/index.html">Administration</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../administration/config/index.html">Configuring InfluxDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/authentication_and_authorization/index.html">Authentication and authorization</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/upgrading/index.html">Upgrading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/https_setup/index.html">Enabling HTTPS</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/logs/index.html">Logging and tracing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/ports/index.html">Ports</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/backup_and_restore/index.html">Backing up and restoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/rebuild-tsi-index/index.html">Rebuild the TSI index</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/security/index.html">Managing security</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/server_monitoring/index.html">Server monitoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/stability_and_compatibility/index.html">Stability and compatibility</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/subscription-management/index.html">Manage subscriptions</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../tools/index.html">Tools</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../tools/shell/index.html">InfluxDB command line interface (CLI/shell)</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/api/index.html">InfluxDB API reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/api_client_libraries/index.html">InfluxDB API client libraries</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/influx_inspect/index.html">Influx Inspect disk utility</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/inch/index.html">InfluxDB inch tool</a></li>
              
            
              
                <li><a class="sidebar--page" href="https://grafana.com/docs/grafana/latest/features/datasources/influxdb/">Grafana graphs and dashboards</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../query_language/index.html">Influx Query Language (InfluxQL)</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../query_language/data_download/index.html">Sample data</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../query_language/data_exploration/index.html">Data exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../query_language/schema_exploration/index.html">Schema exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../query_language/database_management/index.html">Data management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../query_language/continuous_queries/index.html">Continuous Queries</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../query_language/functions/index.html">Functions</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../query_language/math_operators/index.html">Mathematical operators</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../query_language/spec/index.html">InfluxQL reference</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../write_protocols/index.html">Write protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../write_protocols/line_protocol_reference/index.html">InfluxDB line protocol reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../write_protocols/line_protocol_tutorial/index.html">InfluxDB line protocol tutorial</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../supported_protocols/index.html">Supported protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/collectd/index.html">CollectD</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/graphite/index.html">Graphite</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/opentsdb/index.html">OpenTSDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/prometheus/index.html">Prometheus</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/udp/index.html">UDP</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../high_availability/index.html">High availability</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../high_availability/clusters/index.html">Clustering</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class=" active" href="../index.html">Troubleshooting</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page active" href="index.html">Frequently asked questions (FAQ)</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_management/index.html">Query management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../errors/index.html">Error messages</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../additional_resources/additional_resources/index.html">Additional resources</a>
          </div>

          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="index.html">Guides</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../guides/writing_data/index.html">Writing data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/querying_data/index.html">Querying data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/downsampling_and_retention/index.html">Downsampling and data retention</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/hardware_sizing/index.html">Hardware sizing guidelines</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/calculating_percentages/index.html">Calculating percentages in a query</a></li>
              
            
            </ul>
          

        </section>
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  <section class="sidebar--section">
    <div class="sidebar--section-title">
      <a href="https://docs.influxdata.com/influxdb/">InfluxDB versions</a>
    </div>
    <ul>
      
      <li><a class="sidebar--page" href="../../index.html">v1.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.6/">v1.6</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.5/">v1.5</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.4/">v1.4</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.3/">v1.3</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.2/">v1.2</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.1/">v1.1</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.0/">v1.0</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.13/">v0.13</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.12/">v0.12</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.11/">v0.11</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.10/">v0.10</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.9/">v0.9</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.8/">v0.8</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.7/">v0.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.6/">v0.6</a></li>
      
    </ul>
  </section>
</aside>

<article class="article">
	
	<section class="article-section article-heading">
		<div class="article-content">
			<h1>InfluxDB frequently asked questions</h1>
		</div>
	</section>
	
	<section class="article-section">
		<div class="article-content">
			

			

<p>This page addresses frequent sources of confusion and places where InfluxDB behaves in an unexpected way relative to other database systems.
Where applicable, it links to outstanding issues on GitHub.</p>

<p><strong>Administration</strong></p>

<ul>
<li><a href="index.html#how-do-i-include-a-single-quote-in-a-password">How do I include a single quote in a password?</a></li>
<li><a href="index.html#how-can-i-identify-my-version-of-influxdb">How can I identify my version of InfluxDB?</a></li>
<li><a href="index.html#where-can-i-find-influxdb-logs">Where can I find InfluxDB logs?</a></li>
<li><a href="index.html#what-is-the-relationship-between-shard-group-durations-and-retention-policies">What is the relationship between shard group durations and retention policies?</a></li>
<li><a href="index.html#why-aren-t-data-dropped-after-i-ve-altered-a-retention-policy">Why aren&rsquo;t data dropped after I&rsquo;ve altered a retention policy?</a></li>
<li><a href="index.html#why-does-influxdb-fail-to-parse-microsecond-units-in-the-configuration-file">Why does InfluxDB fail to parse microsecond units in the configuration file?</a></li>
<li><a href="index.html#does-influxdb-have-a-file-system-size-limit">Does InfluxDB have a file system size limit?</a></li>
</ul>

<p><strong>Command line interface (CLI)</strong></p>

<ul>
<li><a href="index.html#how-do-i-make-influxdb-s-cli-return-human-readable-timestamps">How do I make InfluxDB&rsquo;s CLI return human readable timestamps?</a></li>
<li><a href="index.html#how-can-a-non-admin-user-use-a-database-in-influxdb-s-cli">How can a non-admin user <code>USE</code> a database in the InfluxDB CLI?</a></li>
<li><a href="index.html#how-do-i-write-to-a-non-default-retention-policy-with-influxdb-s-cli">How do I write to a non-<code>DEFAULT</code> retention policy with the InfluxDB CLI?</a></li>
<li><a href="index.html#how-do-i-cancel-a-long-running-query">How do I cancel a long-running query?</a></li>
</ul>

<p><strong>Data types</strong></p>

<ul>
<li><a href="index.html#why-can-t-i-query-boolean-field-values">Why can&rsquo;t I query Boolean field values?</a></li>
<li><a href="index.html#how-does-influxdb-handle-field-type-discrepancies-across-shards">How does InfluxDB handle field type discrepancies across shards?</a></li>
<li><a href="index.html#what-are-the-minimum-and-maximum-integers-that-influxdb-can-store">What are the minimum and maximum integers that InfluxDB can store?</a></li>
<li><a href="index.html#what-are-the-minimum-and-maximum-timestamps-that-influxdb-can-store">What are the minimum and maximum timestamps that InfluxDB can store?</a></li>
<li><a href="index.html#how-can-i-tell-what-type-of-data-is-stored-in-a-field">How can I tell what type of data is stored in a field?</a></li>
<li><a href="index.html#can-i-change-a-field-s-data-type">Can I change a field&rsquo;s data type?</a></li>
</ul>

<p><strong>InfluxQL functions</strong></p>

<ul>
<li><a href="index.html#how-do-i-perform-mathematical-operations-within-a-function">How do I perform mathematical operations within a function?</a></li>
<li><a href="index.html#why-does-my-query-return-epoch-0-as-the-timestamp">Why does my query return epoch 0 as the timestamp?</a></li>
<li><a href="index.html#which-influxql-functions-support-nesting">Which InfluxQL functions support nesting?</a></li>
</ul>

<p><strong>Querying data</strong></p>

<ul>
<li><a href="index.html#what-determines-the-time-intervals-returned-by-group-by-time-queries">What determines the time intervals returned by <code>GROUP BY time()</code> queries?</a></li>
<li><a href="index.html#why-do-my-queries-return-no-data-or-partial-data">Why do my queries return no data or partial data?</a></li>
<li><a href="index.html#why-don-t-my-group-by-time-queries-return-timestamps-that-occur-after-now">Why don&rsquo;t my <code>GROUP BY time()</code> queries return timestamps that occur after <code>now()</code>?</a></li>
<li><a href="index.html#can-i-perform-mathematical-operations-against-timestamps">Can I perform mathematical operations against timestamps?</a></li>
<li><a href="index.html#can-i-identify-write-precision-from-returned-timestamps">Can I identify write precision from returned timestamps?</a></li>
<li><a href="index.html#when-should-i-single-quote-and-when-should-i-double-quote-in-queries">When should I single quote and when should I double quote in queries?</a></li>
<li><a href="index.html#why-am-i-missing-data-after-creating-a-new-default-retention-policy">Why am I missing data after creating a new <code>DEFAULT</code> retention policy?</a></li>
<li><a href="index.html#why-is-my-query-with-a-where-or-time-clause-returning-empty-results">Why is my query with a <code>WHERE OR</code> time clause returning empty results?</a></li>
<li><a href="index.html#why-does-fill-previous-return-empty-results">Why does <code>fill(previous)</code> return empty results?</a></li>
<li><a href="index.html#why-are-my-into-queries-missing-data">Why are my <code>INTO</code> queries missing data?</a></li>
<li><a href="index.html#how-do-i-query-data-with-an-identical-tag-key-and-field-key">How do I query data with an identical tag key and field key?</a></li>
<li><a href="index.html#how-do-i-query-data-across-measurements">How do I query data across measurements?</a></li>
<li><a href="index.html#does-the-order-of-the-timestamps-matter">Does the order of the timestamps matter?</a></li>
<li><a href="index.html#how-do-i-select-data-with-a-tag-that-has-no-value">How do I <code>SELECT</code> data with a tag that has no value?</a></li>
</ul>

<p><strong>Series and series cardinality</strong></p>

<ul>
<li><a href="index.html#why-does-series-cardinality-matter">Why does series cardinality matter?</a></li>
<li><a href="index.html#how-can-i-remove-series-from-the-index">How can I remove series from the index?</a></li>
</ul>

<p><strong>Writing data</strong></p>

<ul>
<li><a href="index.html#how-do-i-write-integer-field-values">How do I write integer field values?</a></li>
<li><a href="index.html#how-does-influxdb-handle-duplicate-points">How does InfluxDB handle duplicate points?</a></li>
<li><a href="index.html#what-newline-character-does-the-http-api-require">What newline character does the InfluxDB API require?</a></li>
<li><a href="index.html#what-words-and-characters-should-i-avoid-when-writing-data-to-influxdb">What words and characters should I avoid when writing data to InfluxDB?</a></li>
<li><a href="index.html#when-should-i-single-quote-and-when-should-i-double-quote-when-writing-data">When should I single quote and when should I double quote when writing data?</a></li>
<li><a href="index.html#does-the-precision-of-the-timestamp-matter">Does the precision of the timestamp matter?</a></li>
<li><a href="index.html#what-are-the-configuration-recommendations-and-schema-guidelines-for-writing-sparse-historical-data">What are the configuration recommendations and schema guidelines for writing sparse, historical data?</a></li>
</ul>

<h2 id="how-do-i-include-a-single-quote-in-a-password">How do I include a single quote in a password?</h2>

<p>Escape the single quote with a backslash (<code>\</code>) both when creating the password
and when sending authentication requests.</p>

<h2 id="how-can-i-identify-my-version-of-influxdb">How can I identify my version of InfluxDB?</h2>

<p>There a number of ways to identify the version of InfluxDB that you&rsquo;re using:</p>

<h4 id="run-influxd-version-in-your-terminal">Run <code>influxd version</code> in your terminal:</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ influxd version

InfluxDB ✨ v1.4.0 ✨ <span class="o">(</span>git: master b7bb7e8359642b6e071735b50ae41f5eb343fd42<span class="o">)</span></code></pre></div>
<h4 id="curl-the-ping-endpoint"><code>curl</code> the <code>/ping</code> endpoint:</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i <span class="s1">&#39;http://localhost:8086/ping&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: 1e08aeb6-fec0-11e6-8486-000000000000
✨ X-Influxdb-Version: <span class="m">1</span>.4.x ✨
Date: Wed, <span class="m">01</span> Mar <span class="m">2017</span> <span class="m">20</span>:46:17 GMT</code></pre></div>
<h4 id="launch-the-influxdb-command-line-interface-influxdb-v1-7-tools-shell">Launch the InfluxDB <a href="../../tools/shell/index.html">Command Line Interface</a>:</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ influx

Connected to http://localhost:8086✨ version <span class="m">1</span>.4.x ✨
InfluxDB shell version: <span class="m">1</span>.4.x</code></pre></div>
<h4 id="check-the-http-response-in-your-logs">Check the HTTP response in your logs:</h4>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ journalctl -u influxdb.service

Mar <span class="m">01</span> <span class="m">20</span>:49:45 rk-api influxd<span class="o">[</span><span class="m">29560</span><span class="o">]</span>: <span class="o">[</span>httpd<span class="o">]</span> <span class="m">127</span>.0.0.1 - - <span class="o">[</span><span class="m">01</span>/Mar/2017:20:49:45 +0000<span class="o">]</span> <span class="s2">&#34;POST /query?db=&amp;epoch=ns&amp;q=SHOW+DATABASES HTTP/1.1&#34;</span> <span class="m">200</span> <span class="m">151</span> <span class="s2">&#34;-&#34;</span> ✨ <span class="s2">&#34;InfluxDBShell/1.4.x&#34;</span> ✨ 9a4371a1-fec0-11e6-84b6-000000000000 <span class="m">1709</span></code></pre></div>
<h2 id="where-can-i-find-influxdb-logs">Where can I find InfluxDB logs?</h2>

<p>On System V operating systems logs are stored under <code>/var/log/influxdb/</code>.</p>

<p>On systemd operating systems you can access the logs using <code>journalctl</code>.
Use <code>journalctl -u influxdb</code> to view the logs in the journal or <code>journalctl -u influxdb &gt; influxd.log</code> to print the logs to a text file. With systemd, log retention depends on your system&rsquo;s journald settings.</p>

<h2 id="what-is-the-relationship-between-shard-group-durations-and-retention-policies">What is the relationship between shard group durations and retention policies?</h2>

<p>InfluxDB stores data in shard groups.
A single shard group covers a specific time interval; InfluxDB determines that time interval by looking at the <code>DURATION</code> of the relevant retention policy (RP).
The table below outlines the default relationship between the <code>DURATION</code> of an RP and the time interval of a shard group:</p>

<table>
<thead>
<tr>
<th>RP duration</th>
<th>Shard group interval</th>
</tr>
</thead>

<tbody>
<tr>
<td>&lt; 2 days</td>
<td>1 hour</td>
</tr>

<tr>
<td>&gt;= 2 days and &lt;= 6 months</td>
<td>1 day</td>
</tr>

<tr>
<td>&gt; 6 months</td>
<td>7 days</td>
</tr>
</tbody>
</table>

<p>Users can also configure the shard group duration with the
<a href="../../query_language/database_management/index.html#create-retention-policies-with-create-retention-policy"><code>CREATE RETENTION POLICY</code></a>
and
<a href="../../query_language/database_management/index.html#modify-retention-policies-with-alter-retention-policy"><code>ALTER RETENTION POLICY</code></a>
statements.
Check your retention policy&rsquo;s shard group duration with the
<a href="../../query_language/schema_exploration/index.html#show-retention-policies"><code>SHOW RETENTION POLICIES</code></a>
statement.</p>

<h2 id="why-aren-t-data-dropped-after-i-ve-altered-a-retention-policy">Why aren&rsquo;t data dropped after I&rsquo;ve altered a retention policy?</h2>

<p>Several factors explain why data may not be immediately dropped after a
retention policy (RP) change.</p>

<p>The first and most likely cause is that, by default, InfluxDB checks to enforce
an RP every 30 minutes.
You may need to wait for the next RP check for InfluxDB to drop data that are
outside the RP&rsquo;s new <code>DURATION</code> setting.
The 30 minute interval is
<a href="../../administration/config/index.html#check-interval-30m0s">configurable</a>.</p>

<p>Second, altering both the <code>DURATION</code> and <code>SHARD DURATION</code> of an RP can result in
unexpected data retention.
InfluxDB stores data in shard groups which cover a specific RP and time
interval.
When InfluxDB enforces an RP it drops entire shard groups, not individual data
points.
InfluxDB cannot divide shard groups.</p>

<p>If the RP&rsquo;s new <code>DURATION</code> is less than the old <code>SHARD DURATION</code> and InfluxDB is
currently writing data to one of the old, longer shard groups, the system is
forced to keep all of the data in that shard group.
This occurs even if some of the data in that shard group are outside of the new
<code>DURATION</code>.
InfluxDB will drop that shard group once all of its data is outside the new
<code>DURATION</code>.
The system will then begin writing data to shard groups that have the new,
shorter <code>SHARD DURATION</code> preventing any further unexpected data retention.</p>

<h2 id="why-does-influxdb-fail-to-parse-microsecond-units-in-the-configuration-file">Why does InfluxDB fail to parse microsecond units in the configuration file?</h2>

<p>The syntax for specifying microsecond duration units differs for <a href="../../administration/config/index.html">configuration</a> settings, writes, queries, and setting the precision in the InfluxDB <a href="../../tools/shell/index.html">Command Line Interface</a> (CLI).
The table below shows the supported syntax for each category:</p>

<table>
<thead>
<tr>
<th></th>
<th>Configuration File</th>
<th>InfluxDB API Writes</th>
<th>All Queries</th>
<th>CLI Precision Command</th>
</tr>
</thead>

<tbody>
<tr>
<td>u</td>
<td>❌</td>
<td>👍</td>
<td>👍</td>
<td>👍</td>
</tr>

<tr>
<td>us</td>
<td>👍</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>

<tr>
<td>&micro;</td>
<td>❌</td>
<td>❌</td>
<td>👍</td>
<td>❌</td>
</tr>

<tr>
<td>&micro;s</td>
<td>👍</td>
<td>❌</td>
<td>❌</td>
<td>❌</td>
</tr>
</tbody>
</table>

<p>If a configuration option specifies the <code>u</code> or <code>&micro;</code> syntax, InfluxDB fails to start and reports the following error in the logs:</p>

<pre><code>run: parse config: time: unknown unit [&micro;|u] in duration [&lt;integer&gt;&micro;|&lt;integer&gt;u]
</code></pre>

<h2 id="does-influxdb-have-a-file-system-size-limit">Does InfluxDB have a file system size limit?</h2>

<p>InfluxDB works within file system size restrictions for Linux and Windows POSIX. Some storage providers and distributions have size restrictions; for example:</p>

<ul>
<li>Amazon EBS volume limits size to ~16TB</li>
<li>Linux ext3 file system limits size ~16TB</li>
<li>Linux ext4 file system limits size to ~1EB (with file size limit ~16TB)</li>
</ul>

<p>If you anticipate growing over 16TB per volume/file system, we recommend finding a provider and distribution that supports your storage requirements.</p>

<h2 id="how-do-i-use-the-influxdb-cli-to-return-human-readable-timestamps">How do I use the InfluxDB CLI to return human readable timestamps?</h2>

<p>When you first connect to the CLI, specify the <a href="https://www.ietf.org/rfc/rfc3339.txt">rfc3339</a> precision:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">influx -precision rfc3339</code></pre></div>
<p>Alternatively, specify the precision once you&rsquo;ve already connected to the CLI:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ influx
Connected to http://localhost:8086 version <span class="m">0</span>.xx.x
InfluxDB shell <span class="m">0</span>.xx.x
&gt; precision rfc3339
&gt;</code></pre></div>
<p>Check out <a href="../../tools/shell/index.html">CLI/Shell</a> for more useful CLI options.</p>

<h2 id="how-can-a-non-admin-user-use-a-database-in-the-influxdb-cli">How can a non-admin user <code>USE</code> a database in the InfluxDB CLI?</h2>

<p>In versions prior to v1.3, <a href="../../administration/authentication_and_authorization/index.html#user-types-and-privileges">non-admin users</a> could not execute a <code>USE &lt;database_name&gt;</code> query in the CLI even if they had <code>READ</code> and/or <code>WRITE</code> permissions on that database.</p>

<p>Starting with version 1.3, non-admin users can execute the <code>USE &lt;database_name&gt;</code> query for databases on which they have <code>READ</code> and/or <code>WRITE</code> permissions.
If a non-admin user attempts to <code>USE</code> a database on which the user doesn&rsquo;t have <code>READ</code> and/or <code>WRITE</code> permissions, the system returns an error:</p>

<pre><code>ERR: Database &lt;database_name&gt; doesn&#39;t exist. Run SHOW DATABASES for a list of existing databases.
</code></pre>

<blockquote>
<p><strong>Note</strong> that the <a href="../../query_language/schema_exploration/index.html#show-databases"><code>SHOW DATABASES</code> query</a> returns only those databases on which the non-admin user has <code>READ</code> and/or <code>WRITE</code> permissions.</p>
</blockquote>

<h2 id="how-do-i-write-to-a-non-default-retention-policy-with-the-influxdb-cli">How do I write to a non-DEFAULT retention policy with the InfluxDB CLI?</h2>

<p>Use the syntax <code>INSERT INTO [&lt;database&gt;.]&lt;retention_policy&gt; &lt;line_protocol&gt;</code> to write data to a non-<code>DEFAULT</code> retention policy using the CLI.
(Specifying the database and retention policy this way is only allowed with the CLI.
Writes over HTTP must specify the database and optionally the retention policy with the <code>db</code> and <code>rp</code> query parameters.)</p>

<p>For example:</p>

<pre><code>&gt; INSERT INTO one_day mortality bool=true
Using retention policy one_day
&gt; SELECT * FROM &#34;mydb&#34;.&#34;one_day&#34;.&#34;mortality&#34;
name: mortality
---------------
time                             bool
2016-09-13T22:29:43.229530864Z   true
</code></pre>

<p>Note that you will need to fully qualify the measurement to query data in the non-<code>DEFAULT</code> retention policy. Fully qualify the measurement with the syntax:</p>

<pre><code>&#34;&lt;database&gt;&#34;.&#34;&lt;retention_policy&gt;&#34;.&#34;&lt;measurement&gt;&#34;
</code></pre>

<h2 id="how-do-i-cancel-a-long-running-query">How do I cancel a long-running query?</h2>

<p>You can cancel a long-running interactive query from the CLI using <code>Ctrl+C</code>. To stop other long-running query that you see when using the <a href="https://docs.influxdata.com/influxdb/v1.3/query_language/spec/#show-queries"><code>SHOW QUERIES</code></a> command,
you can use the <a href="../query_management/index.html#stop-currently-running-queries-with-kill-query"><code>KILL QUERY</code></a> command to stop it.</p>

<h2 id="why-can-t-i-query-boolean-field-values">Why can&rsquo;t I query Boolean field values?</h2>

<p>Acceptable Boolean syntax differs for data writes and data queries.</p>

<table>
<thead>
<tr>
<th>Boolean syntax</th>
<th>Writes</th>
<th>Queries</th>
</tr>
</thead>

<tbody>
<tr>
<td><code>t</code>,<code>f</code></td>
<td>👍</td>
<td>❌</td>
</tr>

<tr>
<td><code>T</code>,<code>F</code></td>
<td>👍</td>
<td>❌</td>
</tr>

<tr>
<td><code>true</code>,<code>false</code></td>
<td>👍</td>
<td>👍</td>
</tr>

<tr>
<td><code>True</code>,<code>False</code></td>
<td>👍</td>
<td>👍</td>
</tr>

<tr>
<td><code>TRUE</code>,<code>FALSE</code></td>
<td>👍</td>
<td>👍</td>
</tr>
</tbody>
</table>

<p>For example, <code>SELECT * FROM &#34;hamlet&#34; WHERE &#34;bool&#34;=True</code> returns all points with <code>bool</code> set to <code>TRUE</code>, but <code>SELECT * FROM &#34;hamlet&#34; WHERE &#34;bool&#34;=T</code> returns nothing.</p>


<div class="warn">
  <a href="https://github.com/influxdb/influxdb/issues/3939">GitHub Issue #3939</a>
</div>


<h2 id="how-does-influxdb-handle-field-type-discrepancies-across-shards">How does InfluxDB handle field type discrepancies across shards?</h2>

<p>Field values can be floats, integers, strings, or Booleans.
Field value types cannot differ within a
<a href="../../concepts/glossary/index.html#shard">shard</a>, but they can <a href="../../write_protocols/line_protocol_reference.html">differ</a> across shards.</p>

<h3 id="the-select-statement">The SELECT statement</h3>

<p>The
<a href="../../query_language/data_exploration/index.html#the-basic-select-statement"><code>SELECT</code> statement</a>
returns all field values <strong>if</strong> all values have the same type.
If field value types differ across shards, InfluxDB first performs any
applicable <a href="../../query_language/data_exploration/index.html#cast-operations">cast</a>
operations and then returns all values with the type that occurs first in the
following list: float, integer, string, Boolean.</p>

<p>If your data have field value type discrepancies, use the syntax
<code>&lt;field_key&gt;::&lt;type&gt;</code> to query the different data types.</p>

<h4 id="example">Example</h4>

<p>The measurement <code>just_my_type</code> has a single field called <code>my_field</code>.
<code>my_field</code> has four field values across four different shards, and each value has
a different data type (float, integer, string, and Boolean).</p>

<p><code>SELECT *</code> returns only the float and integer field values.
Note that InfluxDB casts the integer value to a float in the response.</p>

<pre><code>SELECT * FROM just_my_type

name: just_my_type
------------------
time		                	my_field
2016-06-03T15:45:00Z	  9.87034
2016-06-03T16:45:00Z	  7
</code></pre>

<p><code>SELECT &lt;field_key&gt;::&lt;type&gt; [...]</code> returns all value types.
InfluxDB outputs each value type in its own column with incremented column names.
Where possible, InfluxDB casts field values to another type;
it casts the integer <code>7</code> to a float in the first column, and it
casts the float <code>9.879034</code> to an integer in the second column.
InfluxDB cannot cast floats or integers to strings or Booleans.</p>

<pre><code>SELECT &#34;my_field&#34;::float,&#34;my_field&#34;::integer,&#34;my_field&#34;::string,&#34;my_field&#34;::boolean FROM just_my_type

name: just_my_type
------------------
time			               my_field	 my_field_1	 my_field_2		 my_field_3
2016-06-03T15:45:00Z	 9.87034	  9
2016-06-03T16:45:00Z	 7	        7
2016-06-03T17:45:00Z			                     a string
2016-06-03T18:45:00Z					                                true
</code></pre>

<h3 id="the-show-field-keys-query">The SHOW FIELD KEYS query</h3>

<p><code>SHOW FIELD KEYS</code> returns every data type, across every shard, associated with
the field key.</p>

<h4 id="example-1">Example</h4>

<p>The measurement <code>just_my_type</code> has a single field called <code>my_field</code>.
<code>my_field</code> has four field values across four different shards, and each value has
a different data type (float, integer, string, and Boolean).
<code>SHOW FIELD KEYS</code> returns all four data types:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SHOW</span> <span class="n">FIELD</span> <span class="n">KEYS</span>

<span class="n">name</span><span class="p">:</span> <span class="n">just_my_type</span>
<span class="n">fieldKey</span>   <span class="n">fieldType</span>
<span class="c1">--------   ---------
</span><span class="c1"></span><span class="n">my_field</span>   <span class="nb">float</span>
<span class="n">my_field</span>   <span class="n">string</span>
<span class="n">my_field</span>   <span class="nb">integer</span>
<span class="n">my_field</span>   <span class="nb">boolean</span></code></pre></div>
<h2 id="what-are-the-minimum-and-maximum-integers-that-influxdb-can-store">What are the minimum and maximum integers that InfluxDB can store?</h2>

<p>InfluxDB stores all integers as signed int64 data types.
The minimum and maximum valid values for int64 are <code>-9023372036854775808</code> and <code>9023372036854775807</code>.
See <a href="http://golang.org/pkg/builtin/#int64">Go builtins</a> for more information.</p>

<p>Values close to but within those limits may lead to unexpected results; some functions and operators convert the int64 data type to float64 during calculation which can cause overflow issues.</p>

<h2 id="what-are-the-minimum-and-maximum-timestamps-that-influxdb-can-store">What are the minimum and maximum timestamps that InfluxDB can store?</h2>

<p>The minimum timestamp is <code>-9223372036854775806</code> or <code>1677-09-21T00:12:43.145224194Z</code>.
The maximum timestamp is <code>9223372036854775806</code> or <code>2262-04-11T23:47:16.854775806Z</code>.</p>

<p>Timestamps outside that range return a <a href="../errors/index.html#unable-to-parse-time-outside-range">parsing error</a>.</p>

<h2 id="how-can-i-tell-what-type-of-data-is-stored-in-a-field">How can I tell what type of data is stored in a field?</h2>

<p>The <a href="../../query_language/schema_exploration/index.html#show-field-keys"><code>SHOW FIELD KEYS</code></a> query also returns the field&rsquo;s type.</p>

<h4 id="example-2">Example</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SHOW</span> <span class="n">FIELD</span> <span class="n">KEYS</span> <span class="k">FROM</span> <span class="n">all_the_types</span>
<span class="n">name</span><span class="p">:</span> <span class="n">all_the_types</span>
<span class="c1">-------------------
</span><span class="c1"></span><span class="n">fieldKey</span>  <span class="n">fieldType</span>
<span class="n">blue</span>      <span class="n">string</span>
<span class="n">green</span>     <span class="nb">boolean</span>
<span class="n">orange</span>    <span class="nb">integer</span>
<span class="n">yellow</span>    <span class="nb">float</span></code></pre></div>
<h2 id="can-i-change-a-field-s-data-type">Can I change a field&rsquo;s data type?</h2>

<p>Currently, InfluxDB offers very limited support for changing a field&rsquo;s data type.</p>

<p>The <code>&lt;field_key&gt;::&lt;type&gt;</code> syntax supports casting field values from integers to
floats or from floats to integers.
See <a href="../../query_language/data_exploration/index.html#data-types-and-cast-operations">Cast Operations</a>
for an example.
There is no way to cast a float or integer to a string or Boolean (or vice versa).</p>

<p>We list possible workarounds for changing a field&rsquo;s data type below.
Note that these workarounds will not update data that have already been
written to the database.</p>

<h4 id="write-the-data-to-a-different-field">Write the data to a different field</h4>

<p>The simplest workaround is to begin writing the new data type to a different field in the same
<a href="../../concepts/glossary/index.html#series">series</a>.</p>

<h4 id="work-the-shard-system">Work the shard system</h4>

<p>Field value types cannot differ within a
<a href="../../concepts/glossary/index.html#shard">shard</a> but they can differ across
shards.</p>

<p>Users looking to change a field&rsquo;s data type can use the <code>SHOW SHARDS</code> query
to identify the <code>end_time</code> of the current shard.
InfluxDB will accept writes with a different data type to an existing field if the point has a timestamp
that occurs after that <code>end_time</code>.</p>

<p>Note that this will not change the field&rsquo;s data type on prior shards.
For how this will affect your queries, please see
<a href="index.html#how-does-influxdb-handle-field-type-discrepancies-across-shards">How does InfluxDB handle field type discrepancies across shards</a>.</p>

<h2 id="how-do-i-perform-mathematical-operations-within-a-function">How do I perform mathematical operations within a function?</h2>

<p>Currently, InfluxDB does not support mathematical operations within functions.
We recommend using InfluxQL&rsquo;s <a href="../../query_language/data_exploration/index.html#subqueries">subqueries</a>
as a workaround.</p>

<h3 id="example-3">Example</h3>

<p>InfluxQL does not support the following syntax:</p>
<div class="highlight"><pre class="chroma"><code class="language-sqk" data-lang="sqk">SELECT MEAN(&#34;dogs&#34; - &#34;cats&#34;) from &#34;pet_daycare&#34;</code></pre></div>
<p>Instead, use a subquery to get the same result:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;difference&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="s2">&#34;dogs&#34;</span> <span class="o">-</span> <span class="s2">&#34;cat&#34;</span> <span class="k">AS</span> <span class="s2">&#34;difference&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;pet_daycare&#34;</span><span class="p">)</span></code></pre></div>
<p>See the
<a href="../../query_language/data_exploration/index.html#subqueries">Data Exploration</a>
page for more information.</p>

<h2 id="why-does-my-query-return-epoch-0-as-the-timestamp">Why does my query return epoch 0 as the timestamp?</h2>

<p>In InfluxDB, epoch 0  (<code>1970-01-01T00:00:00Z</code>)  is often used as a null timestamp equivalent.
If you request a query that has no timestamp to return, such as an aggregation function with an unbounded time range, InfluxDB returns epoch 0 as the timestamp.</p>

<h2 id="which-influxql-functions-support-nesting">Which InfluxQL functions support nesting?</h2>

<p>The following InfluxQL functions support nesting:</p>

<ul>
<li><a href="../../query_language/functions/index.html#count"><code>COUNT()</code></a> with <a href="../../query_language/functions/index.html#distinct"><code>DISTINCT()</code></a></li>
<li><a href="../../query_language/functions/index.html#cumulative-sum"><code>CUMULATIVE_SUM()</code></a></li>
<li><a href="../../query_language/functions/index.html#derivative"><code>DERIVATIVE()</code></a></li>
<li><a href="../../query_language/functions/index.html#difference"><code>DIFFERENCE()</code></a></li>
<li><a href="../../query_language/functions/index.html#elapsed"><code>ELAPSED()</code></a></li>
<li><a href="../../query_language/functions/index.html#moving-average"><code>MOVING_AVERAGE()</code></a></li>
<li><a href="../../query_language/functions/index.html#non-negative-derivative"><code>NON_NEGATIVE_DERIVATIVE()</code></a></li>
<li><a href="../../query_language/functions/index.html#holt-winters"><code>HOLT_WINTERS()</code></a> and <a href="../../query_language/functions/index.html#holt-winters"><code>HOLT_WINTERS_WITH_FIT()</code></a></li>
</ul>

<p>For information on how to use a subquery as a substitute for nested functions, see
<a href="../../query_language/data_exploration/index.html#subqueries">Data exploration</a>.</p>

<h2 id="what-determines-the-time-intervals-returned-by-group-by-time-queries">What determines the time intervals returned by <code>GROUP BY time()</code> queries?</h2>

<p>The time intervals returned by <code>GROUP BY time()</code> queries conform to the InfluxDB database&rsquo;s preset time
buckets or to the user-specified <a href="../../query_language/data_exploration/index.html#advanced-group-by-time-syntax">offset interval</a>.</p>

<h4 id="example-4">Example</h4>

<h5 id="preset-time-buckets">Preset time buckets</h5>

<p>The following query calculates the average value of <code>sunflowers</code> between
6:15pm and 7:45pm and groups those averages into one hour intervals:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">mean</span><span class="p">(</span><span class="s2">&#34;sunflowers&#34;</span><span class="p">)</span>
<span class="k">FROM</span> <span class="s2">&#34;flower_orders&#34;</span>
<span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2016-08-29T18:15:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2016-08-29T19:45:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span><span class="p">)</span></code></pre></div>
<p>The results below show how InfluxDB maintains its preset time buckets.</p>

<p>In this example, the 6pm hour is a preset bucket and the 7pm hour is a preset bucket.
The average for the 6pm time bucket does not include data prior to 6:15pm because of the <code>WHERE</code> time clause,
but any data included in the average for the 6pm time bucket must occur in the 6pm hour.
The same goes for the 7pm time bucket; any data included in the average for the 7pm
time bucket must occur in the 7pm hour.
The dotted lines show the points that make up each average.</p>

<p>Note that while the first timestamp in the results is <code>2016-08-29T18:00:00Z</code>,
the query results in that bucket do <strong>not</strong> include data with timestamps that occur before the start of the
<code>WHERE</code> time clause (<code>2016-08-29T18:15:00Z</code>).</p>

<p>Raw data:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p>Results:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">name</span><span class="p">:</span> <span class="n">flower_orders</span>                                <span class="n">name</span><span class="p">:</span> <span class="n">flower_orders</span>
<span class="err">&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</span>                                          <span class="c1">-------------------
</span><span class="c1"></span><span class="n">time</span>                    <span class="n">sunflowers</span>                 <span class="n">time</span>                  <span class="n">mean</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>    <span class="mi">34</span>                         <span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">22</span><span class="p">.</span><span class="mi">332</span>
                       <span class="o">|</span><span class="c1">--|                        2016-08-29T19:00:00Z  62.75
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">28</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">19</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">20</span><span class="o">|</span>
                       <span class="o">|</span><span class="c1">--|
</span><span class="c1"></span>                       <span class="o">|</span><span class="c1">--|
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">56</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">76</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">29</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">90</span><span class="o">|</span>
                       <span class="o">|</span><span class="c1">--|
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T20</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>    <span class="mi">70</span></code></pre></div>
<h5 id="offset-interval">Offset interval</h5>

<p>The following query calculates the average value of <code>sunflowers</code> between
6:15pm and 7:45pm and groups those averages into one hour intervals.
It also offsets the InfluxDB database&rsquo;s preset time buckets by <code>15</code> minutes.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="n">mean</span><span class="p">(</span><span class="s2">&#34;sunflowers&#34;</span><span class="p">)</span>
<span class="k">FROM</span> <span class="s2">&#34;flower_orders&#34;</span>
<span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2016-08-29T18:15:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2016-08-29T19:45:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">1</span><span class="n">h</span><span class="p">,</span><span class="mi">15</span><span class="n">m</span><span class="p">)</span>
                                                                                         <span class="c1">---
</span><span class="c1"></span>                                                                                          <span class="o">|</span>
                                                                                   <span class="k">offset</span> <span class="nb">interval</span></code></pre></div>
<p>In this example, the user-specified
<a href="../../query_language/data_exploration/index.html#advanced-group-by-time-syntax">offset interval</a>
shifts the InfluxDB database&rsquo;s preset time buckets forward by <code>15</code> minutes.
The average for the 6pm time bucket now includes data between 6:15pm and 7pm, and
the average for the 7pm time bucket includes data between 7:15pm and 8pm.
The dotted lines show the points that make up each average.</p>

<p>Note that the first timestamp in the result is <code>2016-08-29T18:15:00Z</code>
instead of <code>2016-08-29T18:00:00Z</code>.</p>

<p>Raw data:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p>

<p>Results:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">name</span><span class="p">:</span> <span class="n">flower_orders</span>                                <span class="n">name</span><span class="p">:</span> <span class="n">flower_orders</span>
<span class="err">&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;</span>                                          <span class="c1">-------------------
</span><span class="c1"></span><span class="n">time</span>                    <span class="n">sunflowers</span>                 <span class="n">time</span>                  <span class="n">mean</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>    <span class="mi">34</span>                         <span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">30</span><span class="p">.</span><span class="mi">75</span>
                       <span class="o">|</span><span class="c1">--|                        2016-08-29T19:15:00Z  65
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">28</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">19</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T18</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">20</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">56</span><span class="o">|</span>
                       <span class="o">|</span><span class="c1">--|
</span><span class="c1"></span>                       <span class="o">|</span><span class="c1">--|
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">76</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">29</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T19</span><span class="p">:</span><span class="mi">45</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">90</span><span class="o">|</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T20</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">|</span><span class="mi">70</span><span class="o">|</span>
                       <span class="o">|</span><span class="c1">--|</span></code></pre></div>
<h2 id="why-do-my-queries-return-no-data-or-partial-data">Why do my queries return no data or partial data?</h2>

<p>The most common reasons why your query returns no data or partial data:</p>

<ul>
<li><a href="index.html#querying-wrong-retention-policies">Querying the wrong retention policy</a> (no data returned)</li>
<li><a href="index.html#no-field-key-in-the-select-clause">No field key in the SELECT clause</a> (no data returned)</li>
<li><a href="index.html#select-query-includes-group-by-time">SELECT query includes <code>GROUP BY time()</code></a> (partial data before <code>now()</code> returned)</li>
<li><a href="index.html#tag-and-field-key-with-the-same-name">Tag and field key with the same name</a></li>
</ul>

<h3 id="querying-the-wrong-retention-policy">Querying the wrong retention policy</h3>

<p>InfluxDB automatically queries data in a database&rsquo;s <code>DEFAULT</code> retention policy](/influxdb/v1.7/concepts/glossary/#retention-policy-rp) (RP). If your data is stored in another RP, you must specify the RP in your query to get results.</p>

<h3 id="no-field-key-in-the-select-clause">No field key in the SELECT clause</h3>

<p>A query requires at least one <a href="../../concepts/glossary/index.html#field-key">field key</a> in the <code>SELECT</code> clause. If the <code>SELECT</code> clause includes only <a href="../../concepts/glossary/index.html#tag-key">tag keys</a>, the query returns an empty response. For more information, see <a href="../../query_language/data_exploration/index.html#common-issues-with-the-select-statement">Data exploration</a>.</p>

<h3 id="select-query-includes-group-by-time">SELECT query includes <code>GROUP BY time()</code></h3>

<p>If your <code>SELECT</code> query includes a <a href="../../query_language/data_exploration/index.html#group-by-time-intervals"><code>GROUP BY time()</code> clause</a>, only data points between <code>1677-09-21 00:12:43.145224194</code> and <a href="../../concepts/glossary/index.html#now"><code>now()</code></a> are returned. Therefore, if any of your data points occur after <code>now()</code>, specify <a href="../../query_language/data_exploration/index.html#time-syntax">an alternative upper bound</a> in your time interval.</p>

<p>(By default, most <a href="../../query_language/data_exploration/index.html#the-basic-select-statement"><code>SELECT</code> queries</a> query data with timestamps between <code>1677-09-21 00:12:43.145224194</code> and <code>2262-04-11T23:47:16.854775806Z</code> UTC.)</p>

<h3 id="tag-and-field-key-with-the-same-name">Tag and field key with the same name</h3>

<p>Avoid using the same name for a tag and field key. If you inadvertently add the same name for a tag and field key, and then query both keys together, the query results show the second key queried (tag or field) appended with <code>_1</code> (also visible as the column header in Chronograf). To query a tag or field key appended with <code>_1</code>, you <strong>must drop</strong> the appended <code>_1</code> <strong>and include</strong> the syntax <code>::tag</code> or <code>::field</code>.</p>

<h4 id="example-5">Example</h4>

<ol>
<li><p><a href="../../tools/shell/index.html#launch-influx">Launch <code>influx</code></a>.</p></li>

<li><p>Write the following points to create both a field and tag key with the same name <code>leaves</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># create the `leaves` tag key
</span><span class="c1"></span>INSERT grape,leaves<span class="o">=</span>species <span class="nv">leaves</span><span class="o">=</span><span class="m">6</span>

<span class="c1">#create the `leaves` field key
</span><span class="c1"></span>INSERT grape <span class="nv">leaves</span><span class="o">=</span><span class="m">5</span></code></pre></div></li>

<li><p>If you view both keys, you&rsquo;ll notice that neither key includes <code>_1</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># show the `leaves` tag key
</span><span class="c1"></span>SHOW TAG KEYS

name: grape
tagKey
------
leaves

<span class="c1"># create the `leaves` field key
</span><span class="c1"></span>SHOW FIELD KEYS

name: grape
fieldKey   fieldType
------     ---------
leaves     float</code></pre></div></li>

<li><p>If you query the <code>grape</code> measurement, you&rsquo;ll see the <code>leaves</code> tag key has an appended <code>_1</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># query the `grape` measurement
</span><span class="c1"></span>SELECT * FROM &lt;database_name&gt;.&lt;retention_policy&gt;.<span class="s2">&#34;grape&#34;</span>

name: grape
<span class="nb">time</span>                leaves      leaves_1
----                --------    ----------
<span class="m">1574128162128468000</span> <span class="m">6</span>.00        species
<span class="m">1574128238044155000</span> <span class="m">5</span>.00</code></pre></div></li>

<li><p>To query a duplicate key name, you <strong>must drop</strong> <code>_1</code> <strong>and include</strong> <code>::tag</code> or <code>::field</code> after the key:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash"><span class="c1"># query duplicate keys using the correct syntax
</span><span class="c1"></span>SELECT <span class="s2">&#34;leaves&#34;</span>::tag, <span class="s2">&#34;leaves&#34;</span>::field FROM &lt;database_name&gt;.&lt;retention_policy&gt;.<span class="s2">&#34;grape&#34;</span>

name: grape
<span class="nb">time</span>                leaves     leaves_1
----                --------   ----------
<span class="m">1574128162128468000</span> species    <span class="m">6</span>.00
<span class="m">1574128238044155000</span>            <span class="m">5</span>.00</code></pre></div>
<p>Therefore, queries that reference <code>leaves_1</code> don&rsquo;t return values.</p></li>
</ol>


<div class="warn">
  <p><strong>Warning:</strong> If you inadvertently add a duplicate key name, follow the steps below to <a href="index.html#remove-a-duplicate-key">remove a duplicate key</a>. Because of memory requirements, if you have large amounts of data, we recommend chunking your data (while selecting it) by a specified interval (for example, date range) to fit the allotted memory.</p>

</div>


<h4 id="remove-a-duplicate-key">Remove a duplicate key</h4>

<ol>
<li><p><a href="../../tools/shell/index.html#launch-influx">Launch <code>influx</code></a>.</p></li>

<li><p>Use the following queries to remove a duplicate key.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="cm">/* select each field key to keep in the original measurement and send to a temporary 
</span><span class="cm">   measurement; then, group by the tag keys to keep (leave out the duplicate key) */</span>

<span class="k">SELECT</span> <span class="s2">&#34;field_key&#34;</span><span class="p">,</span><span class="s2">&#34;field_key2&#34;</span><span class="p">,</span><span class="s2">&#34;field_key3&#34;</span>
<span class="k">INTO</span> <span class="o">&lt;</span><span class="n">temporary_measurement</span><span class="o">&gt;</span> <span class="k">FROM</span> <span class="o">&lt;</span><span class="n">original_measurement</span><span class="o">&gt;</span>
<span class="k">WHERE</span> <span class="o">&lt;</span><span class="nb">date</span> <span class="n">range</span><span class="o">&gt;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="s2">&#34;tag_key&#34;</span><span class="p">,</span><span class="s2">&#34;tag_key2&#34;</span><span class="p">,</span><span class="s2">&#34;tag_key3&#34;</span>

<span class="cm">/* verify the field keys and tags keys were successfully moved to the temporary 
</span><span class="cm">measurement */</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;temporary_measurement&#34;</span>

<span class="cm">/* drop original measurement (with the duplicate key) */</span>
<span class="k">DROP</span> <span class="n">MEASUREMENT</span> <span class="s2">&#34;original_measurement&#34;</span>

<span class="cm">/* move data from temporary measurement back to original measurement you just dropped */</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">INTO</span> <span class="s2">&#34;original_measurement&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;temporary_measurement&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span>

<span class="cm">/* verify the field keys and tags keys were successfully moved back to the original
</span><span class="cm"> measurement */</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;original_measurement&#34;</span>

<span class="cm">/* drop temporary measurement */</span>
<span class="k">DROP</span> <span class="n">MEASUREMENT</span> <span class="s2">&#34;temporary_measurement&#34;</span></code></pre></div></li>
</ol>

<h2 id="why-don-t-my-group-by-time-queries-return-timestamps-that-occur-after-now">Why don&rsquo;t my GROUP BY time() queries return timestamps that occur after now()?</h2>

<p>Most <code>SELECT</code> statements have a default time range between <a href="index.html#what-are-the-minimum-and-maximum-timestamps-that-influxdb-can-store"><code>1677-09-21 00:12:43.145224194</code> and <code>2262-04-11T23:47:16.854775806Z</code> UTC</a>.
For <code>SELECT</code> statements with a <a href="../../query_language/data_exploration/index.html#group-by-time-intervals"><code>GROUP BY time()</code> clause</a>, the default time
range is between <code>1677-09-21 00:12:43.145224194</code> UTC and <a href="../../concepts/glossary/index.html#now"><code>now()</code></a>.</p>

<p>To query data with timestamps that occur after <code>now()</code>, <code>SELECT</code> statements with
a <code>GROUP BY time()</code> clause must provide an alternative upper bound in the
<a href="../../query_language/data_exploration/index.html#the-where-clause"><code>WHERE</code> clause</a>.</p>

<p>In the following example, the first query covers data with timestamps between
<code>2015-09-18T21:30:00Z</code> and <code>now()</code>.
The second query covers data with timestamps between <code>2015-09-18T21:30:00Z</code> and 180 weeks from <code>now()</code>.</p>

<pre><code>&gt; SELECT MEAN(&#34;boards&#34;) FROM &#34;hillvalley&#34; WHERE time &gt;= &#39;2015-09-18T21:30:00Z&#39; GROUP BY time(12m) fill(none)


&gt; SELECT MEAN(&#34;boards&#34;) FROM &#34;hillvalley&#34; WHERE time &gt;= &#39;2015-09-18T21:30:00Z&#39; AND time &lt;= now() + 180w GROUP BY time(12m) fill(none)
</code></pre>

<p>Note that the <code>WHERE</code> clause must provide an alternative <strong>upper</strong> bound to
override the default <code>now()</code> upper bound. The following query merely resets
the lower bound to <code>now()</code> such that the query&rsquo;s time range is between
<code>now()</code> and <code>now()</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;boards&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;hillvalley&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="n">now</span><span class="p">()</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="k">none</span><span class="p">)</span>
<span class="o">&gt;</span></code></pre></div>
<p>For for more on time syntax in queries, see <a href="../../query_language/data_exploration/index.html#time-syntax">Data Exploration</a>.</p>

<h2 id="can-i-perform-mathematical-operations-against-timestamps">Can I perform mathematical operations against timestamps?</h2>

<p>Currently, it is not possible to execute mathematical operators against timestamp values in InfluxDB.
Most time calculations must be carried out by the client receiving the query results.</p>

<p>There is limited support for using InfluxQL functions against timestamp values.
The function <a href="../../query_language/functions/index.html#elapsed">ELAPSED()</a>
returns the difference between subsequent timestamps in a single field.</p>

<h2 id="can-i-identify-write-precision-from-returned-timestamps">Can I identify write precision from returned timestamps?</h2>

<p>InfluxDB stores all timestamps as nanosecond values, regardless of the write precision supplied.
It is important to note that when returning query results, the database silently drops trailing zeros from timestamps which obscures the initial write precision.</p>

<p>In the example below, the tags <code>precision_supplied</code> and <code>timestamp_supplied</code> show the time precision and timestamp that the user provided at the write.
Because InfluxDB silently drops trailing zeros on returned timestamps, the write precision is not recognizable in the returned timestamps.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">name</span><span class="p">:</span> <span class="n">trails</span>
<span class="c1">-------------
</span><span class="c1"></span><span class="n">time</span>                  <span class="n">value</span>	 <span class="n">precision_supplied</span>  <span class="n">timestamp_supplied</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T01</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">3</span>      <span class="n">n</span>                   <span class="mi">3600000000000</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T01</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">5</span>      <span class="n">h</span>                   <span class="mi">1</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T02</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">4</span>      <span class="n">n</span>                   <span class="mi">7200000000000</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T02</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">6</span>      <span class="n">h</span>                   <span class="mi">2</span></code></pre></div>

<div class="warn">
  <a href="https://github.com/influxdb/influxdb/issues/2977">GitHub Issue #2977</a>
</div>


<h2 id="when-should-i-single-quote-and-when-should-i-double-quote-in-queries">When should I single quote and when should I double quote in queries?</h2>

<p>Single quote string values (for example, tag values) but do not single quote identifiers (database names, retention policy names, user names, measurement names, tag keys, and field keys).</p>

<p>Double quote identifiers if they start with a digit, contain characters other than <code>[A-z,0-9,_]</code>, or if they are an <a href="https://github.com/influxdata/influxql/blob/master/README.md#keywords">InfluxQL keyword</a>.
Double quotes are not required for identifiers if they don&rsquo;t fall into one of
those categories but we recommend double quoting them anyway.</p>

<p>Examples:</p>

<p>Yes: <code>SELECT bikes_available FROM bikes WHERE station_id=&#39;9&#39;</code></p>

<p>Yes: <code>SELECT &#34;bikes_available&#34; FROM &#34;bikes&#34; WHERE &#34;station_id&#34;=&#39;9&#39;</code></p>

<p>Yes: <code>SELECT MIN(&#34;avgrq-sz&#34;) AS &#34;min_avgrq-sz&#34; FROM telegraf</code></p>

<p>Yes: <code>SELECT * from &#34;cr@zy&#34; where &#34;p^e&#34;=&#39;2&#39;</code></p>

<p>No: <code>SELECT &#39;bikes_available&#39; FROM &#39;bikes&#39; WHERE &#39;station_id&#39;=&#34;9&#34;</code></p>

<p>No: <code>SELECT * from cr@zy where p^e=&#39;2&#39;</code></p>

<p>Single quote date time strings. InfluxDB returns an error (<code>ERR: invalid
operation: time and *influxql.VarRef are not compatible</code>) if you double quote
a date time string.</p>

<p>Examples:</p>

<p>Yes: <code>SELECT &#34;water_level&#34; FROM &#34;h2o_feet&#34; WHERE time &gt; &#39;2015-08-18T23:00:01.232000000Z&#39; AND time &lt; &#39;2015-09-19&#39;</code></p>

<p>No: <code>SELECT &#34;water_level&#34; FROM &#34;h2o_feet&#34; WHERE time &gt; &#34;2015-08-18T23:00:01.232000000Z&#34; AND time &lt; &#34;2015-09-19&#34;</code></p>

<p>See <a href="../../query_language/data_exploration/index.html#time-syntax">Data Exploration</a> for more on time syntax in queries.</p>

<h2 id="why-am-i-missing-data-after-creating-a-new-default-retention-policy">Why am I missing data after creating a new DEFAULT retention policy?</h2>

<p>When you create a new <code>DEFAULT</code> retention policy (RP) on a database, the data written to the old <code>DEFAULT</code> RP remain in the old RP.
Queries that do not specify an RP automatically query the new <code>DEFAULT</code> RP so the old data may appear to be missing.
To query the old data you must fully qualify the relevant data in the query.</p>

<p>Example:</p>

<p>All of the data in the measurement <code>fleeting</code> fall under the <code>DEFAULT</code> RP called <code>one_hour</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="n">flounders</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">fleeting</span>
<span class="n">name</span><span class="p">:</span> <span class="n">fleeting</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>			               <span class="k">count</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">8</span></code></pre></div>
<p>We <a href="../../query_language/database_management/index.html#create-retention-policies-with-create-retention-policy">create</a> a new <code>DEFAULT</code> RP (<code>two_hour</code>) and perform the same query:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="n">flounders</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">fleeting</span>
<span class="o">&gt;</span></code></pre></div>
<p>To query the old data, we must specify the old <code>DEFAULT</code> RP by fully qualifying <code>fleeting</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">count</span><span class="p">(</span><span class="n">flounders</span><span class="p">)</span> <span class="k">FROM</span> <span class="n">fish</span><span class="p">.</span><span class="n">one_hour</span><span class="p">.</span><span class="n">fleeting</span>
<span class="n">name</span><span class="p">:</span> <span class="n">fleeting</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>			               <span class="k">count</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">8</span></code></pre></div>
<h2 id="why-is-my-query-with-a-where-or-time-clause-returning-empty-results">Why is my query with a <code>WHERE OR</code> time clause returning empty results?</h2>

<p>Currently, InfluxDB does not support using <code>OR</code> in the <code>WHERE</code> clause to specify multiple time ranges.
InfluxDB returns an empty response if the query&rsquo;s <code>WHERE</code> clause uses <code>OR</code>
with time intervals.</p>

<p>Example:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;absolutismus&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">=</span> <span class="s1">&#39;2016-07-31T20:07:00Z&#39;</span> <span class="k">OR</span> <span class="n">time</span> <span class="o">=</span> <span class="s1">&#39;2016-07-31T23:07:17Z&#39;</span>
<span class="o">&gt;</span></code></pre></div>

<div class="warn">
  <p><a href="https://github.com/influxdata/influxdb/issues/7530">GitHub Issue #7530</a></p>

</div>


<h2 id="why-does-fill-previous-return-empty-results">Why does <code>fill(previous)</code> return empty results?</h2>

<p><code>fill(previous)</code> doesn&rsquo;t fill the result for a time bucket if the previous value is outside the query&rsquo;s time range.</p>

<p>In the following example, InfluxDB doesn&rsquo;t fill the <code>2016-07-12T16:50:20Z</code>-<code>2016-07-12T16:50:30Z</code> time bucket with the results from the <code>2016-07-12T16:50:00Z</code>-<code>2016-07-12T16:50:10Z</code> time bucket because the query&rsquo;s time range does not include the earlier time bucket.</p>

<p>Raw data:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;cupcakes&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">cupcakes</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">chocolate</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">12</span><span class="n">T16</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">12</span><span class="n">T16</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">10</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">12</span><span class="n">T16</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">40</span><span class="n">Z</span>   <span class="mi">12</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">12</span><span class="n">T16</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">50</span><span class="n">Z</span>   <span class="mi">11</span></code></pre></div>
<p><code>GROUP BY time()</code> query:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">max</span><span class="p">(</span><span class="s2">&#34;chocolate&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;cupcakes&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2016-07-12T16:50:20Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2016-07-12T16:51:10Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">20</span><span class="n">s</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="n">previous</span><span class="p">)</span>
<span class="n">name</span><span class="p">:</span> <span class="n">cupcakes</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">12</span><span class="n">T16</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">20</span><span class="n">Z</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">12</span><span class="n">T16</span><span class="p">:</span><span class="mi">50</span><span class="p">:</span><span class="mi">40</span><span class="n">Z</span>   <span class="mi">12</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">12</span><span class="n">T16</span><span class="p">:</span><span class="mi">51</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">12</span></code></pre></div>
<p>While this is the expected behavior of <code>fill(previous)</code>, an <a href="https://github.com/influxdata/influxdb/issues/6878">open feature request</a> on GitHub proposes that <code>fill(previous)</code> should fill results even when previous values fall outside the query&rsquo;s time range.</p>

<h2 id="why-are-my-into-queries-missing-data">Why are my INTO queries missing data?</h2>

<p>By default, <code>INTO</code> queries convert any tags in the initial data to fields in
the newly written data.
This can cause InfluxDB to overwrite <a href="../../concepts/glossary/index.html#point">points</a> that were previously differentiated by a tag.
Include <code>GROUP BY *</code> in all <code>INTO</code> queries to preserve tags in the newly written data.</p>

<p>Note that this behavior does not apply to queries that use the <a href="../../query_language/functions/index.html#top"><code>TOP()</code></a> or <a href="../../query_language/functions/index.html#bottom"><code>BOTTOM()</code></a> functions.
See the <a href="../../query_language/functions/index.html#issue-3-top-tags-and-the-into-clause"><code>TOP()</code></a> and <a href="../../query_language/functions/index.html#issue-3-bottom-tags-and-the-into-clause"><code>BOTTOM()</code></a> documentation for more information.</p>

<h4 id="example-6">Example</h4>

<h5 id="initial-data">Initial data</h5>

<p>The <code>french_bulldogs</code> measurement includes the <code>color</code> tag and the <code>name</code> field.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;french_bulldogs&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">french_bulldogs</span>
<span class="c1">---------------------
</span><span class="c1"></span><span class="n">time</span>                  <span class="n">color</span>  <span class="n">name</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">peach</span>  <span class="n">nugget</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">grey</span>   <span class="n">rumple</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">black</span>  <span class="n">prince</span></code></pre></div>
<h5 id="into-query-without-group-by"><code>INTO</code> query without <code>GROUP BY *</code></h5>

<p>An <code>INTO</code> query without a <code>GROUP BY *</code> clause turns the <code>color</code> tag into
a field in the newly written data.
In the initial data the <code>nugget</code> point and the <code>rumple</code> points are differentiated only by the <code>color</code> tag.
Once <code>color</code> becomes a field, InfluxDB assumes that the <code>nugget</code> point and the
<code>rumple</code> point are duplicate points and it overwrites the <code>nugget</code> point with
the <code>rumple</code> point.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">INTO</span> <span class="s2">&#34;all_dogs&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;french_bulldogs&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="k">result</span>
<span class="c1">------------
</span><span class="c1"></span><span class="n">time</span>                  <span class="n">written</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">3</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;all_dogs&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">all_dogs</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                  <span class="n">color</span>  <span class="n">name</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">grey</span>   <span class="n">rumple</span>                <span class="o">&lt;</span><span class="c1">---- no more nugget 🐶
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">black</span>  <span class="n">prince</span></code></pre></div>
<h5 id="into-query-with-group-by"><code>INTO</code> query with <code>GROUP BY *</code></h5>

<p>An <code>INTO</code> query with a <code>GROUP BY *</code> clause preserves <code>color</code> as a tag in the newly written data.
In this case, the <code>nugget</code> point and the <code>rumple</code> point remain unique points and InfluxDB does not overwrite any data.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;name&#34;</span> <span class="k">INTO</span> <span class="s2">&#34;all_dogs&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;french_bulldogs&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span>
<span class="n">name</span><span class="p">:</span> <span class="k">result</span>
<span class="c1">------------
</span><span class="c1"></span><span class="n">time</span>                  <span class="n">written</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">3</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;all_dogs&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">all_dogs</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                  <span class="n">color</span>  <span class="n">name</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">peach</span>  <span class="n">nugget</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">grey</span>   <span class="n">rumple</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">25</span><span class="n">T00</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="n">black</span>  <span class="n">prince</span></code></pre></div>
<h2 id="how-do-i-query-data-with-an-identical-tag-key-and-field-key">How do I query data with an identical tag key and field key?</h2>

<p>Use the <code>::</code> syntax to specify if the key is a field key or tag key.</p>

<h4 id="examples">Examples</h4>

<h5 id="sample-data">Sample data</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">INSERT</span> <span class="n">candied</span><span class="p">,</span><span class="n">almonds</span><span class="o">=</span><span class="k">true</span> <span class="n">almonds</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span><span class="n">half_almonds</span><span class="o">=</span><span class="mi">51</span> <span class="mi">1465317610000000000</span>
<span class="o">&gt;</span> <span class="k">INSERT</span> <span class="n">candied</span><span class="p">,</span><span class="n">almonds</span><span class="o">=</span><span class="k">true</span> <span class="n">almonds</span><span class="o">=</span><span class="mi">55</span><span class="p">,</span><span class="n">half_almonds</span><span class="o">=</span><span class="mi">56</span> <span class="mi">1465317620000000000</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;candied&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">candied</span>
<span class="c1">-------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">almonds</span>  <span class="n">almonds_1</span>  <span class="n">half_almonds</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T16</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">10</span><span class="n">Z</span>   <span class="mi">50</span>       <span class="k">true</span>       <span class="mi">51</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T16</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">20</span><span class="n">Z</span>   <span class="mi">55</span>       <span class="k">true</span>       <span class="mi">56</span></code></pre></div>
<h5 id="specify-that-the-key-is-a-field">Specify that the key is a field:</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;candied&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;almonds&#34;</span><span class="p">::</span><span class="n">field</span> <span class="o">&gt;</span> <span class="mi">51</span>
<span class="n">name</span><span class="p">:</span> <span class="n">candied</span>
<span class="c1">-------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">almonds</span>  <span class="n">almonds_1</span>  <span class="n">half_almonds</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T16</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">20</span><span class="n">Z</span>   <span class="mi">55</span>       <span class="k">true</span>       <span class="mi">56</span></code></pre></div>
<h5 id="specify-that-the-key-is-a-tag">Specify that the key is a tag:</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;candied&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;almonds&#34;</span><span class="p">::</span><span class="n">tag</span><span class="o">=</span><span class="s1">&#39;true&#39;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">candied</span>
<span class="c1">-------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">almonds</span>  <span class="n">almonds_1</span>  <span class="n">half_almonds</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T16</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">10</span><span class="n">Z</span>   <span class="mi">50</span>       <span class="k">true</span>       <span class="mi">51</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">07</span><span class="n">T16</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">20</span><span class="n">Z</span>   <span class="mi">55</span>       <span class="k">true</span>       <span class="mi">56</span></code></pre></div>
<h2 id="how-do-i-query-data-across-measurements">How do I query data across measurements?</h2>

<p>Currently, there is no way to perform cross-measurement math or grouping.
All data must be under a single measurement to query it together.
InfluxDB is not a relational database and mapping data across measurements is not currently a recommended <a href="../../concepts/glossary/index.html#schema">schema</a>.
See GitHub Issue <a href="https://github.com/influxdata/influxdb/issues/3552">#3552</a> for a discussion of implementing JOIN in InfluxDB.</p>

<h2 id="does-the-order-of-the-timestamps-matter">Does the order of the timestamps matter?</h2>

<p>No.
Our tests indicate that there is a only a negligible difference between the times
it takes InfluxDB to complete the following queries:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="p">...</span> <span class="k">FROM</span> <span class="p">...</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="s1">&#39;timestamp1&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="s1">&#39;timestamp2&#39;</span>
<span class="k">SELECT</span> <span class="p">...</span> <span class="k">FROM</span> <span class="p">...</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="s1">&#39;timestamp2&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="s1">&#39;timestamp1&#39;</span></code></pre></div>
<h2 id="how-do-i-select-data-with-a-tag-that-has-no-value">How do I SELECT data with a tag that has no value?</h2>

<p>Specify an empty tag value with <code>&#39;&#39;</code>. For example:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;vases&#34;</span> <span class="k">WHERE</span> <span class="n">priceless</span><span class="o">=</span><span class="s1">&#39;&#39;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">vases</span>
<span class="c1">-----------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">origin</span>   <span class="n">priceless</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">20</span><span class="n">T18</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span></code></pre></div>
<h2 id="why-does-series-cardinality-matter">Why does series cardinality matter?</h2>

<p>InfluxDB maintains an in-memory index of every <a href="../../concepts/glossary/index.html#series">series</a> in the system. As the number of unique series grows, so does the RAM usage. High <a href="../../concepts/glossary/index.html#series-cardinality">series cardinality</a> can lead to the operating system killing the InfluxDB process with an out of memory (OOM) exception. See <a href="../../query_language/spec/index.html#show-cardinality">SHOW CARDINALITY</a> to learn about the InfluxSQL commands for series cardinality.</p>

<h2 id="how-can-i-remove-series-from-the-index">How can I remove series from the index?</h2>

<p>To reduce series cardinality, series must be dropped from the index.
<a href="../../query_language/database_management/index.html#delete-a-database-with-drop-database"><code>DROP DATABASE</code></a>,
<a href="../../query_language/database_management/index.html#delete-measurements-with-drop-measurement"><code>DROP MEASUREMENT</code></a>, and
<a href="../../query_language/database_management/index.html#drop-series-from-the-index-with-drop-series"><code>DROP SERIES</code></a> will all remove series from the index and reduce the overall series cardinality.</p>

<blockquote>
<p><strong>Note:</strong> <code>DROP</code> commands are usually CPU-intensive, as they frequently trigger a TSM compaction. Issuing <code>DROP</code> queries at a high frequency may significantly impact write and other query throughput.</p>
</blockquote>

<h2 id="how-do-i-write-integer-field-values">How do I write integer field values?</h2>

<p>Add a trailing <code>i</code> to the end of the field value when writing an integer.
If you do not provide the <code>i</code>, InfluxDB will treat the field value as a float.</p>

<p>Writes an integer: <code>value=100i</code>
Writes a float: <code>value=100</code></p>

<h2 id="how-does-influxdb-handle-duplicate-points">How does InfluxDB handle duplicate points?</h2>

<p>A point is uniquely identified by the measurement name, <a href="../../concepts/glossary/index.html#tag-set">tag set</a>, and timestamp.
If you submit a new point with the same measurement, tag set, and timestamp as an existing point, the field set becomes the union of the old field set and the new field set, where any ties go to the new field set.
This is the intended behavior.</p>

<p>For example:</p>

<p>Old point: <code>cpu_load,hostname=server02,az=us_west val_1=24.5,val_2=7 1234567890000000</code></p>

<p>New point: <code>cpu_load,hostname=server02,az=us_west val_1=5.24 1234567890000000</code></p>

<p>After you submit the new point, InfluxDB overwrites <code>val_1</code> with the new field value and leaves the field <code>val_2</code> alone:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;cpu_load&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">1234567890000000</span>
<span class="n">name</span><span class="p">:</span> <span class="n">cpu_load</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                      <span class="n">az</span>        <span class="n">hostname</span>   <span class="n">val_1</span>   <span class="n">val_2</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">15</span><span class="n">T06</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">07</span><span class="p">.</span><span class="mi">89</span><span class="n">Z</span>   <span class="n">us_west</span>   <span class="n">server02</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">24</span>    <span class="mi">7</span></code></pre></div>
<p>To store both points:</p>

<ul>
<li><p>Introduce an arbitrary new tag to enforce uniqueness.</p>

<p>Old point: <code>cpu_load,hostname=server02,az=us_west,uniq=1 val_1=24.5,val_2=7 1234567890000000</code></p>

<p>New point: <code>cpu_load,hostname=server02,az=us_west,uniq=2 val_1=5.24 1234567890000000</code></p>

<p>After writing the new point to InfluxDB:</p></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;cpu_load&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">=</span> <span class="mi">1234567890000000</span>
<span class="n">name</span><span class="p">:</span> <span class="n">cpu_load</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                      <span class="n">az</span>        <span class="n">hostname</span>   <span class="n">uniq</span>   <span class="n">val_1</span>   <span class="n">val_2</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">15</span><span class="n">T06</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">07</span><span class="p">.</span><span class="mi">89</span><span class="n">Z</span>   <span class="n">us_west</span>   <span class="n">server02</span>   <span class="mi">1</span>      <span class="mi">24</span><span class="p">.</span><span class="mi">5</span>    <span class="mi">7</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">15</span><span class="n">T06</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">07</span><span class="p">.</span><span class="mi">89</span><span class="n">Z</span>   <span class="n">us_west</span>   <span class="n">server02</span>   <span class="mi">2</span>      <span class="mi">5</span><span class="p">.</span><span class="mi">24</span></code></pre></div>
<ul>
<li><p>Increment the timestamp by a nanosecond.</p>

<p>Old point: <code>cpu_load,hostname=server02,az=us_west val_1=24.5,val_2=7 1234567890000000</code></p>

<p>New point: <code>cpu_load,hostname=server02,az=us_west val_1=5.24 1234567890000001</code></p>

<p>After writing the new point to InfluxDB:</p></li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;cpu_load&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="mi">1234567890000000</span> <span class="k">and</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="mi">1234567890000001</span>
<span class="n">name</span><span class="p">:</span> <span class="n">cpu_load</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                             <span class="n">az</span>        <span class="n">hostname</span>   <span class="n">val_1</span>   <span class="n">val_2</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">15</span><span class="n">T06</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">07</span><span class="p">.</span><span class="mi">89</span><span class="n">Z</span>          <span class="n">us_west</span>   <span class="n">server02</span>   <span class="mi">24</span><span class="p">.</span><span class="mi">5</span>    <span class="mi">7</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">15</span><span class="n">T06</span><span class="p">:</span><span class="mi">56</span><span class="p">:</span><span class="mi">07</span><span class="p">.</span><span class="mi">890000001</span><span class="n">Z</span>   <span class="n">us_west</span>   <span class="n">server02</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">24</span></code></pre></div>
<h2 id="what-newline-character-does-the-influxdb-api-require">What newline character does the InfluxDB API require?</h2>

<p>The InfluxDB line protocol relies on line feed (<code>\n</code>, which is ASCII <code>0x0A</code>) to indicate the end of a line and the beginning of a new line. Files or data that use a newline character other than <code>\n</code> will result in the following errors: <code>bad timestamp</code>, <code>unable to parse</code>.</p>

<p>Note that Windows uses carriage return and line feed (<code>\r\n</code>) as the newline character.</p>

<h2 id="what-words-and-characters-should-i-avoid-when-writing-data-to-influxdb">What words and characters should I avoid when writing data to InfluxDB?</h2>

<h3 id="influxql-keywords">InfluxQL keywords</h3>

<p>If you use an <a href="https://github.com/influxdata/influxql/blob/master/README.md#keywords">InfluxQL keyword</a> as an identifier you will need to double quote that identifier in every query.
This can lead to <a href="../errors/index.html#error-parsing-query-found-expected-identifier-at-line-char">non-intuitive errors</a>.
Identifiers are continuous query names, database names, field keys, measurement names, retention policy names, subscription names, tag keys, and user names.</p>

<h3 id="time">time</h3>

<p>The keyword <code>time</code> is a special case.
<code>time</code> can be a
<a href="../../concepts/glossary/index.html#continuous-query-cq">continuous query</a> name,
database name,
<a href="../../concepts/glossary/index.html#measurement">measurement</a> name,
<a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a> name,
<a href="../../concepts/glossary/index.html#subscription">subscription</a> name, and
<a href="../../concepts/glossary/index.html#user">user</a> name.
In those cases, <code>time</code> does not require double quotes in queries.
<code>time</code> cannot be a <a href="../../concepts/glossary/index.html#field-key">field key</a> or
<a href="../../concepts/glossary/index.html#tag-key">tag key</a>;
InfluxDB rejects writes with <code>time</code> as a field key or tag key and returns an error.</p>

<h4 id="examples-1">Examples</h4>

<h5 id="write-time-as-a-measurement-and-query-it">Write <code>time</code> as a measurement and query it</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">INSERT</span> <span class="n">time</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">time</span>

<span class="n">name</span><span class="p">:</span> <span class="n">time</span>
<span class="n">time</span>                            <span class="n">value</span>
<span class="c1">----                            -----
</span><span class="c1"></span><span class="mi">2017</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">07</span><span class="n">T18</span><span class="p">:</span><span class="mi">28</span><span class="p">:</span><span class="mi">27</span><span class="p">.</span><span class="mi">349785384</span><span class="n">Z</span>  <span class="mi">1</span></code></pre></div>
<p><code>time</code> is a valid measurement name in InfluxDB.</p>

<h5 id="write-time-as-a-field-key-and-attempt-to-query-it">Write <code>time</code> as a field key and attempt to query it</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">INSERT</span> <span class="n">mymeas</span> <span class="n">time</span><span class="o">=</span><span class="mi">1</span>
<span class="n">ERR</span><span class="p">:</span> <span class="err">{</span><span class="s2">&#34;error&#34;</span><span class="p">:</span><span class="s2">&#34;partial write: invalid field name: input field \&#34;</span><span class="n">time</span><span class="err">\</span><span class="s2">&#34; on measurement \&#34;</span><span class="n">mymeas</span><span class="err">\</span><span class="s2">&#34; is invalid dropped=1&#34;</span><span class="err">}</span></code></pre></div>
<p><code>time</code> is not a valid field key in InfluxDB.
The system does does not write the point and returns a <code>400</code>.</p>

<h5 id="write-time-as-a-tag-key-and-attempt-to-query-it">Write <code>time</code> as a tag key and attempt to query it</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">INSERT</span> <span class="n">mymeas</span><span class="p">,</span><span class="n">time</span><span class="o">=</span><span class="mi">1</span> <span class="n">value</span><span class="o">=</span><span class="mi">1</span>
<span class="n">ERR</span><span class="p">:</span> <span class="err">{</span><span class="s2">&#34;error&#34;</span><span class="p">:</span><span class="s2">&#34;partial write: invalid tag key: input tag \&#34;</span><span class="n">time</span><span class="err">\</span><span class="s2">&#34; on measurement \&#34;</span><span class="n">mymeas</span><span class="err">\</span><span class="s2">&#34; is invalid dropped=1&#34;</span><span class="err">}</span></code></pre></div>
<p><code>time</code> is not a valid tag key in InfluxDB.
The system does does not write the point and returns a <code>400</code>.</p>

<h3 id="characters">Characters</h3>

<p>To keep regular expressions and quoting simple, avoid using the following characters in identifiers:</p>

<p><code>\</code> backslash
 <code>^</code> circumflex accent
 <code>$</code> dollar sign
 <code>&#39;</code> single quotation mark
 <code>&#34;</code> double quotation mark
 <code>=</code> equal sign
 <code>,</code> comma</p>

<h2 id="when-should-i-single-quote-and-when-should-i-double-quote-when-writing-data">When should I single quote and when should I double quote when writing data?</h2>

<ul>
<li><p>Avoid single quoting and double quoting identifiers when writing data via the line protocol; see the examples below for how writing identifiers with quotes can complicate queries.
Identifiers are database names, retention policy names, user names, measurement names, tag keys, and field keys.</p>

<p>Write with a double-quoted measurement: <code>INSERT &#34;bikes&#34; bikes_available=3</code>
Applicable query: <code>SELECT * FROM &#34;\&#34;bikes\&#34;&#34;</code></p>

<p>Write with a single-quoted measurement: <code>INSERT &#39;bikes&#39; bikes_available=3</code>
Applicable query: <code>SELECT * FROM &#34;\&#39;bikes\&#39;&#34;</code></p>

<p>Write with an unquoted measurement: <code>INSERT bikes bikes_available=3</code>
Applicable query: <code>SELECT * FROM &#34;bikes&#34;</code></p></li>

<li><p>Double quote field values that are strings.</p>

<p>Write: <code>INSERT bikes happiness=&#34;level 2&#34;</code>
Applicable query: <code>SELECT * FROM &#34;bikes&#34; WHERE &#34;happiness&#34;=&#39;level 2&#39;</code></p></li>

<li><p>Special characters should be escaped with a backslash and not placed in quotes.</p>

<p>Write: <code>INSERT wacky va\&#34;ue=4</code>
Applicable query: <code>SELECT &#34;va\&#34;ue&#34; FROM &#34;wacky&#34;</code></p></li>
</ul>

<p>For more information , see <a href="../../write_protocols/index.html">Line protocol</a>.</p>

<h2 id="does-the-precision-of-the-timestamp-matter">Does the precision of the timestamp matter?</h2>

<p>Yes.
To maximize performance, use the coarsest possible timestamp precision when writing data to InfluxDB.</p>

<p>In the following two examples, the first request uses a default precision of nanoseconds while the second example sets the precision to seconds:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=weather&#34;</span> --data-binary <span class="s1">&#39;temperature,location=1 value=90 1472666050000000000&#39;</span>

curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=weather&amp;precision=s&#34;</span> --data-binary <span class="s1">&#39;temperature,location=1 value=90 1472666050&#39;</span></code></pre></div>
<p>The tradeoff is that identical points with duplicate timestamps, more likely to occur as precision gets coarser, may overwrite other points.</p>

<h2 id="what-are-the-configuration-recommendations-and-schema-guidelines-for-writing-sparse-historical-data">What are the configuration recommendations and schema guidelines for writing sparse, historical data?</h2>

<p>For users who want to write sparse, historical data to InfluxDB, InfluxData recommends:</p>

<p>First, lengthening your <a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a>&lsquo;s <a href="../../concepts/glossary/index.html#shard-group">shard group</a> duration to cover several years.
The default shard group duration is one week and if your data cover several hundred years &ndash; well, that&rsquo;s a lot of shards!
Having an extremely high number of shards is inefficient for InfluxDB.
Increase the shard group duration for your data&rsquo;s retention policy with the <a href="../../query_language/database_management/index.html#modify-retention-policies-with-alter-retention-policy"><code>ALTER RETENTION POLICY</code> query</a>.</p>

<p>Second, temporarily lowering the <a href="../../administration/config/index.html#cache-snapshot-write-cold-duration-10m"><code>cache-snapshot-write-cold-duration</code> configuration setting</a>.
If you&rsquo;re writing a lot of historical data, the default setting (<code>10m</code>) can cause the system to hold all of your data in cache for every shard.
Temporarily lowering the <code>cache-snapshot-write-cold-duration</code> setting to <code>10s</code> while you write the historical data makes the process more efficient.</p>

		</div>
	</section>
	
<section class="article-section article-footer">
	<div class="article-content">
		<p><span class="icon logo" style="margin-right: 1em;"></span> This documentation is <a href="https://github.com/influxdata/docs.influxdata.com/blob/master/content/influxdb/v1.7/troubleshooting/frequently-asked-questions.md">open source</a>. See a typo? Please, open an <a href="https://github.com/influxdata/docs.influxdata.com/issues/new">issue</a>.</p>
		<br/>
		<p><span class="icon bubbles2" style="margin-right: 1em;"></span><strong>Need help getting up and running?</strong> <a href="https://www.influxdata.com/products/services/" target="_blank">Get Support</a></p>
	</div>
</section>


</article>
<script>window.jQuery || document.write('<script src="../../../../js/vendor/jquery-2.1.4.min.js"><\/script>')</script>

<script src="../../../../js/docs-interactions.js" type="text/javascript"></script>
<script>
  $("h2, h3, h4").each(function() {
  var link = "<a href="https://docs.influxdata.com/influxdb/v1.7/troubleshooting/frequently-asked-questions/\&quot;#"" + $(this).attr("id") + "\"></a>"
  $(this).wrapInner( link );
  })
</script>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45024174-5', 'auto');ga('send', 'pageview');</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  docsearch({
    apiKey: 'ba4435a9d456ac0d954cc276206eac06',
    appId: 'WHM9UWMP6M',
    indexName: 'influxdata',
    inputSelector: '#algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 15,
      facets: [ "project", "version", "latest"],
      facetFilters: [ "latest:true" ]
    }
  });
</script>



<div class="modal-overlay"></div>
<div id="chronograf-url-modal" class="modal-content">
    <label>Chronograf Data Explorer URL</label>
    <form class="flex-form" id="save-chronograf-url">
        <input type="text" id="chronograf-url" name="chronograf-url"/>
        <button class="save-btn"><span>Save</span></button>
    </form>
    <a id="default-chronograf-url">Revert to Default</a>
</div>

</body></html>