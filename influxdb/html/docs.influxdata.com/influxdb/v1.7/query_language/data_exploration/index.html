<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title> Data exploration using InfluxQL | InfluxData Documentation</title>
    <meta name="description" content="Explore time series data using InfluxData&#39;s SQL-like query language. Understand how to use the SELECT statement to query data from measurements, tags, and fields.. ">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="../../../../img/favicon.ico" type="image/x-icon">

    
    
    
    
    <meta name="docsearch:latest" content="true">
    
    

    
    <meta name="robots" 
        
         content="index, follow"  >

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" title="dark-theme" href="../../../../css/docs-default.css">
    <link rel="alternate stylesheet" title="light-theme" href="https://docs.influxdata.com/css/docs-light.css">

    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,400italic,500italic,700,700italic,900,900italic'
        rel='stylesheet' type='text/css'>

    <meta name="application-name" content="InfluxData" />
    <meta name="msapplication-TileColor" content="" />

    <meta name="msapplication-TileImage" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png" />

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@influxdb">
    <meta name="twitter:title" content=" Data exploration using InfluxQL | InfluxData Documentation">
    <meta name="twitter:description" content="Explore time series data using InfluxData&#39;s SQL-like query language. Understand how to use the SELECT statement to query data from measurements, tags, and fields.. ">

    <meta name="twitter:image" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png" />

    <meta property="fb:app_id" content="222112578359661" />
    <meta property="og:title" content=" Data exploration using InfluxQL | InfluxData Documentation" />
    <meta property="og:description" content="Explore time series data using InfluxData&#39;s SQL-like query language. Understand how to use the SELECT statement to query data from measurements, tags, and fields.. " />
    <meta property="og:url" content="https://docs.influxdata.com/" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.influxdata.com/wp-content/uploads/Simple-Kubo.jpg" />
    <meta property="og:image:width" content="555px" />
    <meta property="og:image:height" content="290px" />

    <meta name="Copyright" content="InfluxData Inc." />

    
    <script type="text/javascript" src="https://script.crazyegg.com/pages/scripts/0080/4231.js" async="async"></script>

    <script src="../../../../js/vendor/js.cookie.js" type="text/javascript"></script>
    <script src="../../../../js/docs-themes.js" type="text/javascript"></script>
    <script src="../../../../js/docs-chronograf-url.js" type="text/javascript"></script>
    <script type="text/javascript">
        set_style_from_cookie();

    </script>
</head>

<body      class="docs-theme--influxdb"
               >
    
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WXRH9C');

    </script>
    
    <nav class="navbar" id="main-nav">
    <div class="navbar--logo">
      <a href="https://www.influxdata.com/"  target="_blank" title="Go to InfluxData">
        <span class="icon logo"></span>
        <span class="icon logotype"></span>
      </a>
      <span class="divider"></span>
      <a href="https://docs.influxdata.com/" class="navbar--docs klavika-font" title="Go to Documentation Homepage">Docs</span></a>
    </div>
    

<div class="navbar--hamburger" id="navbar--hamburger">
    <div class="navbar--hamburger-bar top"></div>
    <div class="navbar--hamburger-bar middle"></div>
    <div class="navbar--hamburger-bar bottom"></div>
</div>
<div class="navbar--product-dropdown" id="navbar--dropdown">
    <div class="navbar--current-product">
      
      
        
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          InfluxDB v1.7
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
      
      
    </div>
    <div class="navbar--product-dropdown-caret"><span class="icon arrow-down"></span></div>
</div>
<div class="navbar--product-container" id="navbar--product-container">
    <div class="navbar--dropdown-dismiss" id="navbar--dropdown-dismiss"></div>
    <ul class="navbar--product-menu" id="navbar--product-menu">
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/telegraf/v1.13/">Telegraf</a></li>
          
        
          
            <li><a class="navbar--product" href="../../index.html">InfluxDB</a></li>
            <li><a class="navbar--product v2" href="https://v2.docs.influxdata.com" target="_blank">InfluxDB 2.0 <span class="v2-status">beta</span></a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_influxdb/v1.7/">InfluxDB Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/chronograf/v1.7/">Chronograf</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/kapacitor/v1.5/">Kapacitor</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_kapacitor/v1.5/">Kapacitor Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/flux/v0.50/">Flux</a></li>
          
        
        <li class="navbar--product-divider"></li>
        <li><a class="navbar--product external" href="https://influxdata.com/use-cases/" target="_blank">&#9658;&nbsp; See how the TICK Stack is used</a></li>
        <li><a class="navbar--product external" href="https://influxdata.com/pricing/" target="_blank">&#9658;&nbsp; Need help using our stack?</a></li>
    </ul>
</div>


    <div class="navbar--search" id="navbar--search">
	
	
	
	
			
				<input class="navbar--search-field" id="algolia-search-input" type="text" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" dir="auto" placeholder="Search the docs...">
			
		
	
	
	
	
	
	
</div>

    <button class="theme-switcher" id="theme-switch-light" onclick="switch_style('light-theme');return false;"><span class="icon sun2"></span></button>
<button class="theme-switcher" id="theme-switch-dark" onclick="switch_style('dark-theme');return false;"><span class="icon moon"></span></button>


</nav>


<div class="sidebar--toggle" id="sidebar--toggle"></span>InfluxDB Contents</div>
<aside class="sidebar" id="sidebar">
  <section class="sidebar--section">
    <div id="sidebar--ad"></div>

  </section>
  
  
    
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../about_the_project/index.html">About the project</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../about_the_project/releasenotes-changelog/index.html">Release notes</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/contributing/index.html">Contributing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/cla/index.html">Contributor license agreement</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/licenses/index.html">InfluxDB license</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../about_the_project/third-party/index.html">Third party software</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../introduction/index.html">Introduction</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../introduction/downloading/index.html">Downloading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../introduction/installation/index.html">Installing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../introduction/getting-started/index.html">Getting started</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../concepts/index.html">Concepts</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../concepts/key_concepts/index.html">Key concepts</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/glossary/index.html">Glossary</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/crosswalk/index.html">Comparing InfluxDB to SQL databases</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/insights_tradeoffs/index.html">InfluxDB design insights and tradeoffs</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/schema_and_data_layout/index.html">Schema design and data layout</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/storage_engine/index.html">In-memory indexing with TSM</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/time-series-index/index.html">Time Series Index (TSI) overview</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../concepts/tsi-details/index.html">Time Series Index (TSI) details</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../administration/index.html">Administration</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../administration/config/index.html">Configuring InfluxDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/authentication_and_authorization/index.html">Authentication and authorization</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/upgrading/index.html">Upgrading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/https_setup/index.html">Enabling HTTPS</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/logs/index.html">Logging and tracing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/ports/index.html">Ports</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/backup_and_restore/index.html">Backing up and restoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/rebuild-tsi-index/index.html">Rebuild the TSI index</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/security/index.html">Managing security</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/server_monitoring/index.html">Server monitoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/stability_and_compatibility/index.html">Stability and compatibility</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../administration/subscription-management/index.html">Manage subscriptions</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../tools/index.html">Tools</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../tools/shell/index.html">InfluxDB command line interface (CLI/shell)</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/api/index.html">InfluxDB API reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/api_client_libraries/index.html">InfluxDB API client libraries</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/influx_inspect/index.html">Influx Inspect disk utility</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../tools/inch/index.html">InfluxDB inch tool</a></li>
              
            
              
                <li><a class="sidebar--page" href="https://grafana.com/docs/grafana/latest/features/datasources/influxdb/">Grafana graphs and dashboards</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class=" active" href="../index.html">Influx Query Language (InfluxQL)</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../data_download/index.html">Sample data</a></li>
              
            
              
                <li><a class="sidebar--page active" href="index.html">Data exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../schema_exploration/index.html">Schema exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../database_management/index.html">Data management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../continuous_queries/index.html">Continuous Queries</a></li>
              
            
              
                <li><a class="sidebar--page" href="../functions/index.html">Functions</a></li>
              
            
              
                <li><a class="sidebar--page" href="../math_operators/index.html">Mathematical operators</a></li>
              
            
              
                <li><a class="sidebar--page" href="../spec/index.html">InfluxQL reference</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../write_protocols/index.html">Write protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../write_protocols/line_protocol_reference/index.html">InfluxDB line protocol reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../write_protocols/line_protocol_tutorial/index.html">InfluxDB line protocol tutorial</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../supported_protocols/index.html">Supported protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/collectd/index.html">CollectD</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/graphite/index.html">Graphite</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/opentsdb/index.html">OpenTSDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/prometheus/index.html">Prometheus</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../supported_protocols/udp/index.html">UDP</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../high_availability/index.html">High availability</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../high_availability/clusters/index.html">Clustering</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../troubleshooting/index.html">Troubleshooting</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../troubleshooting/frequently-asked-questions/index.html">Frequently asked questions (FAQ)</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../troubleshooting/query_management/index.html">Query management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../troubleshooting/errors/index.html">Error messages</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../../additional_resources/additional_resources/index.html">Additional resources</a>
          </div>

          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="index.html">Guides</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../../guides/writing_data/index.html">Writing data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/querying_data/index.html">Querying data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/downsampling_and_retention/index.html">Downsampling and data retention</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/hardware_sizing/index.html">Hardware sizing guidelines</a></li>
              
            
              
                <li><a class="sidebar--page" href="../../guides/calculating_percentages/index.html">Calculating percentages in a query</a></li>
              
            
            </ul>
          

        </section>
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  <section class="sidebar--section">
    <div class="sidebar--section-title">
      <a href="https://docs.influxdata.com/influxdb/">InfluxDB versions</a>
    </div>
    <ul>
      
      <li><a class="sidebar--page" href="../../index.html">v1.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.6/">v1.6</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.5/">v1.5</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.4/">v1.4</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.3/">v1.3</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.2/">v1.2</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.1/">v1.1</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.0/">v1.0</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.13/">v0.13</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.12/">v0.12</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.11/">v0.11</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.10/">v0.10</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.9/">v0.9</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.8/">v0.8</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.7/">v0.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.6/">v0.6</a></li>
      
    </ul>
  </section>
</aside>

<article class="article">
	
	<section class="article-section article-heading">
		<div class="article-content">
			<h1>Data exploration using InfluxQL</h1>
		</div>
	</section>
	
	<section class="article-section">
		<div class="article-content">
			

			

<p>InfluxQL is an SQL-like query language for interacting with data in InfluxDB.
The following sections detail InfluxQL&rsquo;s <code>SELECT</code> statement and useful query syntax
for exploring your data.</p>

<table style="width:100%">
  <tr>
    <td><b>The Basics:</b></td>
    <td><b>Configure Query Results:</b></td>
    <td><b>General Tips on Query Syntax:</b></td>
  </tr>
  <tr>
    <td><a href="index.html#the-basic-select-statement">The SELECT statement</a></td>
    <td><a href="index.html#order-by-time-desc">ORDER BY time DESC</a></td>
    <td><a href="index.html#time-syntax">Time Syntax</a></td>
  </tr>
  <tr>
    <td><a href="index.html#the-where-clause">The WHERE clause</a></td>
    <td><a href="index.html#the-limit-and-slimit-clauses">The LIMIT and SLIMIT clauses</a></td>
    <td><a href="index.html#regular-expressions">Regular Expressions</a></td>
  </tr>
  <tr>
    <td><a href="index.html#the-group-by-clause">The GROUP BY clause</a></td>
    <td><a href="index.html#the-offset-and-soffset-clauses">The OFFSET and SOFFSET clauses</a></td>
    <td><a href="index.html#data-types-and-cast-operations">Data types and cast operations</a></td>
  </tr>
  <tr>
    <td><a href="index.html#the-into-clause">The INTO clause</a></td>
    <td><a href="index.html#the-time-zone-clause">The Time Zone clause</a></td>
    <td><a href="index.html#merge-behavior">Merge behavior</a></td>
  </tr>
  <tr>
    <td><a href="index.html#"></a></td>
    <td><a href="index.html#"></a></td>
    <td><a href="index.html#multiple-statements">Multiple statements</a></td>
  </tr>
  <tr>
    <td><a href="index.html#"></a></td>
    <td><a href="index.html#"></a></td>
    <td><a href="index.html#subqueries">Subqueries</a></td>
  </tr>
</table>

<h3 id="sample-data">Sample data</h3>

<p>This document uses publicly available data from the
<a href="http://tidesandcurrents.noaa.gov/stations.html?type=Water+Levels">National Oceanic and Atmospheric Administration&rsquo;s (NOAA) Center for Operational Oceanographic Products and Services</a>.
See the <a href="../data_download/index.html">Sample Data</a> page to download
the data and follow along with the example queries in the sections below.</p>

<p>Start by logging into the Influx CLI:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ influx -precision rfc3339 -database NOAA_water_database
Connected to http://localhost:8086 version <span class="m">1</span>.7.x
InfluxDB shell <span class="m">1</span>.7.x
&gt;</code></pre></div>
<p>Next, get acquainted with this subsample of the data in the <code>h2o_feet</code> measurement:</p>

<p>name: <span class="tooltip" data-tooltip-text="Measurement">h2o_feet</span></p>

<table>
<thead>
<tr>
<th>time</th>
<th><span class ="tooltip" data-tooltip-text ="Field Key">level description</span></th>
<th><span class ="tooltip" data-tooltip-text ="Tag Key">location</span></th>
<th><span class ="tooltip" data-tooltip-text ="Field Key">water_level</span></th>
</tr>
</thead>

<tbody>
<tr>
<td>2015-08-18T00:00:00Z</td>
<td>between 6 and 9 feet</td>
<td>coyote_creek</td>
<td>8.12</td>
</tr>

<tr>
<td>2015-08-18T00:00:00Z</td>
<td>below 3 feet</td>
<td>santa_monica</td>
<td>2.064</td>
</tr>

<tr>
<td><span class="tooltip" data-tooltip-text="Timestamp">2015-08-18T00:06:00Z</span></td>
<td><span class ="tooltip" data-tooltip-text ="Field Value">between 6 and 9 feet</span></td>
<td><span class ="tooltip" data-tooltip-text ="Tag Value">coyote_creek</span></td>
<td><span class ="tooltip" data-tooltip-text ="Field Value">8.005</span></td>
</tr>

<tr>
<td>2015-08-18T00:06:00Z</td>
<td>below 3 feet</td>
<td>santa_monica</td>
<td>2.116</td>
</tr>

<tr>
<td>2015-08-18T00:12:00Z</td>
<td>between 6 and 9 feet</td>
<td>coyote_creek</td>
<td>7.887</td>
</tr>

<tr>
<td>2015-08-18T00:12:00Z</td>
<td>below 3 feet</td>
<td>santa_monica</td>
<td>2.028</td>
</tr>
</tbody>
</table>

<p>The data in the <code>h2o_feet</code> <a href="../../concepts/glossary/index.html#measurement">measurement</a>
occur at six-minute time intervals.
The measurement has one <a href="../../concepts/glossary/index.html#tag-key">tag key</a>
(<code>location</code>) which has two <a href="../../concepts/glossary/index.html#tag-value">tag values</a>:
<code>coyote_creek</code> and <code>santa_monica</code>.
The measurement also has two <a href="../../concepts/glossary/index.html#field">fields</a>:
<code>level description</code> stores string <a href="../../concepts/glossary/index.html#field-value">field values</a>
and <code>water_level</code> stores float field values.
All of these data is in the <code>NOAA_water_database</code> <a href="../../concepts/glossary/index.html#database">database</a>.</p>

<blockquote>
<p><strong>Disclaimer:</strong> The <code>level description</code> field isn&rsquo;t part of the original NOAA data - we snuck it in there for the sake of having a field key with a special character and string field values.</p>
</blockquote>

<h2 id="the-basic-select-statement">The basic SELECT statement</h2>

<p>The <code>SELECT</code> statement queries data from a particular <a href="../../concepts/glossary/index.html#measurement">measurement</a> or measurements.</p>

<h3 id="syntax">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">tag_key</span><span class="o">&gt;</span><span class="p">]</span> <span class="k">FROM</span> <span class="o">&lt;</span><span class="n">measurement_name</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">measurement_name</span><span class="o">&gt;</span><span class="p">]</span></code></pre></div>
<p>The <code>SELECT</code> statement requires a <code>SELECT</code> clause and a <code>FROM</code> clause.</p>

<h4 id="select-clause"><code>SELECT</code> clause</h4>

<p>The <code>SELECT</code> clause supports several formats for specifying data:</p>

<p><code>SELECT *</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all <a href="../../concepts/glossary/index.html#field">fields</a> and <a href="../../concepts/glossary/index.html#tag">tags</a>.</p>

<p><code>SELECT &quot;&lt;field_key&gt;&quot;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a specific field.</p>

<p><code>SELECT &quot;&lt;field_key&gt;&quot;,&quot;&lt;field_key&gt;&quot;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns more than one field.</p>

<p><code>SELECT &quot;&lt;field_key&gt;&quot;,&quot;&lt;tag_key&gt;&quot;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a specific field and tag.
The <code>SELECT</code> clause must specify at least one field when it includes a tag.</p>

<p><code>SELECT &quot;&lt;field_key&gt;&quot;::field,&quot;&lt;tag_key&gt;&quot;::tag</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a specific field and tag.
The <code>::[field | tag]</code> syntax specifies the <a href="../../concepts/glossary/index.html#identifier">identifier&rsquo;s</a> type.
Use this syntax to differentiate between field keys and tag keys that have the same name.</p>

<p>Other supported features:
<a href="../math_operators/index.html">Arithmetic operations</a>,
<a href="../functions/index.html">Functions</a>,
<a href="index.html#data-types-and-cast-operations">Basic cast operations</a>,
<a href="index.html#regular-expressions">Regular expressions</a></p>

<h4 id="from-clause"><code>FROM</code> clause</h4>

<p>The <code>FROM</code> clause supports several formats for specifying a <a href="../../concepts/glossary/index.html#measurement">measurement(s)</a>:</p>

<p><code>FROM &lt;measurement_name&gt;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Returns data from a single measurement.
If you&rsquo;re using the <a href="../../tools/shell/index.html">CLI</a> InfluxDB queries the measurement in the
<a href="../../tools/shell/index.html#commands"><code>USE</code>d</a>
<a href="../../concepts/glossary/index.html#database">database</a> and the <code>DEFAULT</code> <a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a>.
If you&rsquo;re using the <a href="../../tools/api/index.html">InfluxDB API</a> InfluxDB queries the
measurement in the database specified in the <a href="../../tools/api/index.html#query-string-parameters"><code>db</code> query string parameter</a>
and the <code>DEFAULT</code> retention policy.</p>

<p><code>FROM &lt;measurement_name&gt;,&lt;measurement_name&gt;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Returns data from more than one measurement.</p>

<p><code>FROM &lt;database_name&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Returns data from a fully qualified measurement.
Fully qualify a measurement by specifying its database and retention policy.</p>

<p><code>FROM &lt;database_name&gt;..&lt;measurement_name&gt;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Returns data from a measurement in a user-specified <a href="../../concepts/glossary/index.html#database">database</a> and the <code>DEFAULT</code>
<a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a>.</p>

<p>Other supported features:
<a href="index.html#regular-expressions">Regular Expressions</a></p>

<h4 id="quoting">Quoting</h4>

<p><a href="../../concepts/glossary/index.html#identifier">Identifiers</a> <strong>must</strong> be double quoted if they contain characters other than <code>[A-z,0-9,_]</code>, if they
begin with a digit, or if they are an <a href="https://github.com/influxdata/influxql/blob/master/README.md#keywords">InfluxQL keyword</a>.
While not always necessary, we recommend that you double quote identifiers.</p>

<blockquote>
<p><strong>Note:</strong> The quoting syntax for queries differs from the <a href="../../concepts/glossary/index.html#influxdb-line-protocol">line protocol</a>.
Please review the <a href="../../troubleshooting/frequently-asked-questions/index.html#when-should-i-single-quote-and-when-should-i-double-quote-in-queries">rules for single and double-quoting</a> in queries.</p>
</blockquote>

<h3 id="examples">Examples</h3>

<h4 id="select-all-fields-and-tags-from-a-single-measurement">Select all fields and tags from a single measurement</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>           <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query selects all <a href="../../concepts/glossary/index.html#field">fields</a> and
<a href="../../concepts/glossary/index.html#tag">tags</a> from the <code>h2o_feet</code>
<a href="../../concepts/glossary/index.html#measurement">measurement</a>.</p>

<p>If you&rsquo;re using the <a href="../../tools/shell/index.html">CLI</a> be sure to enter
<code>USE NOAA_water_database</code> before you run the query.
The CLI queries the data in the <code>USE</code>d database and the
<code>DEFAULT</code> <a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a>.
If you&rsquo;re using the <a href="../../tools/api/index.html">InfluxDB API</a> be sure to set the
<code>db</code> <a href="../../tools/api/index.html#query-string-parameters">query string parameter</a>
to <code>NOAA_water_database</code>.
If you do not set the <code>rp</code> query string parameter, the InfluxDB API automatically
queries the database&rsquo;s <code>DEFAULT</code> retention policy.</p>

<h4 id="select-specific-tags-and-fields-from-a-single-measurement">Select specific tags and fields from a single measurement</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;level description&#34;</span><span class="p">,</span><span class="s2">&#34;location&#34;</span><span class="p">,</span><span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>           <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query selects the <code>level description</code> field, the <code>location</code> tag, and the
<code>water_level</code> field.
Note that the <code>SELECT</code> clause must specify at least one field when it includes
a tag.</p>

<h4 id="select-specific-tags-and-fields-from-a-single-measurement-and-provide-their-identifier-type">Select specific tags and fields from a single measurement, and provide their identifier type</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;level description&#34;</span><span class="p">::</span><span class="n">field</span><span class="p">,</span><span class="s2">&#34;location&#34;</span><span class="p">::</span><span class="n">tag</span><span class="p">,</span><span class="s2">&#34;water_level&#34;</span><span class="p">::</span><span class="n">field</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>           <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query selects the <code>level description</code> field, the <code>location</code> tag, and the
<code>water_level</code> field from the <code>h2o_feet</code> measurement.
The <code>::[field | tag]</code> syntax specifies if the
<a href="../../concepts/glossary/index.html#identifier">identifier</a> is a field or tag.
Use <code>::[field | tag]</code> to differentiate between <a href="../../troubleshooting/frequently-asked-questions/index.html#how-do-i-query-data-with-an-identical-tag-key-and-field-key">an identical field key and tag key </a>.
That syntax is not required for most use cases.</p>

<h4 id="select-all-fields-from-a-single-measurement">Select all fields from a single measurement</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span><span class="p">::</span><span class="n">field</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>           <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query selects all fields from the <code>h2o_feet</code> measurement.
The <code>SELECT</code> clause supports combining the <code>*</code> syntax with the <code>::</code> syntax.</p>

<h4 id="select-a-specific-field-from-a-measurement-and-perform-basic-arithmetic">Select a specific field from a measurement and perform basic arithmetic</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="p">(</span><span class="s2">&#34;water_level&#34;</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">4</span> <span class="k">from</span> <span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">20</span><span class="p">.</span><span class="mi">24</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">128</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">14</span><span class="p">.</span><span class="mi">132</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">13</span><span class="p">.</span><span class="mi">876</span></code></pre></div>
<p>The query multiplies <code>water_level</code>&rsquo;s field values by two and adds four to those
values.
Note that InfluxDB follows the standard order of operations.
See <a href="../math_operators/index.html">Mathematical Operators</a>
for more on supported operators.</p>

<h4 id="select-all-data-from-more-than-one-measurement">Select all data from more than one measurement</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span><span class="p">,</span><span class="s2">&#34;h2o_pH&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">pH</span>   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>           <span class="n">santa_monica</span>        <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>        <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>        <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>        <span class="mi">4</span><span class="p">.</span><span class="mi">938</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_pH</span>
<span class="c1">------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>   <span class="k">location</span>       <span class="n">pH</span>   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>                       <span class="n">santa_monica</span>   <span class="mi">6</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>                       <span class="n">coyote_creek</span>   <span class="mi">7</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>                       <span class="n">santa_monica</span>   <span class="mi">8</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>                       <span class="n">santa_monica</span>   <span class="mi">7</span></code></pre></div>
<p>The query selects all fields and tags from two measurements: <code>h2o_feet</code> and
<code>h2o_pH</code>.
Separate multiple measurements with a comma (<code>,</code>).</p>

<h4 id="select-all-data-from-a-fully-qualified-measurement">Select all data from a fully qualified measurement</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;NOAA_water_database&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>           <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query selects data in the <code>NOAA_water_database</code>, the <code>autogen</code> retention
policy, and the measurement <code>h2o_feet</code>.</p>

<p>In the CLI, fully qualify a measurement to query data in a database other
than the <code>USE</code>d database and in a retention policy other than the
<code>DEFAULT</code> retention policy.
In the InfluxDB API, fully qualify a measurement in place of using the <code>db</code>
and <code>rp</code> query string parameters if desired.</p>

<h4 id="select-all-data-from-a-measurement-in-a-particular-database">Select all data from a measurement in a particular database</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;NOAA_water_database&#34;</span><span class="p">..</span><span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>           <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>   <span class="n">santa_monica</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query selects data in the <code>NOAA_water_database</code>, the <code>DEFAULT</code> retention
policy, and the <code>h2o_feet</code> measurement.
The <code>..</code> indicates the <code>DEFAULT</code> retention policy for the specified database.</p>

<p>In the CLI, specify the database to query data in a database other than the
<code>USE</code>d database.
In the InfluxDB API, specify the database in place of using the <code>db</code> query
string parameter if desired.</p>

<h3 id="common-issues-with-the-select-statement">Common issues with the SELECT statement</h3>

<h4 id="selecting-tag-keys-in-the-select-clause">Selecting tag keys in the SELECT clause</h4>

<p>A query requires at least one <a href="../../concepts/glossary/index.html#field-key">field key</a>
in the <code>SELECT</code> clause to return data.
If the <code>SELECT</code> clause only includes a single <a href="../../concepts/glossary/index.html#tag-key">tag key</a> or several tag keys, the
query returns an empty response.
This behavior is a result of how the system stores data.</p>

<h5 id="example">Example</h5>

<p>The following query returns no data because it specifies a single tag key (<code>location</code>) in
the <code>SELECT</code> clause:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;location&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span>
<span class="o">&gt;</span></code></pre></div>
<p>To return any data associated with the <code>location</code> tag key, the query&rsquo;s <code>SELECT</code>
clause must include at least one field key (<code>water_level</code>):</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span><span class="p">,</span><span class="s2">&#34;location&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>  <span class="k">location</span>
<span class="c1">----                   -----------  --------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>         <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>        <span class="n">santa_monica</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>        <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span>        <span class="n">santa_monica</span></code></pre></div>
<h2 id="the-where-clause">The <code>WHERE</code> clause</h2>

<p>The <code>WHERE</code> filters data based on
<a href="../../concepts/glossary/index.html#field">fields</a>,
<a href="../../concepts/glossary/index.html#tag">tags</a>, and/or
<a href="../../concepts/glossary/index.html#timestamp">timestamps</a>.</p>

<p>Tired of reading? Check out this InfluxQL Short:
<br>
<br>
<iframe src="https://player.vimeo.com/video/195058724?title=0&byline=0&portrait=0" width="60%" height="250px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></p>

<h3 id="syntax-1">Syntax</h3>

<pre><code>SELECT_clause FROM_clause WHERE &lt;conditional_expression&gt; [(AND|OR) &lt;conditional_expression&gt; [...]]
</code></pre>

<p>The <code>WHERE</code> clause supports <code>conditional_expression</code>s on fields, tags, and
timestamps.</p>

<blockquote>
<p><strong>Note</strong> InfluxDB does not support using OR in the WHERE clause to specify multiple time ranges. For example, InfluxDB will return an empty response for the following query:</p>
</blockquote>

<p><code>&gt; SELECT * FROM &quot;absolutismus&quot; WHERE time = '2016-07-31T20:07:00Z' OR time = '2016-07-31T23:07:17Z'</code></p>

<h4 id="fields">Fields</h4>

<pre><code>field_key &lt;operator&gt; ['string' | boolean | float | integer]
</code></pre>

<p>The <code>WHERE</code> clause supports comparisons against string, boolean, float,
and integer <a href="../../concepts/glossary/index.html#field-value">field values</a>.</p>

<p>Single quote string field values in the <code>WHERE</code> clause.
Queries with unquoted string field values or double quoted string field values
will not return any data and, in most cases,
<a href="index.html#common-issues-with-the-where-clause">will not return an error</a>.</p>

<h5 id="supported-operators">Supported operators</h5>

<table>
<thead>
<tr>
<th align="center">Operator</th>
<th align="left">Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><code>=</code></td>
<td align="left">equal to</td>
</tr>

<tr>
<td align="center"><code>&lt;&gt;</code></td>
<td align="left">not equal to</td>
</tr>

<tr>
<td align="center"><code>!=</code></td>
<td align="left">not equal to</td>
</tr>

<tr>
<td align="center"><code>&gt;</code></td>
<td align="left">greater than</td>
</tr>

<tr>
<td align="center"><code>&gt;=</code></td>
<td align="left">greater than or equal to</td>
</tr>

<tr>
<td align="center"><code>&lt;</code></td>
<td align="left">less than</td>
</tr>

<tr>
<td align="center"><code>&lt;=</code></td>
<td align="left">less than or equal to</td>
</tr>
</tbody>
</table>

<p>Other supported features:
<a href="../math_operators/index.html">Arithmetic Operations</a>,
<a href="index.html#regular-expressions">Regular Expressions</a></p>

<h4 id="tags">Tags</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">tag_key</span> <span class="o">&lt;</span><span class="k">operator</span><span class="o">&gt;</span> <span class="p">[</span><span class="s1">&#39;tag_value&#39;</span><span class="p">]</span></code></pre></div>
<p>Single quote <a href="../../concepts/glossary/index.html#tag-value">tag values</a> in
the <code>WHERE</code> clause.
Queries with unquoted tag values or double quoted tag values will not return
any data and, in most cases,
<a href="index.html#common-issues-with-the-where-clause">will not return an error</a>.</p>

<h5 id="supported-operators-1">Supported operators</h5>

<table>
<thead>
<tr>
<th align="center">Operator</th>
<th align="left">Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><code>=</code></td>
<td align="left">equal to</td>
</tr>

<tr>
<td align="center"><code>&lt;&gt;</code></td>
<td align="left">not equal to</td>
</tr>

<tr>
<td align="center"><code>!=</code></td>
<td align="left">not equal to</td>
</tr>
</tbody>
</table>

<p>Other supported features:
<a href="index.html#regular-expressions">Regular Expressions</a></p>

<h4 id="timestamps">Timestamps</h4>

<p>For most <code>SELECT</code> statements, the default time range is between <a href="../../troubleshooting/frequently-asked-questions/index.html#what-are-the-minimum-and-maximum-timestamps-that-influxdb-can-store"><code>1677-09-21 00:12:43.145224194</code> and <code>2262-04-11T23:47:16.854775806Z</code> UTC</a>.
For <code>SELECT</code> statements with a <a href="index.html#group-by-time-intervals"><code>GROUP BY time()</code> clause</a>, the default time
range is between <code>1677-09-21 00:12:43.145224194</code> UTC and <a href="../../concepts/glossary/index.html#now"><code>now()</code></a>.</p>

<p>The <a href="index.html#time-syntax">Time Syntax</a> section on this page
details how to specify alternative time ranges in the <code>WHERE</code> clause.</p>

<h3 id="examples-1">Examples</h3>

<h4 id="select-data-that-have-specific-field-key-values">Select data that have specific field key-values</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;water_level&#34;</span> <span class="o">&gt;</span> <span class="mi">8</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">189</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">084</span></code></pre></div>
<p>The query returns data from the <code>h2o_feet</code>
<a href="../../concepts/glossary/index.html#measurement">measurement</a> with
<a href="../../concepts/glossary/index.html#field-value">field values</a> of <code>water_level</code>
that are greater than eight.</p>

<h4 id="select-data-that-have-a-specific-string-field-key-value">Select data that have a specific string field key-value</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;level description&#34;</span> <span class="o">=</span> <span class="s1">&#39;below 3 feet&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>   <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>        <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>        <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T14</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>        <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">999</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T14</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="n">below</span> <span class="mi">3</span> <span class="n">feet</span>        <span class="n">santa_monica</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">907</span></code></pre></div>
<p>The query returns data from the <code>h2o_feet</code> measurement with field values of
<code>level description</code> that equal the <code>below 3 feet</code> string.
InfluxQL requires single quotes around string field values in the <code>WHERE</code>
clause.</p>

<h4 id="select-data-that-have-a-specific-field-key-value-and-perform-basic-arithmetic">Select data that have a specific field key-value and perform basic arithmetic</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;water_level&#34;</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">&gt;</span> <span class="mi">11</span><span class="p">.</span><span class="mi">9</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>           <span class="k">location</span>       <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">902</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">938</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">957</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">964</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">954</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">941</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">925</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">902</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">02</span><span class="n">T23</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">902</span></code></pre></div>
<p>The query returns data from the <code>h2o_feet</code> measurement with field values of
<code>water_level</code> plus two that are greater than 11.9.
Note that InfluxDB follows the standard order of operations
See <a href="../math_operators/index.html">Mathematical Operators</a>
for more on supported operators.</p>

<h4 id="select-data-that-have-a-specific-tag-key-value">Select data that have a specific tag key-value</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query returns data from the <code>h2o_feet</code> measurement where the
<a href="../../concepts/glossary/index.html#tag-key">tag key</a> <code>location</code> is set to <code>santa_monica</code>.
InfluxQL requires single quotes around tag values in the <code>WHERE</code> clause.</p>

<h4 id="select-data-that-have-specific-field-key-values-and-tag-key-values">Select data that have specific field key-values and tag key-values</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">&lt;&gt;</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="p">(</span><span class="n">water_level</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">59</span> <span class="k">OR</span> <span class="n">water_level</span> <span class="o">&gt;</span> <span class="mi">9</span><span class="p">.</span><span class="mi">95</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">957</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">964</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">954</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T14</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">61</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T14</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">591</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">30</span><span class="n">T15</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">594</span></code></pre></div>
<p>The query returns data from the <code>h2o_feet</code> measurement where the tag key
<code>location</code> is not set to <code>santa_monica</code> and where the field values of
<code>water_level</code> are either less than -0.59 or greater than 9.95.
The <code>WHERE</code> clause supports the operators <code>AND</code> and <code>OR</code>, and supports
separating logic with parentheses.</p>

<h4 id="select-data-that-have-specific-timestamps">Select data that have specific timestamps</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="mi">7</span><span class="n">d</span></code></pre></div>
<p>The query returns data from the <code>h2o_feet</code> measurement that have <a href="../../concepts/glossary/index.html#timestamp">timestamps</a>
within the past seven days.
The <a href="index.html#time-syntax">Time Syntax</a> section on this page
offers in-depth information on supported time syntax in the <code>WHERE</code> clause.</p>

<h3 id="common-issues-with-the-where-clause">Common issues with the <code>WHERE</code> clause</h3>

<h4 id="a-where-clause-query-unexpectedly-returns-no-data">A <code>WHERE</code> clause query unexpectedly returns no data</h4>

<p>In most cases, this issue is the result of missing single quotes around
<a href="../../concepts/glossary/index.html#tag-value">tag values</a>
or string <a href="../../concepts/glossary/index.html#field-value">field values</a>.
Queries with unquoted or double quoted tag values or string field values will
not return any data and, in most cases, will not return an error.</p>

<p>The first two queries in the code block below attempt to specify the tag value
<code>santa_monica</code> without any quotes and with double quotes.
Those queries return no results.
The third query single quotes <code>santa_monica</code> (this is the supported syntax)
and returns the expected results.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="n">santa_monica</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s2">&#34;santa_monica&#34;</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The first two queries in the code block below attempt to specify the string
field value <code>at or greater than 9 feet</code> without any quotes and with double
quotes.
The first query returns an error because the string field value includes
white spaces.
The second query returns no results.
The third query single quotes <code>at or greater than 9 feet</code> (this is the
supported syntax) and returns the expected results.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;level description&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;level description&#34;</span> <span class="o">=</span> <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>

<span class="n">ERR</span><span class="p">:</span> <span class="n">error</span> <span class="n">parsing</span> <span class="n">query</span><span class="p">:</span> <span class="k">found</span> <span class="k">than</span><span class="p">,</span> <span class="n">expected</span> <span class="p">;</span> <span class="k">at</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">char</span> <span class="mi">86</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;level description&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;level description&#34;</span> <span class="o">=</span> <span class="s2">&#34;at or greater than 9 feet&#34;</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;level description&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;level description&#34;</span> <span class="o">=</span> <span class="s1">&#39;at or greater than 9 feet&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">26</span><span class="n">T04</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">15</span><span class="n">T22</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">at</span> <span class="k">or</span> <span class="n">greater</span> <span class="k">than</span> <span class="mi">9</span> <span class="n">feet</span></code></pre></div>
<h1 id="the-group-by-clause">The GROUP BY clause</h1>

<p>The <code>GROUP BY</code> clause groups query results by a user-specified
set of <a href="../../concepts/glossary/index.html#tag">tags</a> or a time interval.</p>

<table style="width:100%">
  <tr>
    <td><a href="index.html#group-by-tags">GROUP BY tags</a>
    <td></td>
    <td></td>
    <td></td>
    </td>
  </tr>
  <tr>
    <td><b>GROUP BY time intervals:
    <td><a href="index.html#basic-group-by-time-syntax">Basic Syntax</a></td>
    <td><a href="index.html#advanced-group-by-time-syntax">Advanced Syntax</a></td>
    <td><a href="index.html#group-by-time-intervals-and-fill">GROUP BY time intervals and fill()</a></td>
    </b></td>
  </tr>
</table>

<h2 id="group-by-tags">GROUP BY tags</h2>

<p><code>GROUP BY &lt;tag&gt;</code> queries group query results by a user-specified set of <a href="../../concepts/glossary/index.html#tag">tags</a>.</p>

<p>Tired of reading? Check out this InfluxQL Short:
<br>
<br>
<iframe src="https://player.vimeo.com/video/200898048?title=0&byline=0&portrait=0" width="60%" height="250px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></p>

<h4 id="syntax-2">Syntax</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="p">[</span><span class="o">*</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">tag_key</span><span class="o">&gt;</span><span class="p">[,</span><span class="o">&lt;</span><span class="n">tag_key</span><span class="p">]]</span></code></pre></div>
<p><code>GROUP BY *</code>
&emsp;&emsp;&emsp;Groups results by all <a href="../../concepts/glossary/index.html#tag">tags</a></p>

<p><code>GROUP BY &lt;tag_key&gt;</code>
&emsp;&emsp;&emsp;Groups results by a specific tag</p>

<p><code>GROUP BY &lt;tag_key&gt;,&lt;tag_key&gt;</code>
&emsp;&emsp;&emsp;Groups results by more than one tag.
The order of the <a href="../../concepts/glossary/index.html#tag-key">tag keys</a> is irrelevant.</p>

<p>If the query includes a <a href="index.html#the-where-clause"><code>WHERE</code> clause</a> the <code>GROUP BY</code>
clause must appear after the <code>WHERE</code> clause.</p>

<p>Other supported features: <a href="index.html#regular-expressions">Regular Expressions</a></p>

<h4 id="examples-2">Examples</h4>

<h5 id="group-query-results-by-a-single-tag">Group query results by a single tag</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="s2">&#34;location&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">5</span><span class="p">.</span><span class="mi">359342451341401</span>


<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">3</span><span class="p">.</span><span class="mi">530863470081006</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>water_level</code> for each
<a href="../../concepts/glossary/index.html#tag-value">tag value</a> of <code>location</code> in
the <code>h2o_feet</code> <a href="../../concepts/glossary/index.html#measurement">measurement</a>.
InfluxDB returns results in two <a href="../../concepts/glossary/index.html#series">series</a>: one for each tag value of <code>location</code>.</p>

<blockquote>
<p><strong>Note:</strong> In InfluxDB, <a href="https://en.wikipedia.org/wiki/Unix_time">epoch 0</a> (<code>1970-01-01T00:00:00Z</code>) is often used as a null timestamp equivalent.
If you request a query that has no timestamp to return, such as an <a href="../functions/index.html">aggregation function</a> with an unbounded time range, InfluxDB returns epoch 0 as the timestamp.</p>
</blockquote>

<h5 id="group-query-results-by-more-than-one-tag">Group query results by more than one tag</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;index&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_quality&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="k">location</span><span class="p">,</span><span class="n">randtag</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">1</span>
<span class="n">time</span>                  <span class="n">mean</span>
<span class="c1">----                  ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>  <span class="mi">50</span><span class="p">.</span><span class="mi">69033760186263</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">2</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">49</span><span class="p">.</span><span class="mi">661867544220485</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">3</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">49</span><span class="p">.</span><span class="mi">360939907550076</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">1</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">49</span><span class="p">.</span><span class="mi">132712456344585</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">2</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">50</span><span class="p">.</span><span class="mi">2937984496124</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">3</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">49</span><span class="p">.</span><span class="mi">99919903884662</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a> to calculate the average <code>index</code> for
each combination of the <code>location</code> <a href="../../concepts/glossary/index.html#tag">tag</a> and the <code>randtag</code> tag in the
<code>h2o_quality</code> measurement.
Separate multiple tags with a comma in the <code>GROUP BY</code> clause.</p>

<h5 id="group-query-results-by-all-tags">Group query results by all tags</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;index&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_quality&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">1</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">50</span><span class="p">.</span><span class="mi">55405446521169</span>


<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">2</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">50</span><span class="p">.</span><span class="mi">49958856271162</span>


<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">3</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">49</span><span class="p">.</span><span class="mi">5164137518956</span>


<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">1</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">50</span><span class="p">.</span><span class="mi">43829082296367</span>


<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">2</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">52</span><span class="p">.</span><span class="mi">0688508894012</span>


<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span><span class="p">,</span> <span class="n">randtag</span><span class="o">=</span><span class="mi">3</span>
<span class="n">time</span>			               <span class="n">mean</span>
<span class="c1">----			               ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>	 <span class="mi">49</span><span class="p">.</span><span class="mi">29386362086556</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>index</code> for every possible
<a href="../../concepts/glossary/index.html#tag">tag</a> combination in the <code>h2o_quality</code>
measurement.</p>

<p>Note that the query results are identical to the results of the query in <a href="index.html#examples-2">Example 2</a>
where we explicitly specified the <code>location</code> and <code>randtag</code> tag keys.
This is because the <code>h2o_quality</code> measurement only has two tag keys.</p>

<h2 id="group-by-time-intervals">GROUP BY time intervals</h2>

<p><code>GROUP BY time()</code> queries group query results by a user-specified time interval.</p>

<h3 id="basic-group-by-time-syntax">Basic GROUP BY time() syntax</h3>

<h4 id="syntax-3">Syntax</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">&lt;</span><span class="k">function</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">FROM_clause</span> <span class="k">WHERE</span> <span class="o">&lt;</span><span class="n">time_range</span><span class="o">&gt;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="o">&lt;</span><span class="n">time_interval</span><span class="o">&gt;</span><span class="p">),[</span><span class="n">tag_key</span><span class="p">]</span> <span class="p">[</span><span class="n">fill</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fill_option</span><span class="o">&gt;</span><span class="p">)]</span></code></pre></div>
<p>Basic <code>GROUP BY time()</code> queries require an InfluxQL <a href="../functions/index.html">function</a>
in the <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a> and a time range in the
<a href="index.html#the-where-clause"><code>WHERE</code> clause</a>.
Note that the <code>GROUP BY</code> clause must come after the <code>WHERE</code> clause.</p>

<h5 id="time-time-interval"><code>time(time_interval)</code></h5>

<p>The <code>time_interval</code> in the <code>GROUP BY time()</code> clause is a
<a href="../spec/index.html#durations">duration literal</a>.
It determines how InfluxDB groups query results over time.
For example, a <code>time_interval</code> of <code>5m</code> groups query results into five-minute
time groups across the time range specified in the <a href="index.html#the-where-clause"><code>WHERE</code> clause</a>.</p>

<h5 id="fill-fill-option"><code>fill(&lt;fill_option&gt;)</code></h5>

<p><code>fill(&lt;fill_option&gt;)</code> is optional.
It changes the value reported for time intervals that have no data.
See <a href="index.html#group-by-time-intervals-and-fill">GROUP BY time intervals and <code>fill()</code></a>
for more information.</p>

<p><strong>Coverage:</strong></p>

<p>Basic <code>GROUP BY time()</code> queries rely on the <code>time_interval</code> and on the InfluxDB database&rsquo;s
preset time boundaries to determine the raw data included in each time interval
and the timestamps returned by the query.</p>

<h4 id="examples-of-basic-syntax">Examples of basic syntax</h4>

<p>The examples below use the following subsample of the sample data:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span><span class="p">,</span><span class="s2">&#34;location&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>   <span class="k">location</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>          <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>         <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>         <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>         <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">887</span>         <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">028</span>         <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">762</span>         <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">126</span>         <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">635</span>         <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">041</span>         <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">5</span>           <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">051</span>         <span class="n">santa_monica</span></code></pre></div>
<h5 id="group-query-results-into-12-minute-intervals">Group query results into 12 minute intervals</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">count</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to count the number of <code>water_level</code> points with the <a href="../../concepts/glossary/index.html#tag">tag</a>
<code>location = coyote_creek</code> and it group results into 12 minute intervals.</p>

<p>The result for each <a href="../../concepts/glossary/index.html#timestamp">timestamp</a>
represents a single 12 minute interval.
The count for the first timestamp covers the raw data between <code>2015-08-18T00:00:00Z</code>
and up to, but not including, <code>2015-08-18T00:12:00Z</code>.
The count for the second timestamp covers the raw data between <code>2015-08-18T00:12:00Z</code>
and up to, but not including, <code>2015-08-18T00:24:00Z.</code></p>

<h5 id="group-query-results-into-12-minutes-intervals-and-by-a-tag-key">Group query results into 12 minutes intervals and by a tag key</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">),</span><span class="s2">&#34;location&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="k">count</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="k">count</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to count the number of <code>water_level</code> points.
It groups results by the <code>location</code> tag and into 12 minute intervals.
Note that the time interval and the tag key are separated by a comma in the
<code>GROUP BY</code> clause.</p>

<p>The query returns two <a href="../../concepts/glossary/index.html#series">series</a> of results: one for each
<a href="../../concepts/glossary/index.html#tag-value">tag value</a> of the <code>location</code> tag.
The result for each timestamp represents a single 12 minute interval.
The count for the first timestamp covers the raw data between <code>2015-08-18T00:00:00Z</code>
and up to, but not including, <code>2015-08-18T00:12:00Z</code>.
The count for the second timestamp covers the raw data between <code>2015-08-18T00:12:00Z</code>
and up to, but not including, <code>2015-08-18T00:24:00Z.</code></p>

<h4 id="common-issues-with-basic-syntax">Common issues with basic syntax</h4>

<h5 id="unexpected-timestamps-and-values-in-query-results">Unexpected timestamps and values in query results</h5>

<p>With the basic syntax, InfluxDB relies on the <code>GROUP BY time()</code> interval
and on the system&rsquo;s preset time boundaries to determine the raw data included
in each time interval and the timestamps returned by the query.
In some cases, this can lead to unexpected results.</p>

<p><strong>Example</strong></p>

<p>Raw data:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:18:00Z&#39;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">887</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">762</span></code></pre></div>
<p>Query and results:</p>

<p>The following query covers a 12-minute time range and groups results into 12-minute time intervals, but it returns <strong>two</strong> results:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="s1">&#39;2015-08-18T00:18:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="k">count</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">1</span>        <span class="o">&lt;</span><span class="c1">----- Note that this timestamp occurs before the start of the query&#39;s time range
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">1</span></code></pre></div>
<p>Explanation:</p>

<p>InfluxDB uses preset round-number time boundaries for <code>GROUP BY</code> intervals that are
independent of any time conditions in the <code>WHERE</code> clause.
When it calculates the results, all returned data must occur within the query&rsquo;s
explicit time range but the <code>GROUP BY</code> intervals will be based on the preset
time boundaries.</p>

<p>The table below shows the preset time boundary, the relevant <code>GROUP BY time()</code> interval, the
points included, and the returned timestamp for each <code>GROUP BY time()</code>
interval in the results.</p>

<table>
<thead>
<tr>
<th align="left">Time Interval Number</th>
<th align="left">Preset Time Boundary</th>
<th align="left"><code>GROUP BY time()</code> Interval</th>
<th align="left">Points Included</th>
<th align="left">Returned Timestamp</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><code>time &gt;= 2015-08-18T00:00:00Z AND time &lt; 2015-08-18T00:12:00Z</code></td>
<td align="left"><code>time &gt;= 2015-08-18T00:06:00Z AND time &lt; 2015-08-18T00:12:00Z</code></td>
<td align="left"><code>8.005</code></td>
<td align="left"><code>2015-08-18T00:00:00Z</code></td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><code>time &gt;= 2015-08-12T00:12:00Z AND time &lt; 2015-08-18T00:24:00Z</code></td>
<td align="left"><code>time &gt;= 2015-08-12T00:12:00Z AND time &lt; 2015-08-18T00:18:00Z</code></td>
<td align="left"><code>7.887</code></td>
<td align="left"><code>2015-08-18T00:12:00Z</code></td>
</tr>
</tbody>
</table>

<p>The first preset 12-minute time boundary begins at <code>00:00</code> and ends just before
<code>00:12</code>.
Only one raw point (<code>8.005</code>) falls both within the query&rsquo;s first <code>GROUP BY time()</code> interval and in that
first time boundary.
Note that while the returned timestamp occurs before the start of the query&rsquo;s time range,
the query result excludes data that occur before the query&rsquo;s time range.</p>

<p>The second preset 12-minute time boundary begins at <code>00:12</code> and ends just before
<code>00:24</code>.
Only one raw point (<code>7.887</code>) falls both within the query&rsquo;s second <code>GROUP BY time()</code> interval and in that
second time boundary.</p>

<p>The <a href="index.html#advanced-group-by-time-syntax">advanced <code>GROUP BY time()</code> syntax</a> allows users to shift
the start time of the InfluxDB database&rsquo;s preset time boundaries.
<a href="index.html#examples-3">Example 3</a>
in the Advanced Syntax section continues with the query shown here;
it shifts forward the preset time boundaries by six minutes such that
InfluxDB returns:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="k">count</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span></code></pre></div>
<h3 id="advanced-group-by-time-syntax">Advanced GROUP BY time() syntax</h3>

<h4 id="syntax-4">Syntax</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">&lt;</span><span class="k">function</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">FROM_clause</span> <span class="k">WHERE</span> <span class="o">&lt;</span><span class="n">time_range</span><span class="o">&gt;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="o">&lt;</span><span class="n">time_interval</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="n">offset_interval</span><span class="o">&gt;</span><span class="p">),[</span><span class="n">tag_key</span><span class="p">]</span> <span class="p">[</span><span class="n">fill</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fill_option</span><span class="o">&gt;</span><span class="p">)]</span></code></pre></div>
<p>Advanced <code>GROUP BY time()</code> queries require an InfluxQL <a href="../functions/index.html">function</a>
in the <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a> and a time range in the
<a href="index.html#the-where-clause"><code>WHERE</code> clause</a>.
Note that the <code>GROUP BY</code> clause must come after the <code>WHERE</code> clause.</p>

<h5 id="time-time-interval-offset-interval"><code>time(time_interval,offset_interval)</code></h5>

<p>See the <a href="index.html#basic-group-by-time-syntax">Basic GROUP BY time() Syntax</a>
for details on the <code>time_interval</code>.</p>

<p>The <code>offset_interval</code> is a
<a href="../spec/index.html#durations">duration literal</a>.
It shifts forward or back tje InfluxDB database&rsquo;s preset time boundaries.
The <code>offset_interval</code> can be positive or negative.</p>

<h5 id="fill-fill-option-1"><code>fill(&lt;fill_option&gt;)</code></h5>

<p><code>fill(&lt;fill_option&gt;)</code> is optional.
It changes the value reported for time intervals that have no data.
See <a href="index.html#group-by-time-intervals-and-fill">GROUP BY time intervals and <code>fill()</code></a>
for more information.</p>

<p><strong>Coverage:</strong></p>

<p>Advanced <code>GROUP BY time()</code> queries rely on the <code>time_interval</code>, the <code>offset_interval</code>
, and on the InfluxDB database&rsquo;s preset time boundaries to determine the raw data included in each time interval
and the timestamps returned by the query.</p>

<h4 id="examples-of-advanced-syntax">Examples of advanced syntax</h4>

<p>The examples below use the following subsample of the sample data:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:54:00Z&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">887</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">762</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">635</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">5</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">372</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">234</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">11</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">6</span><span class="p">.</span><span class="mi">982</span></code></pre></div>
<h5 id="group-query-results-into-18-minute-intervals-and-shift-the-preset-time-boundaries-forward">Group query results into 18 minute intervals and shift the preset time boundaries forward</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:54:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">18</span><span class="n">m</span><span class="p">,</span><span class="mi">6</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">884666666666667</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">502333333333333</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">108666666666667</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>water_level</code>, grouping results into 18 minute
time intervals, and offsetting the preset time boundaries by six minutes.</p>

<p>The time boundaries and returned timestamps for the query <strong>without</strong> the <code>offset_interval</code> adhere to the InfluxDB database&rsquo;s preset time boundaries. Let&rsquo;s first examine the results without the offset:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:54:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">18</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">946</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">6323333333333325</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">238666666666667</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">6</span><span class="p">.</span><span class="mi">982</span></code></pre></div>
<p>The time boundaries and returned timestamps for the query <strong>without</strong> the
<code>offset_interval</code> adhere to the InfluxDB database&rsquo;s preset time boundaries:</p>

<table>
<thead>
<tr>
<th align="left">Time Interval Number</th>
<th align="left">Preset Time Boundary</th>
<th align="left"><code>GROUP BY time()</code> Interval</th>
<th align="left">Points Included</th>
<th align="left">Returned Timestamp</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><code>time &gt;= 2015-08-18T00:00:00Z AND time &lt; 2015-08-18T00:18:00Z</code></td>
<td align="left"><code>time &gt;= 2015-08-18T00:06:00Z AND time &lt; 2015-08-18T00:18:00Z</code></td>
<td align="left"><code>8.005</code>,<code>7.887</code></td>
<td align="left"><code>2015-08-18T00:00:00Z</code></td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><code>time &gt;= 2015-08-18T00:18:00Z AND time &lt; 2015-08-18T00:36:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.762</code>,<code>7.635</code>,<code>7.5</code></td>
<td align="left"><code>2015-08-18T00:18:00Z</code></td>
</tr>

<tr>
<td align="left">3</td>
<td align="left"><code>time &gt;= 2015-08-18T00:36:00Z AND time &lt; 2015-08-18T00:54:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.372</code>,<code>7.234</code>,<code>7.11</code></td>
<td align="left"><code>2015-08-18T00:36:00Z</code></td>
</tr>

<tr>
<td align="left">4</td>
<td align="left"><code>time &gt;= 2015-08-18T00:54:00Z AND time &lt; 2015-08-18T01:12:00Z</code></td>
<td align="left"><code>time = 2015-08-18T00:54:00Z</code></td>
<td align="left"><code>6.982</code></td>
<td align="left"><code>2015-08-18T00:54:00Z</code></td>
</tr>
</tbody>
</table>

<p>The first preset 18-minute time boundary begins at <code>00:00</code> and ends just before
<code>00:18</code>.
Two raw points (<code>8.005</code> and <code>7.887</code>) fall both within the first <code>GROUP BY time()</code> interval and in that
first time boundary.
Note that while the returned timestamp occurs before the start of the query&rsquo;s time range,
the query result excludes data that occur before the query&rsquo;s time range.</p>

<p>The second preset 18-minute time boundary begins at <code>00:18</code> and ends just before
<code>00:36</code>.
Three raw points (<code>7.762</code> and <code>7.635</code> and <code>7.5</code>) fall both within the second <code>GROUP BY time()</code> interval and in that
second time boundary. In this case, the boundary time range and the interval&rsquo;s time range are the same.</p>

<p>The fourth preset 18-minute time boundary begins at <code>00:54</code> and ends just before
<code>1:12:00</code>.
One raw point (<code>6.982</code>) falls both within the fourth <code>GROUP BY time()</code> interval and in that
fourth time boundary.</p>

<p>The time boundaries and returned timestamps for the query <strong>with</strong> the
<code>offset_interval</code> adhere to the offset time boundaries:</p>

<table>
<thead>
<tr>
<th align="left">Time Interval Number</th>
<th align="left">Offset Time Boundary</th>
<th align="left"><code>GROUP BY time()</code> Interval</th>
<th align="left">Points Included</th>
<th>Returned Timestamp</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><code>time &gt;= 2015-08-18T00:06:00Z AND time &lt; 2015-08-18T00:24:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>8.005</code>,<code>7.887</code>,<code>7.762</code></td>
<td><code>2015-08-18T00:06:00Z</code></td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><code>time &gt;= 2015-08-18T00:24:00Z AND time &lt; 2015-08-18T00:42:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.635</code>,<code>7.5</code>,<code>7.372</code></td>
<td><code>2015-08-18T00:24:00Z</code></td>
</tr>

<tr>
<td align="left">3</td>
<td align="left"><code>time &gt;= 2015-08-18T00:42:00Z AND time &lt; 2015-08-18T01:00:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.234</code>,<code>7.11</code>,<code>6.982</code></td>
<td><code>2015-08-18T00:42:00Z</code></td>
</tr>

<tr>
<td align="left">4</td>
<td align="left"><code>time &gt;= 2015-08-18T01:00:00Z AND time &lt; 2015-08-18T01:18:00Z</code></td>
<td align="left">NA</td>
<td align="left">NA</td>
<td>NA</td>
</tr>
</tbody>
</table>

<p>The six-minute offset interval shifts forward the preset boundary&rsquo;s time range
such that the boundary time ranges and the relevant <code>GROUP BY time()</code> interval time ranges are
always the same.
With the offset, each interval performs the calculation on three points, and
the timestamp returned matches both the start of the boundary time range and the
start of the <code>GROUP BY time()</code> interval time range.</p>

<p>Note that <code>offset_interval</code> forces the fourth time boundary to be outside
the query&rsquo;s time range so the query returns no results for that last interval.</p>

<h5 id="group-query-results-into-12-minute-intervals-and-shift-the-preset-time-boundaries-back">Group query results into 12 minute intervals and shift the preset time boundaries back</h5>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:54:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">18</span><span class="n">m</span><span class="p">,</span><span class="o">-</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">884666666666667</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">502333333333333</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">108666666666667</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>water_level</code>, grouping results into 18 minute
time intervals, and offsetting the preset time boundaries by -12 minutes.</p>

<blockquote>
<p><strong>Note:</strong> The query in Example 2 returns the same results as the query in Example 1, but
the query in Example 2 uses a negative <code>offset_interval</code> instead of a positive
<code>offset_interval</code>.
There are no performance differences between the two queries; feel free to choose the most
intuitive option when deciding between a positive and negative <code>offset_interval</code>.</p>
</blockquote>

<p>The time boundaries and returned timestamps for the query <strong>without</strong> the <code>offset_interval</code> adhere to InfluxDB database&rsquo;s preset time boundaries. Let&rsquo;s first examine the results without the offset:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:54:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">18</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                    <span class="n">mean</span>
<span class="c1">----                    ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>    <span class="mi">7</span><span class="p">.</span><span class="mi">946</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>    <span class="mi">7</span><span class="p">.</span><span class="mi">6323333333333325</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>    <span class="mi">7</span><span class="p">.</span><span class="mi">238666666666667</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>    <span class="mi">6</span><span class="p">.</span><span class="mi">982</span></code></pre></div>
<p>The time boundaries and returned timestamps for the query <strong>without</strong> the
<code>offset_interval</code> adhere to the InfluxDB database&rsquo;s preset time boundaries:</p>

<table>
<thead>
<tr>
<th align="left">Time Interval Number</th>
<th align="left">Preset Time Boundary</th>
<th align="left"><code>GROUP BY time()</code> Interval</th>
<th align="left">Points Included</th>
<th align="left">Returned Timestamp</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><code>time &gt;= 2015-08-18T00:00:00Z AND time &lt; 2015-08-18T00:18:00Z</code></td>
<td align="left"><code>time &gt;= 2015-08-18T00:06:00Z AND time &lt; 2015-08-18T00:18:00Z</code></td>
<td align="left"><code>8.005</code>,<code>7.887</code></td>
<td align="left"><code>2015-08-18T00:00:00Z</code></td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><code>time &gt;= 2015-08-18T00:18:00Z AND time &lt; 2015-08-18T00:36:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.762</code>,<code>7.635</code>,<code>7.5</code></td>
<td align="left"><code>2015-08-18T00:18:00Z</code></td>
</tr>

<tr>
<td align="left">3</td>
<td align="left"><code>time &gt;= 2015-08-18T00:36:00Z AND time &lt; 2015-08-18T00:54:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.372</code>,<code>7.234</code>,<code>7.11</code></td>
<td align="left"><code>2015-08-18T00:36:00Z</code></td>
</tr>

<tr>
<td align="left">4</td>
<td align="left"><code>time &gt;= 2015-08-18T00:54:00Z AND time &lt; 2015-08-18T01:12:00Z</code></td>
<td align="left"><code>time = 2015-08-18T00:54:00Z</code></td>
<td align="left"><code>6.982</code></td>
<td align="left"><code>2015-08-18T00:54:00Z</code></td>
</tr>
</tbody>
</table>

<p>The first preset 18-minute time boundary begins at <code>00:00</code> and ends just before
<code>00:18</code>.
Two raw points (<code>8.005</code> and <code>7.887</code>) fall both within the first <code>GROUP BY time()</code> interval and in that
first time boundary.
Note that while the returned timestamp occurs before the start of the query&rsquo;s time range,
the query result excludes data that occur before the query&rsquo;s time range.</p>

<p>The second preset 18-minute time boundary begins at <code>00:18</code> and ends just before
<code>00:36</code>.
Three raw points (<code>7.762</code> and <code>7.635</code> and <code>7.5</code>) fall both within the second <code>GROUP BY time()</code> interval and in that
second time boundary. In this case, the boundary time range and the interval&rsquo;s time range are the same.</p>

<p>The fourth preset 18-minute time boundary begins at <code>00:54</code> and ends just before
<code>1:12:00</code>.
One raw point (<code>6.982</code>) falls both within the fourth <code>GROUP BY time()</code> interval and in that
fourth time boundary.</p>

<p>The time boundaries and returned timestamps for the query <strong>with</strong> the
<code>offset_interval</code> adhere to the offset time boundaries:</p>

<table>
<thead>
<tr>
<th align="left">Time Interval Number</th>
<th align="left">Offset Time Boundary</th>
<th align="left"><code>GROUP BY time()</code> Interval</th>
<th align="left">Points Included</th>
<th>Returned Timestamp</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><code>time &gt;= 2015-08-17T23:48:00Z AND time &lt; 2015-08-18T00:06:00Z</code></td>
<td align="left">NA</td>
<td align="left">NA</td>
<td>NA</td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><code>time &gt;= 2015-08-18T00:06:00Z AND time &lt; 2015-08-18T00:24:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>8.005</code>,<code>7.887</code>,<code>7.762</code></td>
<td><code>2015-08-18T00:06:00Z</code></td>
</tr>

<tr>
<td align="left">3</td>
<td align="left"><code>time &gt;= 2015-08-18T00:24:00Z AND time &lt; 2015-08-18T00:42:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.635</code>,<code>7.5</code>,<code>7.372</code></td>
<td><code>2015-08-18T00:24:00Z</code></td>
</tr>

<tr>
<td align="left">4</td>
<td align="left"><code>time &gt;= 2015-08-18T00:42:00Z AND time &lt; 2015-08-18T01:00:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>7.234</code>,<code>7.11</code>,<code>6.982</code></td>
<td><code>2015-08-18T00:42:00Z</code></td>
</tr>
</tbody>
</table>

<p>The negative 12-minute offset interval shifts back the preset boundary&rsquo;s time range
such that the boundary time ranges and the relevant <code>GROUP BY time()</code> interval time ranges are always the
same.
With the offset, each interval performs the calculation on three points, and
the timestamp returned matches both the start of the boundary time range and the
start of the <code>GROUP BY time()</code> interval time range.</p>

<p>Note that <code>offset_interval</code> forces the first time boundary to be outside
the query&rsquo;s time range so the query returns no results for that first interval.</p>

<h5 id="group-query-results-into-12-minute-intervals-and-shift-the-preset-time-boundaries-forward">Group query results into 12 minute intervals and shift the preset time boundaries forward</h5>

<p>This example is a continuation of the scenario outlined in <a href="index.html#common-issues-with-basic-syntax">Common Issues with Basic Syntax</a>.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="s1">&#39;2015-08-18T00:18:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">,</span><span class="mi">6</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="k">count</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to count the number of <code>water_level</code> points, grouping results into 12 minute
time intervals, and offsetting the preset time boundaries by six minutes.</p>

<p>The time boundaries and returned timestamps for the query <strong>without</strong> the <code>offset_interval</code> adhere to InfluxDB database&rsquo;s preset time boundaries. Let&rsquo;s first examine the results without the offset:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">COUNT</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="s1">&#39;2015-08-18T00:18:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="k">count</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">1</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">1</span></code></pre></div>
<p>The time boundaries and returned timestamps for the query <strong>without</strong> the
<code>offset_interval</code> adhere to InfluxDB database&rsquo;s preset time boundaries:</p>

<table>
<thead>
<tr>
<th align="left">Time Interval Number</th>
<th align="left">Preset Time Boundary</th>
<th align="left"><code>GROUP BY time()</code> Interval</th>
<th align="left">Points Included</th>
<th align="left">Returned Timestamp</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><code>time &gt;= 2015-08-18T00:00:00Z AND time &lt; 2015-08-18T00:12:00Z</code></td>
<td align="left"><code>time &gt;= 2015-08-18T00:06:00Z AND time &lt; 2015-08-18T00:12:00Z</code></td>
<td align="left"><code>8.005</code></td>
<td align="left"><code>2015-08-18T00:00:00Z</code></td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><code>time &gt;= 2015-08-12T00:12:00Z AND time &lt; 2015-08-18T00:24:00Z</code></td>
<td align="left"><code>time &gt;= 2015-08-12T00:12:00Z AND time &lt; 2015-08-18T00:18:00Z</code></td>
<td align="left"><code>7.887</code></td>
<td align="left"><code>2015-08-18T00:12:00Z</code></td>
</tr>
</tbody>
</table>

<p>The first preset 12-minute time boundary begins at <code>00:00</code> and ends just before
<code>00:12</code>.
Only one raw point (<code>8.005</code>) falls both within the query&rsquo;s first <code>GROUP BY time()</code> interval and in that
first time boundary.
Note that while the returned timestamp occurs before the start of the query&rsquo;s time range,
the query result excludes data that occur before the query&rsquo;s time range.</p>

<p>The second preset 12-minute time boundary begins at <code>00:12</code> and ends just before
<code>00:24</code>.
Only one raw point (<code>7.887</code>) falls both within the query&rsquo;s second <code>GROUP BY time()</code> interval and in that
second time boundary.</p>

<p>The time boundaries and returned timestamps for the query <strong>with</strong> the
<code>offset_interval</code> adhere to the offset time boundaries:</p>

<table>
<thead>
<tr>
<th align="left">Time Interval Number</th>
<th align="left">Offset Time Boundary</th>
<th align="left"><code>GROUP BY time()</code> Interval</th>
<th align="left">Points Included</th>
<th align="left">Returned Timestamp</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">1</td>
<td align="left"><code>time &gt;= 2015-08-18T00:06:00Z AND time &lt; 2015-08-18T00:18:00Z</code></td>
<td align="left">&lt;&mdash; same</td>
<td align="left"><code>8.005</code>,<code>7.887</code></td>
<td align="left"><code>2015-08-18T00:06:00Z</code></td>
</tr>

<tr>
<td align="left">2</td>
<td align="left"><code>time &gt;= 2015-08-18T00:18:00Z AND time &lt; 2015-08-18T00:30:00Z</code></td>
<td align="left">NA</td>
<td align="left">NA</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>

<p>The six-minute offset interval shifts forward the preset boundary&rsquo;s time range
such that the preset boundary time range and the relevant <code>GROUP BY time()</code> interval time range are the
same.
With the offset, the query returns a single result, and the timestamp returned
matches both the start of the boundary time range and the start of the <code>GROUP BY time()</code> interval
time range.</p>

<p>Note that <code>offset_interval</code> forces the second time boundary to be outside
the query&rsquo;s time range so the query returns no results for that second interval.</p>

<h2 id="group-by-time-intervals-and-fill"><code>GROUP BY</code> time intervals and <code>fill()</code></h2>

<p><code>fill()</code> changes the value reported for time intervals that have no data.</p>

<h4 id="syntax-5">Syntax</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">&lt;</span><span class="k">function</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span><span class="p">)</span> <span class="n">FROM_clause</span> <span class="k">WHERE</span> <span class="o">&lt;</span><span class="n">time_range</span><span class="o">&gt;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="n">time_interval</span><span class="p">,[</span><span class="o">&lt;</span><span class="n">offset_interval</span><span class="p">])[,</span><span class="n">tag_key</span><span class="p">]</span> <span class="p">[</span><span class="n">fill</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fill_option</span><span class="o">&gt;</span><span class="p">)]</span></code></pre></div>
<p>By default, a <code>GROUP BY time()</code> interval with no data reports <code>null</code> as its
value in the output column.
<code>fill()</code> changes the value reported for time intervals that have no data.
Note that <code>fill()</code> must go at the end of the <code>GROUP BY</code> clause if you&rsquo;re
<code>GROUP(ing) BY</code> several things (for example, both <a href="../../concepts/glossary/index.html#tag">tags</a> and a time interval).</p>

<h5 id="fill-option">fill_option</h5>

<p>Any numerical value
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Reports the given numerical value for time intervals with no data.</p>

<p><code>linear</code>
&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Reports the results of <a href="https://en.wikipedia.org/wiki/Linear_interpolation">linear interpolation</a> for time intervals with no data.</p>

<p><code>none</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Reports no timestamp and no value for time intervals with no data.</p>

<p><code>null</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Reports null for time intervals with no data but returns a timestamp. This is the same as the default behavior.</p>

<p><code>previous</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
Reports the value from the previous time interval for time intervals with no data.</p>

<h4 id="examples-3">Examples</h4>


<div class="tabs-container">
  

<div class="tabs">
  <p><a href="index.html#">Example 1: fill(100)</a>
<a href="index.html#">Example 2: fill(linear)</a>
<a href="index.html#">Example 3: fill(none)</a>
<a href="index.html#">Example 4: fill(null)</a>
<a href="index.html#">Example 5: fill(previous)</a></p>

</div>


<div class="tab-content-container">
  


<div class="tab-content">
  <p>Without <code>fill(100)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span></code></pre></div>
<p>With <code>fill(100)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">100</span></code></pre></div>
<p><code>fill(100)</code> changes the value reported for the time interval with no data to <code>100</code>.</p>

</div>



<div class="tab-content">
  <p>Without <code>fill(linear)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;tadpoles&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;pond&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2016-11-11T21:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2016-11-11T22:06:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">pond</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">1</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T22</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">6</span></code></pre></div>
<p>With <code>fill(linear)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;tadpoles&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;pond&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2016-11-11T21:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2016-11-11T22:06:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="n">linear</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">pond</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">1</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T22</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">6</span></code></pre></div>
<p><code>fill(linear)</code> changes the value reported for the time interval with no data
to the results of <a href="https://en.wikipedia.org/wiki/Linear_interpolation">linear interpolation</a>.</p>

<blockquote>
<p><strong>Note:</strong> The data in Example 2 are not in <code>NOAA_water_database</code>.
We had to create a dataset with less regular data to work with <code>fill(linear)</code>.</p>
</blockquote>

</div>



<div class="tab-content">
  <p>Without <code>fill(none)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span></code></pre></div>
<p>With <code>fill(none)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="k">none</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span></code></pre></div>
<p><code>fill(none)</code> reports no value and no timestamp for the time interval with no data.</p>

</div>



<div class="tab-content">
  <p>Without <code>fill(null)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span></code></pre></div>
<p>With <code>fill(null)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="k">null</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span></code></pre></div>
<p><code>fill(null)</code> reports <code>null</code> as the value for the time interval with no data.
That result matches the result of the query without <code>fill(null)</code>.</p>

</div>



<div class="tab-content">
  <p>Without <code>fill(previous)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span></code></pre></div>
<p>With <code>fill(previous)</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="n">previous</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">599</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span></code></pre></div>
<p><code>fill(previous)</code> changes the value reported for the time interval with no data to <code>3.235</code>,
the value from the previous time interval.</p>

</div>



</div>


</div>


<h4 id="common-issues-with-fill">Common issues with <code>fill()</code></h4>

<h5 id="queries-with-fill-when-no-data-fall-within-the-query-s-time-range">Queries with <code>fill()</code> when no data fall within the query&rsquo;s time range</h5>

<p>Currently, queries ignore <code>fill()</code> if no data fall within the query&rsquo;s time range.
This is the expected behavior. An open
<a href="https://github.com/influxdata/influxdb/issues/6967">feature request</a> on GitHub
proposes that <code>fill()</code> should force a return of values even if the query&rsquo;s time
range covers no data.</p>

<p><strong>Example</strong></p>

<p>The following query returns no data because <code>water_level</code> has no points within
the query&rsquo;s time range.
Note that <code>fill(800)</code> has no effect on the query results.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T22:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T22:18:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="mi">800</span><span class="p">)</span>
<span class="o">&gt;</span></code></pre></div>
<h5 id="queries-with-fill-previous-when-the-previous-result-falls-outside-the-query-s-time-range">Queries with <code>fill(previous)</code> when the previous result falls outside the query&rsquo;s time range</h5>

<p><code>fill(previous)</code> doesnt fill the result for a time interval if the previous
value is outside the querys time range.</p>

<p><strong>Example</strong></p>

<p>The following query covers the time range between <code>2015-09-18T16:24:00Z</code> and <code>2015-09-18T16:54:00Z</code>.
Note that <code>fill(previous)</code> fills the result for <code>2015-09-18T16:36:00Z</code> with the
result from <code>2015-09-18T16:24:00Z</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="k">location</span> <span class="o">=</span> <span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:24:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:54:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="n">previous</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span></code></pre></div>
<p>The next query shortens the time range in the previous query.
It now covers the time between <code>2015-09-18T16:36:00Z</code> and <code>2015-09-18T16:54:00Z</code>.
Note that <code>fill(previous)</code> doesn&rsquo;t fill the result for <code>2015-09-18T16:36:00Z</code> with the
result from <code>2015-09-18T16:24:00Z</code>; the result for <code>2015-09-18T16:24:00Z</code> is outside the query&rsquo;s
shorter time range.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="k">location</span> <span class="o">=</span> <span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T16:36:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-09-18T16:54:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="n">previous</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="k">max</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span></code></pre></div>
<h5 id="fill-linear-when-the-previous-or-following-result-falls-outside-the-query-s-time-range"><code>fill(linear)</code> when the previous or following result falls outside the query&rsquo;s time range</h5>

<p><code>fill(linear)</code> doesn&rsquo;t fill the result for a time interval with no data if the
previous result or the following result is outside the query&rsquo;s time range.</p>

<p><strong>Example</strong></p>

<p>The following query covers the time range between <code>2016-11-11T21:24:00Z</code> and
<code>2016-11-11T22:06:00Z</code>. Note that <code>fill(linear)</code> fills the results for the
<code>2016-11-11T21:36:00Z</code> time interval and the <code>2016-11-11T21:48:00Z</code> time interval
using the values from the <code>2016-11-11T21:24:00Z</code> time interval and the
<code>2016-11-11T22:00:00Z</code> time interval.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;tadpoles&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;pond&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="s1">&#39;2016-11-11T21:24:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2016-11-11T22:06:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="n">linear</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">pond</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T22</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">6</span></code></pre></div>
<p>The next query shortens the time range in the previous query.
It now covers the time between <code>2016-11-11T21:36:00Z</code> and <code>2016-11-11T22:06:00Z</code>.
Note that <code>fill()</code> previous doesn&rsquo;t fill the results for the <code>2016-11-11T21:36:00Z</code>
time interval and the <code>2016-11-11T21:48:00Z</code> time interval; the result for
<code>2016-11-11T21:24:00Z</code> is outside the query&rsquo;s shorter time range and InfluxDB
cannot perform the linear interpolation.</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;tadpoles&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;pond&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2016-11-11T21:36:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2016-11-11T22:06:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="n">linear</span><span class="p">)</span>
<span class="n">name</span><span class="p">:</span> <span class="n">pond</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T21</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>
<span class="mi">2016</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mi">11</span><span class="n">T22</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">6</span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> The data in Issue 3 are not in <code>NOAA_water_database</code>.
We had to create a dataset with less regular data to work with <code>fill(linear)</code>.</p>
</blockquote>

<h1 id="the-into-clause">The INTO clause</h1>

<p>The <code>INTO</code> clause writes query results to a user-specified <a href="../../concepts/glossary/index.html#measurement">measurement</a>.</p>

<h3 id="syntax-6">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="k">INTO</span> <span class="o">&lt;</span><span class="n">measurement_name</span><span class="o">&gt;</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">GROUP_BY_clause</span><span class="p">]</span></code></pre></div>
<p>The <code>INTO</code> clause supports several formats for specifying a <a href="../../concepts/glossary/index.html#measurement">measurement</a>:</p>

<p><code>INTO &lt;measurement_name&gt;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Writes data to the specified measurement.
If you&rsquo;re using the <a href="../../tools/shell/index.html">CLI</a> InfluxDB writes the data to the measurement in the
<a href="../../tools/shell/index.html#commands"><code>USE</code>d</a>
<a href="../../concepts/glossary/index.html#database">database</a> and the <code>DEFAULT</code> <a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a>.
If you&rsquo;re using the <a href="../../tools/api/index.html">InfluxDB API</a> InfluxDB writes the data to the
measurement in the database specified in the <a href="../../tools/api/index.html#query-string-parameters"><code>db</code> query string parameter</a>
and the <code>DEFAULT</code> retention policy.</p>

<p><code>INTO &lt;database_name&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Writes data to a fully qualified measurement.
Fully qualify a measurement by specifying its database and retention policy.</p>

<p><code>INTO &lt;database_name&gt;..&lt;measurement_name&gt;</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Writes data to a measurement in a user-specified database and the <code>DEFAULT</code>
retention policy.</p>

<p><code>INTO &lt;database_name&gt;.&lt;retention_policy_name&gt;.:MEASUREMENT FROM /&lt;regular_expression&gt;/</code>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Writes data to all measurements in the user-specified database and
retention policy that match the <a href="index.html#regular-expressions">regular expression</a> in the <code>FROM</code> clause.
<code>:MEASUREMENT</code> is a backreference to each measurement matched in the <code>FROM</code> clause.</p>

<h3 id="examples-4">Examples</h3>

<h4 id="rename-a-database">Rename a database</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">INTO</span> <span class="s2">&#34;copy_NOAA_water_database&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.:</span><span class="n">MEASUREMENT</span> <span class="k">FROM</span> <span class="s2">&#34;NOAA_water_database&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="o">/</span><span class="p">.</span><span class="o">*/</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span>

<span class="n">name</span><span class="p">:</span> <span class="k">result</span>
<span class="n">time</span> <span class="n">written</span>
<span class="c1">---- -------
</span><span class="c1"></span><span class="mi">0</span>    <span class="mi">76290</span></code></pre></div>
<p>Directly renaming a database in InfluxDB is not possible, so a common use for the <code>INTO</code> clause is to move data from one database to another.
The query above writes all data in the <code>NOAA_water_database</code> and <code>autogen</code> retention policy to the <code>copy_NOAA_water_database</code> database and the <code>autogen</code> retention policy.</p>

<p>The <a href="index.html#examples-5">backreference</a> syntax (<code>:MEASUREMENT</code>) maintains the source measurement names in the destination database.
Note that both the <code>copy_NOAA_water_database</code> database and its <code>autogen</code> retention policy must exist prior to running the <code>INTO</code> query.
See <a href="../database_management/index.html">Database Management</a>
for how to manage databases and retention policies.</p>

<p>The <code>GROUP BY *</code> clause <a href="index.html#missing-data">preserves tags</a> in the source database as tags in the destination database.
The following query does not maintain the series context for tags; tags will be stored as fields in the destination database (<code>copy_NOAA_water_database</code>):</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">INTO</span> <span class="s2">&#34;copy_NOAA_water_database&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.:</span><span class="n">MEASUREMENT</span> <span class="k">FROM</span> <span class="s2">&#34;NOAA_water_database&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="o">/</span><span class="p">.</span><span class="o">*/</span></code></pre></div>
<p>When moving large amounts of data, we recommend sequentially running <code>INTO</code> queries for different measurements and using time boundaries in the <a href="index.html#time-syntax"><code>WHERE</code> clause</a>.
This prevents your system from running out of memory.
The codeblock below provides sample syntax for those queries:</p>

<pre><code>SELECT *
INTO &lt;destination_database&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;
FROM &lt;source_database&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;
WHERE time &gt; now() - 100w and time &lt; now() - 90w GROUP BY *

SELECT *
INTO &lt;destination_database&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;
FROM &lt;source_database&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;}
WHERE time &gt; now() - 90w  and time &lt; now() - 80w GROUP BY *

SELECT *
INTO &lt;destination_database&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;
FROM &lt;source_database&gt;.&lt;retention_policy_name&gt;.&lt;measurement_name&gt;
WHERE time &gt; now() - 80w  and time &lt; now() - 70w GROUP BY *
</code></pre>

<h4 id="write-the-results-of-a-query-to-a-measurement">Write the results of a query to a measurement</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">INTO</span> <span class="s2">&#34;h2o_feet_copy_1&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;coyote_creek&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="k">result</span>
<span class="c1">------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">written</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7604</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet_copy_1&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet_copy_1</span>
<span class="c1">---------------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span></code></pre></div>
<p>The query writes its results a new <a href="../../concepts/glossary/index.html#measurement">measurement</a>: <code>h2o_feet_copy_1</code>.
If you&rsquo;re using the <a href="../../tools/shell/index.html">CLI</a>, InfluxDB writes the data to
the <code>USE</code>d <a href="../../concepts/glossary/index.html#database">database</a> and the <code>DEFAULT</code> <a href="../../concepts/glossary/index.html#retention-policy-rp">retention policy</a>.
If you&rsquo;re using the <a href="../../tools/api/index.html">InfluxDB API</a>, InfluxDB writes the
data to the database and retention policy specified in the <code>db</code> and <code>rp</code>
<a href="../../tools/api/index.html#query-string-parameters">query string parameters</a>.
If you do not set the <code>rp</code> query string parameter, the InfluxDB API automatically
writes the data to the database&rsquo;s <code>DEFAULT</code> retention policy.</p>

<p>The response shows the number of points (<code>7605</code>) that InfluxDB writes to <code>h2o_feet_copy_1</code>.
The timestamp in the response is meaningless; InfluxDB uses epoch 0
(<code>1970-01-01T00:00:00Z</code>) as a null timestamp equivalent.</p>

<h4 id="write-the-results-of-a-query-to-a-fully-qualified-measurement">Write the results of a query to a fully qualified measurement</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">INTO</span> <span class="s2">&#34;where_else&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="s2">&#34;h2o_feet_copy_2&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;coyote_creek&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="k">result</span>
<span class="c1">------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">written</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7604</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;where_else&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="s2">&#34;h2o_feet_copy_2&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet_copy_2</span>
<span class="c1">---------------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">48</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span></code></pre></div>
<p>The query writes its results to a new measurement: <code>h2o_feet_copy_2</code>.
InfluxDB writes the data to the <code>where_else</code> database and to the <code>autogen</code>
retention policy.
Note that both <code>where_else</code> and <code>autogen</code> must exist prior to running the <code>INTO</code>
query.
See <a href="../database_management/index.html">Database Management</a>
for how to manage databases and retention policies.</p>

<p>The response shows the number of points (<code>7605</code>) that InfluxDB writes to <code>h2o_feet_copy_2</code>.
The timestamp in the response is meaningless; InfluxDB uses epoch 0
(<code>1970-01-01T00:00:00Z</code>) as a null timestamp equivalent.</p>

<h4 id="write-aggregated-results-to-a-measurement-downsampling">Write aggregated results to a measurement (downsampling)</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">INTO</span> <span class="s2">&#34;all_my_averages&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;coyote_creek&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="k">result</span>
<span class="c1">------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">written</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;all_my_averages&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">all_my_averages</span>
<span class="c1">---------------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">mean</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">0625</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">8245</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">5675</span></code></pre></div>
<p>The query aggregates data using an
InfluxQL <a href="../functions.html">function</a> and a <a href="index.html#group-by-time-intervals"><code>GROUP BY
time()</code> clause</a>.
It also writes its results to the <code>all_my_averages</code> measurement.</p>

<p>The response shows the number of points (<code>3</code>) that InfluxDB writes to <code>all_my_averages</code>.
The timestamp in the response is meaningless; InfluxDB uses epoch 0
(<code>1970-01-01T00:00:00Z</code>) as a null timestamp equivalent.</p>

<p>The query is an example of downsampling: taking higher precision data,
aggregating those data to a lower precision, and storing the lower precision
data in the database.
Downsampling is a common use case for the <code>INTO</code> clause.</p>

<h4 id="write-aggregated-results-for-more-than-one-measurement-to-a-different-database-downsampling-with-backreferencing">Write aggregated results for more than one measurement to a different database (downsampling with backreferencing)</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="o">*</span><span class="p">)</span> <span class="k">INTO</span> <span class="s2">&#34;where_else&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.:</span><span class="n">MEASUREMENT</span> <span class="k">FROM</span> <span class="o">/</span><span class="p">.</span><span class="o">*/</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:06:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="k">result</span>
<span class="n">time</span>                   <span class="n">written</span>
<span class="c1">----                   -------
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span>

<span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;where_else&#34;</span><span class="p">.</span><span class="s2">&#34;autogen&#34;</span><span class="p">.</span><span class="o">/</span><span class="p">.</span><span class="o">*/</span>

<span class="n">name</span><span class="p">:</span> <span class="n">average_temperature</span>
<span class="n">time</span>                   <span class="n">mean_degrees</span>   <span class="n">mean_index</span>   <span class="n">mean_pH</span>   <span class="n">mean_water_level</span>
<span class="c1">----                   ------------   ----------   -------   ----------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">78</span><span class="p">.</span><span class="mi">5</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean_degrees</span>   <span class="n">mean_index</span>   <span class="n">mean_pH</span>   <span class="n">mean_water_level</span>
<span class="c1">----                   ------------   ----------   -------   ----------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>                                         <span class="mi">5</span><span class="p">.</span><span class="mi">07625</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_pH</span>
<span class="n">time</span>                   <span class="n">mean_degrees</span>   <span class="n">mean_index</span>   <span class="n">mean_pH</span>   <span class="n">mean_water_level</span>
<span class="c1">----                   ------------   ----------   -------   ----------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>                               <span class="mi">6</span><span class="p">.</span><span class="mi">75</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">time</span>                   <span class="n">mean_degrees</span>   <span class="n">mean_index</span>   <span class="n">mean_pH</span>   <span class="n">mean_water_level</span>
<span class="c1">----                   ------------   ----------   -------   ----------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>                  <span class="mi">51</span><span class="p">.</span><span class="mi">75</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_temperature</span>
<span class="n">time</span>                   <span class="n">mean_degrees</span>   <span class="n">mean_index</span>   <span class="n">mean_pH</span>   <span class="n">mean_water_level</span>
<span class="c1">----                   ------------   ----------   -------   ----------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">63</span><span class="p">.</span><span class="mi">75</span></code></pre></div>
<p>The query aggregates data using an
InfluxQL <a href="../functions.html">function</a> and a <a href="index.html#group-by-time-intervals"><code>GROUP BY
time()</code> clause</a>.
It aggregates data in every measurement that matches the <a href="index.html#regular-expressions">regular expression</a>
in the <code>FROM</code> clause and writes the results to measurements with the same name in the
<code>where_else</code> database and the <code>autogen</code> retention policy.
Note that both <code>where_else</code> and <code>autogen</code> must exist prior to running the <code>INTO</code>
query.
See <a href="../database_management/index.html">Database management</a>
for how to manage databases and retention policies.</p>

<p>The response shows the number of points (<code>5</code>) that InfluxDB writes to the <code>where_else</code>
database and the <code>autogen</code> retention policy.
The timestamp in the response is meaningless; InfluxDB uses epoch 0
(<code>1970-01-01T00:00:00Z</code>) as a null timestamp equivalent.</p>

<p>The query is an example of downsampling with backreferencing.
It takes higher precision data from more than one measurement,
aggregates those data to a lower precision, and stores the lower precision
data in the database.
Downsampling with backreferencing is a common use case for the <code>INTO</code> clause.</p>

<h3 id="common-issues-with-the-into-clause">Common issues with the <code>INTO</code> clause</h3>

<h4 id="missing-data">Missing data</h4>

<p>If an <code>INTO</code> query includes a <a href="../../concepts/glossary.html#tag-key">tag key</a> in the <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a>, the query converts <a href="../../concepts/glossary.html#tag">tags</a> in the current
measurement to <a href="../../concepts/glossary.html#field">fields</a> in the destination measurement.
This can cause InfluxDB to overwrite <a href="../../concepts/glossary.html#point">points</a> that were previously differentiated
by a <a href="../../concepts/glossary.html#tag-value">tag value</a>.
Note that this behavior does not apply to queries that use the <a href="../functions/index.html#top"><code>TOP()</code></a> or <a href="../functions/index.html#bottom"><code>BOTTOM()</code></a> functions.
The
<a href="../../troubleshooting/frequently-asked-questions/index.html#why-are-my-into-queries-missing-data">Frequently Asked Questions</a>
document describes that behavior in detail.</p>

<p>To preserve tags in the current measurement as tags in the destination measurement,
<a href="index.html#group-by-tags"><code>GROUP BY</code> the relevant tag key</a> or <code>GROUP BY *</code> in the <code>INTO</code> query.</p>

<h4 id="automating-queries-with-the-into-clause">Automating queries with the <code>INTO</code> clause</h4>

<p>The <code>INTO</code> clause section in this document shows how to manually implement
queries with an <code>INTO</code> clause.
See the <a href="../continuous_queries/index.html">Continuous Queries</a>
documentation for how to automate <code>INTO</code> clause queries on realtime data.
Among <a href="../continuous_queries/index.html#continuous-query-use-cases">other uses</a>,
Continuous Queries automate the downsampling process.</p>

<h2 id="order-by-time-desc">ORDER BY time DESC</h2>

<p>By default, InfluxDB returns results in ascending time order; the first <a href="../../concepts/glossary/index.html#point">point</a>
returned has the oldest <a href="../../concepts/glossary/index.html#timestamp">timestamp</a> and
the last point returned has the most recent timestamp.
<code>ORDER BY time DESC</code> reverses that order such that InfluxDB returns the points
with the most recent timestamps first.</p>

<h3 id="syntax-7">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="p">[</span><span class="n">INTO_clause</span><span class="p">]</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">GROUP_BY_clause</span><span class="p">]</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">time</span> <span class="k">DESC</span></code></pre></div>
<p><code>ORDER by time DESC</code> must appear after the <a href="index.html#the-group-by-clause"><code>GROUP BY</code> clause</a>
if the query includes a <code>GROUP BY</code> clause.
<code>ORDER by time DESC</code> must appear after the <a href="index.html#the-where-clause"><code>WHERE</code> clause</a>
if the query includes a <code>WHERE</code> clause and no <code>GROUP BY</code> clause.</p>

<h3 id="examples-5">Examples</h3>

<h4 id="return-the-newest-points-first">Return the newest points first</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">time</span> <span class="k">DESC</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span></code></pre></div>
<p>The query returns the points with the most recent timestamps from the
<code>h2o_feet</code> <a href="../../concepts/glossary/index.html#measurement">measurement</a> first.
Without <code>ORDER by time DESC</code>, the query would return <code>2015-08-18T00:00:00Z</code>
first and <code>2015-09-18T21:42:00Z</code> last.</p>

<h4 id="return-the-newest-points-first-and-include-a-group-by-time-clause">Return the newest points first and include a GROUP BY time() clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">time</span> <span class="k">DESC</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">6825</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">80675</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">950749999999999</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">07625</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions.html">function</a>
and a time interval in the <a href="index.html#group-by-time-intervals">GROUP BY clause</a>
to calculate the average <code>water_level</code> for each twelve-minute
interval in the query&rsquo;s time range.
<code>ORDER BY time DESC</code> returns the most recent 12-minute time intervals
first.</p>

<p>Without <code>ORDER BY time DESC</code>, the query would return
<code>2015-08-18T00:00:00Z</code> first and <code>2015-08-18T00:36:00Z</code> last.</p>

<h1 id="the-limit-and-slimit-clauses">The LIMIT and SLIMIT clauses</h1>

<p><code>LIMIT</code> and <code>SLIMIT</code> limit the number of
<a href="../../concepts/glossary/index.html#point">points</a> and the number of
<a href="../../concepts/glossary/index.html#series">series</a> returned per query.</p>

<h2 id="the-limit-clause">The LIMIT clause</h2>

<p><code>LIMIT &lt;N&gt;</code> returns the first <code>N</code> <a href="../../concepts/glossary/index.html#point">points</a> from the specified <a href="../../concepts/glossary/index.html#measurement">measurement</a>.</p>

<h3 id="syntax-8">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="p">[</span><span class="n">INTO_clause</span><span class="p">]</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">GROUP_BY_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">ORDER_BY_clause</span><span class="p">]</span> <span class="k">LIMIT</span> <span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span></code></pre></div>
<p><code>N</code> specifies the number of <a href="../../concepts/glossary/index.html#point">points</a> to return from the specified <a href="../../concepts/glossary/index.html#measurement">measurement</a>.
If <code>N</code> is greater than the number of points in a measurement, InfluxDB returns
all points from that series.</p>

<p>Note that the <code>LIMIT</code> clause must appear in the order outlined in the syntax above.</p>

<h3 id="examples-6">Examples</h3>

<h4 id="limit-the-number-of-points-returned">Limit the number of points returned</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span><span class="p">,</span><span class="s2">&#34;location&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">LIMIT</span> <span class="mi">3</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>   <span class="k">location</span>
<span class="c1">----                   -----------   --------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>          <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>         <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>         <span class="n">coyote_creek</span></code></pre></div>
<p>The query returns the three oldest <a href="../../concepts/glossary/index.html#point">points</a> (determined by timestamp) from the <code>h2o_feet</code> <a href="../../concepts/glossary/index.html#measurement">measurement</a>.</p>

<h4 id="limit-the-number-points-returned-and-include-a-group-by-clause">Limit the number points returned and include a GROUP BY clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">,</span><span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="k">LIMIT</span> <span class="mi">2</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">0625</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">8245</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">09</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">077</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions.html">function</a>
and a <a href="index.html#group-by-time-intervals">GROUP BY clause</a>
to calculate the average <code>water_level</code> for each <a href="../../concepts/glossary/index.html#tag">tag</a> and for each twelve-minute
interval in the query&rsquo;s time range.
<code>LIMIT 2</code> requests the two oldest twelve-minute averages (determined by timestamp).</p>

<p>Note that without <code>LIMIT 2</code>, the query would return four points per <a href="../../concepts/glossary/index.html#series">series</a>;
one for each twelve-minute interval in the query&rsquo;s time range.</p>

<h2 id="the-slimit-clause">The <code>SLIMIT</code> clause</h2>

<p><code>SLIMIT &lt;N&gt;</code> returns every <a href="../../concepts/glossary/index.html#point">point</a> from &lt;N&gt; <a href="../../concepts/glossary/index.html#series">series</a> in the specified <a href="../../concepts/glossary/index.html#measurement">measurement</a>.</p>

<h3 id="syntax-9">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="p">[</span><span class="n">INTO_clause</span><span class="p">]</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">[,</span><span class="n">time</span><span class="p">(</span><span class="o">&lt;</span><span class="n">time_interval</span><span class="o">&gt;</span><span class="p">)]</span> <span class="p">[</span><span class="n">ORDER_BY_clause</span><span class="p">]</span> <span class="n">SLIMIT</span> <span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span></code></pre></div>
<p><code>N</code> specifies the number of <a href="../../concepts/glossary/index.html#series">series</a> to return from the specified <a href="../../concepts/glossary/index.html#measurement">measurement</a>.
If <code>N</code> is greater than the number of series in a measurement, InfluxDB returns
all series from that measurement.</p>

<p>There is an <a href="https://github.com/influxdata/influxdb/issues/7571">ongoing issue</a> that requires queries with <code>SLIMIT</code> to include <code>GROUP BY *</code>.
Note that the <code>SLIMIT</code> clause must appear in the order outlined in the syntax above.</p>

<h3 id="examples-7">Examples</h3>

<h4 id="limit-the-number-of-series-returned">Limit the number of series returned</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span> <span class="n">SLIMIT</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">887</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">402</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">314</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">235</span></code></pre></div>
<p>The query returns all <code>water_level</code> <a href="../../concepts/glossary/index.html#point">points</a> from one of the <a href="../../concepts/glossary/index.html#series">series</a> associated
with the <code>h2o_feet</code> <a href="../../concepts/glossary/index.html#measurement">measurement</a>.</p>

<h4 id="limit-the-number-of-series-returned-and-include-a-group-by-time-clause">Limit the number of series returned and include a GROUP BY time() clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">,</span><span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">SLIMIT</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">0625</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">8245</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">5675</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">303</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions.html">function</a>
and a time interval in the <a href="index.html#group-by-time-intervals">GROUP BY clause</a>
to calculate the average <code>water_level</code> for each twelve-minute
interval in the query&rsquo;s time range.
<code>SLIMIT 1</code> requests a single series associated with the <code>h2o_feet</code> measurement.</p>

<p>Note that without <code>SLIMIT 1</code>, the query would return results for the two series
associated with the <code>h2o_feet</code> measurement: <code>location=coyote_creek</code> and
<code>location=santa_monica</code>.</p>

<h2 id="limit-and-slimit">LIMIT and SLIMIT</h2>

<p><code>LIMIT &lt;N&gt;</code> followed by <code>SLIMIT &lt;N&gt;</code> returns the first &lt;N&gt; <a href="../../concepts/glossary/index.html#point">points</a> from &lt;N&gt; <a href="../../concepts/glossary/index.html#series">series</a> in the specified measurement.</p>

<h3 id="syntax-10">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="p">[</span><span class="n">INTO_clause</span><span class="p">]</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">[,</span><span class="n">time</span><span class="p">(</span><span class="o">&lt;</span><span class="n">time_interval</span><span class="o">&gt;</span><span class="p">)]</span> <span class="p">[</span><span class="n">ORDER_BY_clause</span><span class="p">]</span> <span class="k">LIMIT</span> <span class="o">&lt;</span><span class="n">N1</span><span class="o">&gt;</span> <span class="n">SLIMIT</span> <span class="o">&lt;</span><span class="n">N2</span><span class="o">&gt;</span></code></pre></div>
<p><code>N1</code> specifies the number of <a href="../../concepts/glossary/index.html#point">points</a> to return per <a href="../../concepts/glossary/index.html#measurement">measurement</a>.
If <code>N1</code> is greater than the number of points in a measurement, InfluxDB returns all points from that measurement.</p>

<p><code>N2</code> specifies the number of series to return from the specified <a href="../../concepts/glossary/index.html#measurement">measurement</a>.
If <code>N2</code> is greater than the number of series in a measurement, InfluxDB returns all series from that measurement.</p>

<p>There is an <a href="https://github.com/influxdata/influxdb/issues/7571">ongoing issue</a> that requires queries with <code>LIMIT</code> and <code>SLIMIT</code> to include <code>GROUP BY *</code>.
Note that the <code>LIMIT</code> and <code>SLIMIT</code> clauses must appear in the order outlined in the syntax above.</p>

<h3 id="examples-8">Examples</h3>

<h4 id="limit-the-number-of-points-and-series-returned">Limit the number of points and series returned</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span> <span class="k">LIMIT</span> <span class="mi">3</span> <span class="n">SLIMIT</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">887</span></code></pre></div>
<p>The query returns the three oldest <a href="../../concepts/glossary/index.html#point">points</a> (determined by timestamp) from one
of the <a href="../../concepts/glossary/index.html#series">series</a> associated with the
<a href="../../concepts/glossary/index.html#measurement">measurement</a> <code>h2o_feet</code>.</p>

<h4 id="limit-the-number-of-points-and-series-returned-and-include-a-group-by-time-clause">Limit the number of points and series returned and include a GROUP BY time() clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">,</span><span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="k">LIMIT</span> <span class="mi">2</span> <span class="n">SLIMIT</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">0625</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">8245</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions.html">function</a>
and a time interval in the <a href="index.html#group-by-time-intervals">GROUP BY clause</a>
to calculate the average <code>water_level</code> for each twelve-minute
interval in the query&rsquo;s time range.
<code>LIMIT 2</code> requests the two oldest twelve-minute averages (determined by
timestamp) and <code>SLIMIT 1</code> requests a single series
associated with the <code>h2o_feet</code> measurement.</p>

<p>Note that without <code>LIMIT 2 SLIMIT 1</code>, the query would return four points
for each of the two series associated with the <code>h2o_feet</code> measurement.</p>

<h2 id="the-offset-and-soffset-clauses">The OFFSET and SOFFSET clauses</h2>

<p><code>OFFSET</code> and <code>SOFFSET</code> paginates <a href="../../concepts/glossary/index.html#point">points</a> and <a href="../../concepts/glossary/index.html#series">series</a> returned.</p>

<table style="width:100%">
  <tr>
    <td><a href="index.html#the-offset-clause">The OFFSET clause</a></td>
    <td><a href="index.html#the-soffset-clause">The SOFFSET clause</a></td>
  </tr>
</table>

<h2 id="the-offset-clause">The <code>OFFSET</code> clause</h2>

<p><code>OFFSET &lt;N&gt;</code> paginates <code>N</code> <a href="../../concepts/glossary/index.html#point">points</a> in the query results.</p>

<h3 id="syntax-11">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="p">[</span><span class="n">INTO_clause</span><span class="p">]</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">GROUP_BY_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">ORDER_BY_clause</span><span class="p">]</span> <span class="n">LIMIT_clause</span> <span class="k">OFFSET</span> <span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">SLIMIT_clause</span><span class="p">]</span></code></pre></div>
<p><code>N</code> specifies the number of <a href="../../concepts/glossary/index.html#point">points</a> to paginate.
The <code>OFFSET</code> clause requires a <a href="index.html#the-limit-clause"><code>LIMIT</code> clause</a>.
Using the <code>OFFSET</code> clause without a <code>LIMIT</code> clause can cause <a href="https://github.com/influxdata/influxdb/issues/7577">inconsistent
query results</a>.</p>

<blockquote>
<p><strong>Note:</strong> InfluxDB returns no results if the <code>WHERE</code> clause includes a time
range and the <code>OFFSET</code> clause would cause InfluxDB to return points with
timestamps outside of that time range.</p>
</blockquote>

<h3 id="examples-9">Examples</h3>

<h4 id="paginate-points">Paginate points</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span><span class="p">,</span><span class="s2">&#34;location&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">LIMIT</span> <span class="mi">3</span> <span class="k">OFFSET</span> <span class="mi">3</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>   <span class="k">location</span>
<span class="c1">----                   -----------   --------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>         <span class="n">santa_monica</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">887</span>         <span class="n">coyote_creek</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">028</span>         <span class="n">santa_monica</span></code></pre></div>
<p>The query returns the fourth, fifth, and sixth <a href="../../concepts/glossary/index.html#point">points</a> from the <code>h2o_feet</code> <a href="../../concepts/glossary/index.html#measurement">measurement</a>.
If the query did not include <code>OFFSET 3</code>, it would return the first, second,
and third points from that measurement.</p>

<h4 id="paginate-points-and-include-several-clauses">Paginate points and include several clauses</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">,</span><span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">time</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">2</span> <span class="k">OFFSET</span> <span class="mi">2</span> <span class="n">SLIMIT</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">8245</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">0625</span></code></pre></div>
<p>This example is pretty involved, so here&rsquo;s the clause-by-clause breakdown:</p>

<p>The <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a> specifies an InfluxQL <a href="../functions.html">function</a>.
The <a href="index.html#the-basic-select-statement"><code>FROM</code> clause</a> specifies a single measurement.
The <a href="index.html#the-where-clause"><code>WHERE</code> clause</a> specifies the time range for the query.
The <a href="index.html#the-group-by-clause"><code>GROUP BY</code> clause</a> groups results by all tags  (<code>*</code>) and into 12-minute intervals.
The <a href="index.html#order-by-time-desc"><code>ORDER BY time DESC</code> clause</a> returns results in descending timestamp order.
The <a href="index.html#the-limit-clause"><code>LIMIT 2</code> clause</a> limits the number of points returned to two.
The <code>OFFSET 2</code> clause excludes the first two averages from the query results.
The <a href="index.html#the-slimit-clause"><code>SLIMIT 1</code> clause</a> limits the number of series returned to one.</p>

<p>Without <code>OFFSET 2</code>, the query would return the first two averages of the query results:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">303</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">5675</span></code></pre></div>
<h2 id="the-soffset-clause">The <code>SOFFSET</code> clause</h2>

<p><code>SOFFSET &lt;N&gt;</code> paginates <code>N</code> <a href="../../concepts/glossary/index.html#series">series</a> in the query results.</p>

<h3 id="syntax-12">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="p">[</span><span class="n">INTO_clause</span><span class="p">]</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">[,</span><span class="n">time</span><span class="p">(</span><span class="n">time_interval</span><span class="p">)]</span> <span class="p">[</span><span class="n">ORDER_BY_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">LIMIT_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">OFFSET_clause</span><span class="p">]</span> <span class="n">SLIMIT_clause</span> <span class="n">SOFFSET</span> <span class="o">&lt;</span><span class="n">N</span><span class="o">&gt;</span></code></pre></div>
<p><code>N</code> specifies the number of <a href="../../concepts/glossary/index.html#series">series</a> to paginate.
The <code>SOFFSET</code> clause requires an <a href="index.html#the-slimit-clause"><code>SLIMIT</code> clause</a>.
Using the <code>SOFFSET</code> clause without an <code>SLIMIT</code> clause can cause <a href="https://github.com/influxdata/influxdb/issues/7578">inconsistent
query results</a>.
There is an <a href="https://github.com/influxdata/influxdb/issues/7571">ongoing issue</a> that requires queries with <code>SLIMIT</code> to include <code>GROUP BY *</code>.</p>

<blockquote>
<p><strong>Note:</strong> InfluxDB returns no results if the <code>SOFFSET</code> clause paginates
through more than the total number of series.</p>
</blockquote>

<h3 id="examples-10">Examples</h3>

<h4 id="paginate-series">Paginate series</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span> <span class="n">SLIMIT</span> <span class="mi">1</span> <span class="n">SOFFSET</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="p">[...]</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query returns data for the <a href="../../concepts/glossary/index.html#series">series</a> associated with the <code>h2o_feet</code>
<a href="../../concepts/glossary/index.html#measurement">measurement</a> and the <code>location = santa_monica</code> <a href="../../concepts/glossary/index.html#tag">tag</a>.
Without <code>SOFFSET 1</code>, the query returns data for the series associated with the
<code>h2o_feet</code> measurement and the <code>location = coyote_creek</code> tag.</p>

<h4 id="paginate-series-and-include-all-clauses">Paginate series and include all clauses</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:42:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">*</span><span class="p">,</span><span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">time</span> <span class="k">DESC</span> <span class="k">LIMIT</span> <span class="mi">2</span> <span class="k">OFFSET</span> <span class="mi">2</span> <span class="n">SLIMIT</span> <span class="mi">1</span> <span class="n">SOFFSET</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">077</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">09</span></code></pre></div>
<p>This example is pretty involved, so here&rsquo;s the clause-by-clause breakdown:</p>

<p>The <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a> specifies an InfluxQL <a href="../functions.html">function</a>.
The <a href="index.html#the-basic-select-statement"><code>FROM</code> clause</a> specifies a single measurement.
The <a href="index.html#the-where-clause"><code>WHERE</code> clause</a> specifies the time range for the query.
The <a href="index.html#the-group-by-clause"><code>GROUP BY</code> clause</a> groups results by all tags  (<code>*</code>) and into 12-minute intervals.
The <a href="index.html#order-by-time-desc"><code>ORDER BY time DESC</code> clause</a> returns results in descending timestamp order.
The <a href="index.html#the-limit-clause"><code>LIMIT 2</code> clause</a> limits the number of points returned to two.
The <a href="index.html#the-offset-clause"><code>OFFSET 2</code> clause</a> excludes the first two averages from the query results.
The <a href="index.html#the-slimit-clause"><code>SLIMIT 1</code> clause</a> limits the number of series returned to one.
The <code>SOFFSET 1</code> clause paginates the series returned.</p>

<p>Without <code>SOFFSET 1</code>, the query would return the results for a different series:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">8245</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">0625</span></code></pre></div>
<h2 id="the-time-zone-clause">The Time Zone clause</h2>

<p>The <code>tz()</code> clause returns the UTC offset for the specified timezone.</p>

<h3 id="syntax-13">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="p">[</span><span class="n">INTO_clause</span><span class="p">]</span> <span class="n">FROM_clause</span> <span class="p">[</span><span class="n">WHERE_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">GROUP_BY_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">ORDER_BY_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">LIMIT_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">OFFSET_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">SLIMIT_clause</span><span class="p">]</span> <span class="p">[</span><span class="n">SOFFSET_clause</span><span class="p">]</span> <span class="n">tz</span><span class="p">(</span><span class="s1">&#39;&lt;time_zone&gt;&#39;</span><span class="p">)</span></code></pre></div>
<p>By default, InfluxDB stores and returns timestamps in UTC.
The <code>tz()</code> clause includes the UTC offset or, if applicable, the UTC Daylight Savings Time (DST) offset to the query&rsquo;s returned timestamps.
The returned timestamps must be in <a href="index.html#configuring-the-returned-timestamps">RFC3339 format</a> for the UTC offset or UTC DST to appear.
The <code>time_zone</code> parameter follows the TZ syntax in the <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones#List">Internet Assigned Numbers Authority time zone database</a> and it requires single quotes.</p>

<h3 id="examples-11">Examples</h3>

<h4 id="return-the-utc-offset-for-chicago-s-time-zone">Return the UTC offset for Chicago&rsquo;s time zone</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:18:00Z&#39;</span> <span class="n">tz</span><span class="p">(</span><span class="s1">&#39;America/Chicago&#39;</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                       <span class="n">water_level</span>
<span class="c1">----                       -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">17</span><span class="n">T19</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span>  <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">17</span><span class="n">T19</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span>  <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">17</span><span class="n">T19</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span>  <span class="mi">2</span><span class="p">.</span><span class="mi">028</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">17</span><span class="n">T19</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">00</span><span class="o">-</span><span class="mi">05</span><span class="p">:</span><span class="mi">00</span>  <span class="mi">2</span><span class="p">.</span><span class="mi">126</span></code></pre></div>
<p>The query results include the UTC offset (<code>-05:00</code>) for the <code>America/Chicago</code> time zone in the timestamps.</p>

<h2 id="time-syntax">Time syntax</h2>

<p>For most <code>SELECT</code> statements, the default time range is between <a href="../../troubleshooting/frequently-asked-questions/index.html#what-are-the-minimum-and-maximum-timestamps-that-influxdb-can-store"><code>1677-09-21 00:12:43.145224194</code> and <code>2262-04-11T23:47:16.854775806Z</code> UTC</a>.
For <code>SELECT</code> statements with a <a href="index.html#group-by-time-intervals"><code>GROUP BY time()</code> clause</a>,
the default time range is between <code>1677-09-21 00:12:43.145224194</code> UTC and <a href="../../concepts/glossary/index.html#now"><code>now()</code></a>.
The following sections detail how to specify alternative time ranges in the <code>SELECT</code>
statement&rsquo;s <a href="index.html#the-where-clause"><code>WHERE</code> clause</a>.</p>

<table style="width:100%">
  <tr>
    <td><a href="index.html#absolute-time">Absolute time</a></td>
    <td><a href="index.html#relative-time">Relative time</a></td>
    <td><a href="index.html#common-issues-with-time-syntax">Common issues with time syntax</a></td>
  </tr>
</table>

<p>Tired of reading? Check out this InfluxQL Short:
<br>
<br>
<iframe src="https://player.vimeo.com/video/198723778?title=0&byline=0&portrait=0" width="60%" height="250px" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></p>

<h2 id="absolute-time">Absolute time</h2>

<p>Specify absolute time with date-time strings and epoch time.</p>

<h3 id="syntax-14">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="n">FROM_clause</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&lt;</span><span class="k">operator</span><span class="o">&gt;</span> <span class="p">[</span><span class="s1">&#39;&lt;rfc3339_date_time_string&gt;&#39;</span> <span class="o">|</span> <span class="s1">&#39;&lt;rfc3339_like_date_time_string&gt;&#39;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">epoch_time</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[</span><span class="k">AND</span> <span class="p">[</span><span class="s1">&#39;&lt;rfc3339_date_time_string&gt;&#39;</span> <span class="o">|</span> <span class="s1">&#39;&lt;rfc3339_like_date_time_string&gt;&#39;</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">epoch_time</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[...]]</span></code></pre></div>
<h4 id="supported-operators-2">Supported operators</h4>

<table>
<thead>
<tr>
<th align="center">Operator</th>
<th align="left">Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><code>=</code></td>
<td align="left">equal to</td>
</tr>

<tr>
<td align="center"><code>&lt;&gt;</code></td>
<td align="left">not equal to</td>
</tr>

<tr>
<td align="center"><code>!=</code></td>
<td align="left">not equal to</td>
</tr>

<tr>
<td align="center"><code>&gt;</code></td>
<td align="left">greater than</td>
</tr>

<tr>
<td align="center"><code>&gt;=</code></td>
<td align="left">greater than or equal to</td>
</tr>

<tr>
<td align="center"><code>&lt;</code></td>
<td align="left">less than</td>
</tr>

<tr>
<td align="center"><code>&lt;=</code></td>
<td align="left">less than or equal to</td>
</tr>
</tbody>
</table>

<p>Currently, InfluxDB does not support using <code>OR</code> with absolute time in the <code>WHERE</code>
clause. See the <a href="../../troubleshooting/frequently-asked-questions/index.html#why-is-my-query-with-a-where-or-time-clause-returning-empty-results">Frequently Asked Questions</a>
document and the <a href="https://github.com/influxdata/influxdb/issues/7530">GitHub Issue</a>
for more information.</p>

<h4 id="rfc3339-date-time-string"><code>rfc3339_date_time_string</code></h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="s1">&#39;YYYY-MM-DDTHH:MM:SS.nnnnnnnnnZ&#39;</span></code></pre></div>
<p><code>.nnnnnnnnn</code> is optional and is set to <code>.000000000</code> if not included.
The <a href="https://www.ietf.org/rfc/rfc3339.txt">RFC3339</a> date-time string requires single quotes.</p>

<h4 id="rfc3339-like-date-time-string"><code>rfc3339_like_date_time_string</code></h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="s1">&#39;YYYY-MM-DD HH:MM:SS.nnnnnnnnn&#39;</span></code></pre></div>
<p><code>HH:MM:SS.nnnnnnnnn.nnnnnnnnn</code> is optional and is set to <code>00:00:00.000000000</code> if not included.
The RFC3339-like date-time string requires single quotes.</p>

<h4 id="epoch-time"><code>epoch_time</code></h4>

<p>Epoch time is the amount of time that has elapsed since 00:00:00
Coordinated Universal Time (UTC), Thursday, 1 January 1970.</p>

<p>By default, InfluxDB assumes that all epoch timestamps are in nanoseconds.
Include a <a href="../spec/index.html#durations">duration literal</a>
at the end of the epoch timestamp to indicate a precision other than nanoseconds.</p>

<h4 id="basic-arithmetic">Basic arithmetic</h4>

<p>All timestamp formats support basic arithmetic.
Add (<code>+</code>) or subtract (<code>-</code>) a time from a timestamp with a <a href="../spec/index.html#durations">duration literal</a>.
Note that InfluxQL requires a whitespace between the <code>+</code> or <code>-</code> and the
duration literal.</p>

<h3 id="examples-12">Examples</h3>

<h4 id="specify-a-time-range-with-rfc3339-date-time-strings">Specify a time range with RFC3339 date-time strings</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00.000000000Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:12:00Z&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">028</span></code></pre></div>
<p>The query returns data with timestamps between August 18, 2015 at 00:00:00.000000000 and
August 18, 2015 at 00:12:00.
The nanosecond specification in the first timestamp (<code>.000000000</code>)
is optional.</p>

<p>Note that the single quotes around the RFC3339 date-time strings are required.</p>

<h4 id="specify-a-time-range-with-rfc3339-like-date-time-strings">Specify a time range with RFC3339-like date-time strings</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18 00:12:00&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">028</span></code></pre></div>
<p>The query returns data with timestamps between August 18, 2015 at 00:00:00 and August 18, 2015
at 00:12:00.
The first date-time string does not include a time; InfluxDB assumes the time
is 00:00:00.</p>

<p>Note that the single quotes around the RFC3339-like date-time strings are
required.</p>

<h4 id="specify-a-time-range-with-epoch-timestamps">Specify a time range with epoch timestamps</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="mi">1439856000000000000</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="mi">1439856720000000000</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">028</span></code></pre></div>
<p>The query returns data with timestamps that occur between August 18, 2015
at 00:00:00 and August 18, 2015 at 00:12:00.
By default InfluxDB assumes epoch timestamps are in nanoseconds.</p>

<h4 id="specify-a-time-range-with-second-precision-epoch-timestamps">Specify a time range with second-precision epoch timestamps</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="mi">1439856000</span><span class="n">s</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="mi">1439856720</span><span class="n">s</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">028</span></code></pre></div>
<p>The query returns data with timestamps that occur between August 18, 2015
at 00:00:00 and August 18, 2015 at 00:12:00.
The <code>s</code> <a href="../spec/index.html#durations">duration literal</a> at the
end of the epoch timestamps indicate that the epoch timestamps are in seconds.</p>

<h4 id="perform-basic-arithmetic-on-an-rfc3339-like-date-time-string">Perform basic arithmetic on an RFC3339-like date-time string</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="s1">&#39;2015-09-18T21:24:00Z&#39;</span> <span class="o">+</span> <span class="mi">6</span><span class="n">m</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query returns data with timestamps that occur at least six minutes after
September 18, 2015 at 21:24:00.
Note that the whitespace between the <code>+</code> and <code>6m</code> is required.</p>

<h4 id="perform-basic-arithmetic-on-an-epoch-timestamp">Perform basic arithmetic on an epoch timestamp</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="mi">24043524</span><span class="n">m</span> <span class="o">-</span> <span class="mi">6</span><span class="n">m</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">013</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">01</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">066</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">938</span></code></pre></div>
<p>The query returns data with timestamps that occur at least six minutes before
September 18, 2015 at 21:24:00.
Note that the whitespace between the <code>-</code> and <code>6m</code> is required.</p>

<h2 id="relative-time">Relative time</h2>

<p>Use <a href="../../concepts/glossary/index.html#now"><code>now()</code></a> to query data with <a href="../../concepts/glossary/index.html#timestamp">timestamps</a> relative to the server&rsquo;s current timestamp.</p>

<h3 id="syntax-15">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="n">FROM_clause</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&lt;</span><span class="k">operator</span><span class="o">&gt;</span> <span class="n">now</span><span class="p">()</span> <span class="p">[[</span> <span class="o">-</span> <span class="o">|</span> <span class="o">+</span> <span class="p">]</span> <span class="o">&lt;</span><span class="n">duration_literal</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[(</span><span class="k">AND</span><span class="o">|</span><span class="k">OR</span><span class="p">)</span> <span class="n">now</span><span class="p">()</span> <span class="p">[...]]</span></code></pre></div>
<p><code>now()</code> is the Unix time of the server at the time the query is executed on that server.
The whitespace between <code>-</code> or <code>+</code> and the <a href="../spec/index.html#durations">duration literal</a> is required.</p>

<h4 id="supported-operators-3">Supported operators</h4>

<table>
<thead>
<tr>
<th align="center">Operator</th>
<th align="left">Meaning</th>
</tr>
</thead>

<tbody>
<tr>
<td align="center"><code>=</code></td>
<td align="left">equal to</td>
</tr>

<tr>
<td align="center"><code>&lt;&gt;</code></td>
<td align="left">not equal to</td>
</tr>

<tr>
<td align="center"><code>!=</code></td>
<td align="left">not equal to</td>
</tr>

<tr>
<td align="center"><code>&gt;</code></td>
<td align="left">greater than</td>
</tr>

<tr>
<td align="center"><code>&gt;=</code></td>
<td align="left">greater than or equal to</td>
</tr>

<tr>
<td align="center"><code>&lt;</code></td>
<td align="left">less than</td>
</tr>

<tr>
<td align="center"><code>&lt;=</code></td>
<td align="left">less than or equal to</td>
</tr>
</tbody>
</table>

<h4 id="duration-literal"><code>duration_literal</code></h4>

<p><code>u</code> or <code></code>&emsp;microseconds
<code>ms</code>&nbsp;&nbsp;&emsp;&emsp;&nbsp;&nbsp;&nbsp;milliseconds
<code>s</code>&nbsp;&nbsp;&emsp;&emsp;&emsp;&nbsp;seconds
<code>m</code>&nbsp;&nbsp;&emsp;&emsp;&emsp;&nbsp;minutes
<code>h</code>&nbsp;&nbsp;&emsp;&emsp;&emsp;&nbsp;hours
<code>d</code>&nbsp;&nbsp;&emsp;&emsp;&emsp;&nbsp;days
<code>w</code>&nbsp;&nbsp;&emsp;&emsp;&emsp;&nbsp;weeks</p>

<h3 id="examples-13">Examples</h3>

<h4 id="specify-a-time-range-with-relative-time">Specify a time range with relative time</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="n">now</span><span class="p">()</span> <span class="o">-</span> <span class="mi">1</span><span class="n">h</span></code></pre></div>
<p>The query returns data with timestamps that occur within the past hour.
The whitespace between <code>-</code> and <code>1h</code> is required.</p>

<h4 id="specify-a-time-range-with-absolute-time-and-relative-time">Specify a time range with absolute time and relative time</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;level description&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;</span> <span class="s1">&#39;2015-09-18T21:18:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;</span> <span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1000</span><span class="n">d</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>
<span class="c1">----                   -----------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">3</span> <span class="k">and</span> <span class="mi">6</span> <span class="n">feet</span></code></pre></div>
<p>The query returns data with timestamps that occur between September 18, 2015
at 21:18:00 and 1000 days from <code>now()</code>.
The whitespace between <code>+</code> and <code>1000d</code> is required.</p>

<h2 id="common-issues-with-time-syntax">Common issues with time syntax</h2>

<h3 id="using-or-to-select-time-multiple-time-intervals">Using <code>OR</code> to select time multiple time intervals</h3>

<p>InfluxDB does not support using the <code>OR</code> operator in the <code>WHERE</code> clause to specify multiple time intervals.</p>

<p>For more information, see <a href="../../troubleshooting/frequently-asked-questions/index.html#why-is-my-query-with-a-where-or-time-clause-returning-empty-results">Frequently asked questions</a>.</p>

<h3 id="querying-data-that-occur-after-now-with-a-group-by-time-clause">Querying data that occur after <code>now()</code> with a <code>GROUP BY time()</code> clause</h3>

<p>Most <code>SELECT</code> statements have a default time range between <a href="../../troubleshooting/frequently-asked-questions/index.html#what-are-the-minimum-and-maximum-timestamps-that-influxdb-can-store"><code>1677-09-21 00:12:43.145224194</code> and <code>2262-04-11T23:47:16.854775806Z</code> UTC</a>.
For <code>SELECT</code> statements with a <a href="index.html#group-by-time-intervals"><code>GROUP BY time()</code> clause</a>,
the default time range is between <code>1677-09-21 00:12:43.145224194</code> UTC and <a href="../../concepts/glossary/index.html#now"><code>now()</code></a>.</p>

<p>To query data with timestamps that occur after <code>now()</code>, <code>SELECT</code> statements with
a <code>GROUP BY time()</code> clause must provide an alternative upper bound in the
<code>WHERE</code> clause.</p>

<h4 id="example-1">Example</h4>

<p>Use the <a href="../../tools/shell/index.html">CLI</a> to write a point to the <code>NOAA_water_database</code> that occurs after <code>now()</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">INSERT</span> <span class="n">h2o_feet</span><span class="p">,</span><span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span> <span class="n">water_level</span><span class="o">=</span><span class="mi">3</span><span class="p">.</span><span class="mi">1</span> <span class="mi">1587074400000000000</span></code></pre></div>
<p>Run a <code>GROUP BY time()</code> query that covers data with timestamps between
<code>2015-09-18T21:30:00Z</code> and <code>now()</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T21:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="k">none</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">01</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">002</span></code></pre></div>
<p>Run a <code>GROUP BY time()</code> query that covers data with timestamps between
<code>2015-09-18T21:30:00Z</code> and 180 weeks from <code>now()</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-09-18T21:30:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="n">now</span><span class="p">()</span> <span class="o">+</span> <span class="mi">180</span><span class="n">w</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="k">none</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">01</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">18</span><span class="n">T21</span><span class="p">:</span><span class="mi">36</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">002</span>
<span class="mi">2020</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">16</span><span class="n">T22</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">1</span></code></pre></div>
<p>Note that the <code>WHERE</code> clause must provide an alternative <strong>upper</strong> bound to
override the default <code>now()</code> upper bound. The following query merely resets
the lower bound to <code>now()</code> such that the query&rsquo;s time range is between
<code>now()</code> and <code>now()</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span><span class="o">=</span><span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="n">now</span><span class="p">()</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="n">fill</span><span class="p">(</span><span class="k">none</span><span class="p">)</span>
<span class="o">&gt;</span></code></pre></div>
<h3 id="configuring-the-returned-timestamps">Configuring the returned timestamps</h3>

<p>The <a href="../../tools/shell/index.html">CLI</a> returns timestamps in
nanosecond epoch format by default.
Specify alternative formats with the
<a href="../../tools/shell/index.html#influx-commands"><code>precision &lt;format&gt;</code> command</a>.
The <a href="../../tools/api/index.html">InfluxDB API</a> returns timestamps
in <a href="https://www.ietf.org/rfc/rfc3339.txt">RFC3339</a> format by default.
Specify alternative formats with the
<a href="../../tools/api/index.html#query-string-parameters"><code>epoch</code> query string parameter</a>.</p>

<h2 id="regular-expressions">Regular expressions</h2>

<p>InfluxQL supports using regular expressions when specifying:</p>

<ul>
<li><a href="../../concepts/glossary/index.html#field-key">field keys</a> and <a href="../../concepts/glossary/index.html#tag-key">tag keys</a> in the <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a></li>
<li><a href="../../concepts/glossary/index.html#measurement">measurements</a> in the <a href="index.html#the-basic-select-statement"><code>FROM</code> clause</a></li>
<li><a href="../../concepts/glossary/index.html#tag-value">tag values</a> and string <a href="../../concepts/glossary/index.html#field-value">field values</a> in the <a href="index.html#the-where-clause"><code>WHERE</code> clause</a>.</li>
<li><a href="../../concepts/glossary/index.html#tag-key">tag keys</a> in the <a href="index.html#group-by-tags"><code>GROUP BY</code> clause</a></li>
</ul>

<p>Currently, InfluxQL does not support using regular expressions to match
non-string field values in the
<code>WHERE</code> clause,
<a href="../../concepts/glossary/index.html#database">databases</a>, and
<a href="../../concepts/glossary/index.html#retention-policy-rp">retention polices</a>.</p>

<blockquote>
<p><strong>Note:</strong> Regular expression comparisons are more computationally intensive than exact
string comparisons; queries with regular expressions are not as performant
as those without.</p>
</blockquote>

<h3 id="syntax-16">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">SELECT</span> <span class="o">/&lt;</span><span class="n">regular_expression_field_key</span><span class="o">&gt;/</span> <span class="k">FROM</span> <span class="o">/&lt;</span><span class="n">regular_expression_measurement</span><span class="o">&gt;/</span> <span class="k">WHERE</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">tag_key</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="k">operator</span><span class="o">&gt;</span> <span class="o">/&lt;</span><span class="n">regular_expression_tag_value</span><span class="o">&gt;/</span> <span class="o">|</span> <span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="k">operator</span><span class="o">&gt;</span> <span class="o">/&lt;</span><span class="n">regular_expression_field_value</span><span class="o">&gt;/</span><span class="p">]</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">/&lt;</span><span class="n">regular_expression_tag_key</span><span class="o">&gt;/</span></code></pre></div>
<p>Regular expressions are surrounded by <code>/</code> characters and use
<a href="http://golang.org/pkg/regexp/syntax/">Golang&rsquo;s regular expression syntax</a>.</p>

<h4 id="supported-operators-4">Supported operators</h4>

<p><code>=~</code>&emsp;matches against
<code>!~</code>&emsp;doesn&rsquo;t match against</p>

<h3 id="examples-14">Examples</h3>

<h4 id="use-a-regular-expression-to-specify-field-keys-and-tag-keys-in-the-select-clause">Use a regular expression to specify field keys and tag keys in the SELECT clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">/</span><span class="n">l</span><span class="o">/</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">LIMIT</span> <span class="mi">1</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="k">level</span> <span class="n">description</span>      <span class="k">location</span>       <span class="n">water_level</span>
<span class="c1">----                   -----------------      --------       -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="k">between</span> <span class="mi">6</span> <span class="k">and</span> <span class="mi">9</span> <span class="n">feet</span>   <span class="n">coyote_creek</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span></code></pre></div>
<p>The query selects all <a href="../../concepts/glossary/index.html#field-key">field keys</a>
and <a href="../../concepts/glossary/index.html#tag-key">tag keys</a> that include an <code>l</code>.
Note that the regular expression in the <code>SELECT</code> clause must match at least one
field key in order to return results for a tag key that matches the regular
expression.</p>

<p>Currently, there is no syntax to distinguish between regular expressions for
field keys and regular expressions for tag keys in the <code>SELECT</code> clause.
The syntax <code>/&lt;regular_expression&gt;/::[field | tag]</code> is not supported.</p>

<h4 id="use-a-regular-expression-to-specify-measurements-in-the-from-clause">Use a regular expression to specify measurements in the FROM clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;degrees&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="o">/</span><span class="n">temperature</span><span class="o">/</span>

<span class="n">name</span><span class="p">:</span> <span class="n">average_temperature</span>
<span class="n">time</span>			<span class="n">mean</span>
<span class="c1">----			----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">79</span><span class="p">.</span><span class="mi">98472932232272</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_temperature</span>
<span class="n">time</span>			<span class="n">mean</span>
<span class="c1">----			----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">64</span><span class="p">.</span><span class="mi">98872722506226</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>degrees</code> for every <a href="../../concepts/glossary.html#measurement">measurement</a> in the <code>NOAA_water_database</code>
<a href="../../concepts/glossary.html#database">database</a> that contains the word <code>temperature</code>.</p>

<h4 id="use-a-regular-expression-to-specify-tag-values-in-the-where-clause">Use a regular expression to specify tag values in the WHERE clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="n">water_level</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=~</span> <span class="o">/</span><span class="p">[</span><span class="n">m</span><span class="p">]</span><span class="o">/</span> <span class="k">AND</span> <span class="s2">&#34;water_level&#34;</span> <span class="o">&gt;</span> <span class="mi">3</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">47155532049926</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>water_level</code> where the <a href="../../concepts/glossary.html#tag-value">tag value</a> of <code>location</code>
includes an <code>m</code> and <code>water_level</code> is greater than three.</p>

<h4 id="use-a-regular-expression-to-specify-a-tag-with-no-value-in-the-where-clause">Use a regular expression to specify a tag with no value in the WHERE clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">!~</span> <span class="o">/</span><span class="p">.</span><span class="o">/</span>
<span class="o">&gt;</span></code></pre></div>
<p>The query selects all data from the <code>h2o_feet</code> measurement where the <code>location</code>
<a href="../../concepts/glossary.html#tag">tag</a> has no value.
Every data <a href="../../concepts/glossary.html#point">point</a> in the <code>NOAA_water_database</code> has a tag value for <code>location</code>.</p>

<p>It&rsquo;s possible to perform this same query without a regular expression.
See the
<a href="../../troubleshooting/frequently-asked-questions/index.html#how-do-i-select-data-with-a-tag-that-has-no-value">Frequently Asked Questions</a>
document for more information.</p>

<h4 id="use-a-regular-expression-to-specify-a-tag-with-a-value-in-the-where-clause">Use a regular expression to specify a tag with a value in the WHERE clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=~</span> <span class="o">/</span><span class="p">.</span><span class="o">/</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">442107025822523</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>water_level</code> across all data that have a tag value for
<code>location</code>.</p>

<h4 id="use-a-regular-expression-to-specify-a-field-value-in-the-where-clause">Use a regular expression to specify a field value in the WHERE clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;santa_monica&#39;</span> <span class="k">AND</span> <span class="s2">&#34;level description&#34;</span> <span class="o">=~</span> <span class="o">/</span><span class="k">between</span><span class="o">/</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">47155532049926</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to calculate the average <code>water_level</code> for all data where the field value of
<code>level description</code> includes the word <code>between</code>.</p>

<h4 id="use-a-regular-expression-to-specify-tag-keys-in-the-group-by-clause">Use a regular expression to specify tag keys in the GROUP BY clause</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">FIRST</span><span class="p">(</span><span class="s2">&#34;index&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_quality&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="o">/</span><span class="n">l</span><span class="o">/</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="k">first</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">41</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_quality</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="k">first</span>
<span class="c1">----                   -----
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">99</span></code></pre></div>
<p>The query uses an InfluxQL <a href="../functions/index.html">function</a>
to select the first value of <code>index</code> for every tag that includes the letter <code>l</code>
in its tag key.</p>

<h2 id="data-types-and-cast-operations">Data types and cast operations</h2>

<p>The <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a> supports specifying a <a href="../../concepts/glossary/index.html#field">field&rsquo;s</a> type and basic cast
operations with the <code>::</code> syntax.</p>

<table style="width:100%">
  <tr>
    <td><a href="index.html#data-types">Data Types</a></td>
    <td><a href="index.html#cast-operations">Cast Operations</a></td>
  </tr>
</table>

<h2 id="data-types">Data types</h2>

<p><a href="../../concepts/glossary/index.html#field-value">Field values</a> can be floats, integers, strings, or booleans.
The <code>::</code> syntax allows users to specify the field&rsquo;s type in a query.</p>

<blockquote>
<p><strong>Note:</strong>  Generally, it is not necessary to specify the field value
type in the <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a>.
In most cases, InfluxDB rejects any writes that attempt to write a <a href="../../concepts/glossary/index.html#field-value">field value</a>
to a field that previously accepted field values of a different type.</p>

<p>It is possible for field value types to differ across <a href="../../concepts/glossary/index.html#shard-group">shard groups</a>.
In these cases, it may be necessary to specify the field value type in the
<code>SELECT</code> clause.
Please see the
<a href="../../troubleshooting/frequently-asked-questions/index.html#how-does-influxdb-handle-field-type-discrepancies-across-shards">Frequently Asked Questions</a>
document for more information on how InfluxDB handles field value type discrepancies.</p>
</blockquote>

<h3 id="syntax-17">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span><span class="p">::</span><span class="o">&lt;</span><span class="k">type</span><span class="o">&gt;</span> <span class="n">FROM_clause</span></code></pre></div>
<p><code>type</code> can be <code>float</code>, <code>integer</code>, <code>string</code>, or <code>boolean</code>.
In most cases, InfluxDB returns no data if the <code>field_key</code> does not store data of the specified
<code>type</code>. See <a href="index.html#cast-operations">Cast Operations</a> for more information.</p>

<h3 id="example-2">Example</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span><span class="p">::</span><span class="nb">float</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">LIMIT</span> <span class="mi">4</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">005</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">116</span></code></pre></div>
<p>The query returns values of the <code>water_level</code> field key that are floats.</p>

<h2 id="cast-operations">Cast operations</h2>

<p>The <code>::</code> syntax allows users to perform basic cast operations in queries.
Currently, InfluxDB supports casting <a href="../../concepts/glossary/index.html#field-value">field values</a> from integers to
floats or from floats to integers.</p>

<h3 id="syntax-18">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="o">&lt;</span><span class="n">field_key</span><span class="o">&gt;</span><span class="p">::</span><span class="o">&lt;</span><span class="k">type</span><span class="o">&gt;</span> <span class="n">FROM_clause</span></code></pre></div>
<p><code>type</code> can be <code>float</code> or <code>integer</code>.</p>

<p>InfluxDB returns no data if the query attempts to cast an integer or float to a
string or boolean.</p>

<h3 id="examples-15">Examples</h3>

<h4 id="cast-float-field-values-to-integers">Cast float field values to integers</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span><span class="p">::</span><span class="nb">integer</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">LIMIT</span> <span class="mi">4</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">water_level</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">06</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span></code></pre></div>
<p>The query returns the integer form of <code>water_level</code>&rsquo;s float <a href="../../concepts/glossary/index.html#field-value">field values</a>.</p>

<h4 id="cast-float-field-values-to-strings-this-functionality-is-not-supported">Cast float field values to strings (this functionality is not supported)</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span><span class="p">::</span><span class="n">string</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">LIMIT</span> <span class="mi">4</span>
<span class="o">&gt;</span></code></pre></div>
<p>The query returns no data as casting a float field value to a string is not
yet supported.</p>

<h2 id="merge-behavior">Merge behavior</h2>

<p>In InfluxDB, queries merge <a href="../../concepts/glossary/index.html#series">series</a>
automatically.</p>

<h3 id="example-3">Example</h3>

<p>The <code>h2o_feet</code> <a href="../../concepts/glossary/index.html#measurement">measurement</a> in the <code>NOAA_water_database</code> is part of two <a href="../../concepts/glossary/index.html#series">series</a>.
The first series is made up of the <code>h2o_feet</code> measurement and the <code>location = coyote_creek</code> <a href="../../concepts/glossary/index.html#tag">tag</a>.
The second series is made of up the <code>h2o_feet</code> measurement and the <code>location = santa_monica</code> tag.</p>

<p>The following query automatically merges those two series when it calculates the <a href="../functions/index.html#mean">average</a> <code>water_level</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">mean</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">442107025822521</span></code></pre></div>
<p>If you want the average <code>water_level</code> for the first series only, specify the relevant tag in the <a href="index.html#the-where-clause"><code>WHERE</code> clause</a>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="s2">&#34;location&#34;</span> <span class="o">=</span> <span class="s1">&#39;coyote_creek&#39;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="c1">--------------
</span><span class="c1"></span><span class="n">time</span>                   <span class="n">mean</span>
<span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">359342451341401</span></code></pre></div>
<p>If you want the average <code>water_level</code> for each individual series, include a <a href="index.html#group-by-tags"><code>GROUP BY</code> clause</a>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="s2">&#34;location&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">359342451341401</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">3</span><span class="p">.</span><span class="mi">530863470081006</span></code></pre></div>
<h2 id="multiple-statements">Multiple statements</h2>

<p>Separate multiple <a href="index.html#the-basic-select-statement"><code>SELECT</code> statements</a> in a query with a semicolon (<code>;</code>).</p>

<h3 id="examples-16">Examples</h3>


<div class="tabs-container">
  

<div class="tabs">
  <p><a href="index.html#">Example 1: CLI</a>
<a href="index.html#">Example 2: InfluxDB API</a></p>

</div>


<div class="tab-content-container">
  


<div class="tab-content">
  <p>In the InfluxDB <a href="../../tools/shell/index.html">CLI</a>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span><span class="p">;</span> <span class="k">SELECT</span> <span class="s2">&#34;water_level&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">LIMIT</span> <span class="mi">2</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">442107025822522</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">water_level</span>
<span class="c1">----                   -----------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">8</span><span class="p">.</span><span class="mi">12</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">2</span><span class="p">.</span><span class="mi">064</span></code></pre></div>
</div>



<div class="tab-content">
  <p>With the <a href="../../tools/api/index.html">InfluxDB API</a>:</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&#34;results&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&#34;statement_id&#34;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="nt">&#34;series&#34;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;h2o_feet&#34;</span><span class="p">,</span>
                    <span class="nt">&#34;columns&#34;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&#34;time&#34;</span><span class="p">,</span>
                        <span class="s2">&#34;mean&#34;</span>
                    <span class="p">],</span>
                    <span class="nt">&#34;values&#34;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">[</span>
                            <span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span><span class="p">,</span>
                            <span class="mf">4.442107025822522</span>
                        <span class="p">]</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&#34;statement_id&#34;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="nt">&#34;series&#34;</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="nt">&#34;name&#34;</span><span class="p">:</span> <span class="s2">&#34;h2o_feet&#34;</span><span class="p">,</span>
                    <span class="nt">&#34;columns&#34;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s2">&#34;time&#34;</span><span class="p">,</span>
                        <span class="s2">&#34;water_level&#34;</span>
                    <span class="p">],</span>
                    <span class="nt">&#34;values&#34;</span><span class="p">:</span> <span class="p">[</span>
                        <span class="p">[</span>
                            <span class="s2">&#34;2015-08-18T00:00:00Z&#34;</span><span class="p">,</span>
                            <span class="mf">8.12</span>
                        <span class="p">],</span>
                        <span class="p">[</span>
                            <span class="s2">&#34;2015-08-18T00:00:00Z&#34;</span><span class="p">,</span>
                            <span class="mf">2.064</span>
                        <span class="p">]</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span></code></pre></div>
</div>



</div>


</div>


<h2 id="subqueries">Subqueries</h2>

<p>A subquery is a query that is nested in the <code>FROM</code> clause of another query.
Use a subquery to apply a query as a condition in the enclosing query.
Subqueries offer functionality similar to nested functions and SQL
[<code>HAVING</code> clauses](<a href="https://en.wikipedia.org/wiki/Having_(SQL)">https://en.wikipedia.org/wiki/Having_(SQL)</a>).</p>

<h3 id="syntax-19">Syntax</h3>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="k">FROM</span> <span class="p">(</span> <span class="n">SELECT_statement</span> <span class="p">)</span> <span class="p">[...]</span></code></pre></div>
<p>InfluxDB performs the subquery first and the main query second.</p>

<p>The main query surrounds the subquery and requires at least the <a href="index.html#the-basic-select-statement"><code>SELECT</code> clause</a> and the <a href="index.html#the-basic-select-statement"><code>FROM</code> clause</a>.
The main query supports all clauses listed in this document.</p>

<p>The subquery appears in the main query&rsquo;s <code>FROM</code> clause, and it requires surrounding parentheses.
The subquery supports all clauses listed in this document.</p>

<p>InfluxQL supports multiple nested subqueries per main query.
Sample syntax for multiple subqueries:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="k">FROM</span> <span class="p">(</span> <span class="n">SELECT_clause</span> <span class="k">FROM</span> <span class="p">(</span> <span class="n">SELECT_statement</span> <span class="p">)</span> <span class="p">[...]</span> <span class="p">)</span> <span class="p">[...]</span></code></pre></div>
<h3 id="examples-17">Examples</h3>

<h4 id="calculate-the-sum-influxdb-v1-7-query-language-functions-sum-of-several-max-influxdb-v1-7-query-language-functions-max-values">Calculate the <a href="../functions/index.html#sum"><code>SUM()</code></a> of several <a href="../functions/index.html#max"><code>MAX()</code></a> values</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="s2">&#34;max&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="s2">&#34;location&#34;</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="k">sum</span>
<span class="c1">----                   ---
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">17</span><span class="p">.</span><span class="mi">169</span></code></pre></div>
<p>The query returns the sum of the maximum <code>water_level</code> values across every tag value of <code>location</code>.</p>

<p>InfluxDB first performs the subquery; it calculates the maximum value of <code>water_level</code> for each tag value of <code>location</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">MAX</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="s2">&#34;location&#34;</span>
<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>

<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="k">max</span>
<span class="c1">----                   ---
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T07</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">9</span><span class="p">.</span><span class="mi">964</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="k">max</span>
<span class="c1">----                   ---
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">29</span><span class="n">T03</span><span class="p">:</span><span class="mi">54</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">7</span><span class="p">.</span><span class="mi">205</span></code></pre></div>
<p>Next, InfluxDB performs the main query and calculates the sum of those maximum values: <code>9.964</code> + <code>7.205</code> = <code>17.169</code>.
Notice that the main query specifies <code>max</code>, not <code>water_level</code>, as the field key in the <code>SUM()</code> function.</p>

<h4 id="calculate-the-mean-influxdb-v1-7-query-language-functions-mean-difference-between-two-fields">Calculate the <a href="../functions/index.html#mean"><code>MEAN()</code></a> difference between two fields</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;difference&#34;</span><span class="p">)</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="s2">&#34;cats&#34;</span> <span class="o">-</span> <span class="s2">&#34;dogs&#34;</span> <span class="k">AS</span> <span class="s2">&#34;difference&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;pet_daycare&#34;</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">pet_daycare</span>
<span class="n">time</span>                   <span class="n">mean</span>
<span class="c1">----                   ----
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">1</span><span class="p">.</span><span class="mi">75</span></code></pre></div>
<p>The query returns the average of the differences between the number of <code>cats</code> and <code>dogs</code> in the <code>pet_daycare</code> measurement.</p>

<p>InfluxDB first performs the subquery.
The subquery calculates the difference between the values in the <code>cats</code> field and the values in the <code>dogs</code> field,
and it names the output column <code>difference</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;cats&#34;</span> <span class="o">-</span> <span class="s2">&#34;dogs&#34;</span> <span class="k">AS</span> <span class="s2">&#34;difference&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;pet_daycare&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">pet_daycare</span>
<span class="n">time</span>                   <span class="n">difference</span>
<span class="c1">----                   ----------
</span><span class="c1"></span><span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">20</span><span class="n">T00</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">56</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">1</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">21</span><span class="n">T00</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">56</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">49</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">22</span><span class="n">T00</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">56</span><span class="n">Z</span>   <span class="mi">66</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">23</span><span class="n">T00</span><span class="p">:</span><span class="mi">55</span><span class="p">:</span><span class="mi">56</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">9</span></code></pre></div>
<p>Next, InfluxDB performs the main query and calculates the average of those differences.
Notice that the main query specifies <code>difference</code> as the field key in the <code>MEAN()</code> function.</p>

<h4 id="calculate-several-mean-influxdb-v1-7-query-language-functions-mean-values-and-place-a-condition-on-those-mean-values">Calculate several <a href="../functions/index.html#mean"><code>MEAN()</code></a> values and place a condition on those mean values</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="s2">&#34;all_the_means&#34;</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">AS</span> <span class="s2">&#34;all_the_means&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span> <span class="p">)</span> <span class="k">WHERE</span> <span class="s2">&#34;all_the_means&#34;</span> <span class="o">&gt;</span> <span class="mi">5</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">all_the_means</span>
<span class="c1">----                   -------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">07625</span></code></pre></div>
<p>The query returns all mean values of the <code>water_level</code> field that are greater than five.</p>

<p>InfluxDB first performs the subquery.
The subquery calculates <code>MEAN()</code> values of <code>water_level</code> from <code>2015-08-18T00:00:00Z</code> through <code>2015-08-18T00:30:00Z</code> and groups the results into 12-minute intervals.
It also names the output column <code>all_the_means</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">)</span> <span class="k">AS</span> <span class="s2">&#34;all_the_means&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">)</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">time</span>                   <span class="n">all_the_means</span>
<span class="c1">----                   -------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">5</span><span class="p">.</span><span class="mi">07625</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">950749999999999</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="mi">4</span><span class="p">.</span><span class="mi">80675</span></code></pre></div>
<p>Next, InfluxDB performs the main query and returns only those mean values that are greater than five.
Notice that the main query specifies <code>all_the_means</code> as the field key in the <code>SELECT</code> clause.</p>

<h4 id="calculate-the-sum-influxdb-v1-7-query-language-functions-sum-of-several-derivative-influxdb-v1-7-query-language-functions-derivative-values">Calculate the <a href="../functions/index.html#sum"><code>SUM()</code></a> of several <a href="../functions/index.html#derivative"><code>DERIVATIVE()</code></a> values</h4>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="k">SUM</span><span class="p">(</span><span class="s2">&#34;water_level_derivative&#34;</span><span class="p">)</span> <span class="k">AS</span> <span class="s2">&#34;sum_derivative&#34;</span> <span class="k">FROM</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">DERIVATIVE</span><span class="p">(</span><span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">))</span> <span class="k">AS</span> <span class="s2">&#34;water_level_derivative&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">),</span><span class="s2">&#34;location&#34;</span><span class="p">)</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="s2">&#34;location&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">sum_derivative</span>
<span class="c1">----                   --------------
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">4950000000000001</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="n">sum_derivative</span>
<span class="c1">----                   --------------
</span><span class="c1"></span><span class="mi">1970</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">043999999999999595</span></code></pre></div>
<p>The query returns the sum of the derivative of average <code>water_level</code> values for each tag value of <code>location</code>.</p>

<p>InfluxDB first performs the subquery.
The subquery calculates the derivative of average <code>water_level</code> values taken at 12-minute intervals.
It performs that calculation for each tag value of <code>location</code> and names the output column <code>water_level_derivative</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="o">&gt;</span> <span class="k">SELECT</span> <span class="n">DERIVATIVE</span><span class="p">(</span><span class="n">MEAN</span><span class="p">(</span><span class="s2">&#34;water_level&#34;</span><span class="p">))</span> <span class="k">AS</span> <span class="s2">&#34;water_level_derivative&#34;</span> <span class="k">FROM</span> <span class="s2">&#34;h2o_feet&#34;</span> <span class="k">WHERE</span> <span class="n">time</span> <span class="o">&gt;=</span> <span class="s1">&#39;2015-08-18T00:00:00Z&#39;</span> <span class="k">AND</span> <span class="n">time</span> <span class="o">&lt;=</span> <span class="s1">&#39;2015-08-18T00:30:00Z&#39;</span> <span class="k">GROUP</span> <span class="k">BY</span> <span class="n">time</span><span class="p">(</span><span class="mi">12</span><span class="n">m</span><span class="p">),</span><span class="s2">&#34;location&#34;</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">coyote_creek</span>
<span class="n">time</span>                   <span class="n">water_level_derivative</span>
<span class="c1">----                   ----------------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">23800000000000043</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">2569999999999997</span>

<span class="n">name</span><span class="p">:</span> <span class="n">h2o_feet</span>
<span class="n">tags</span><span class="p">:</span> <span class="k">location</span><span class="o">=</span><span class="n">santa_monica</span>
<span class="n">time</span>                   <span class="n">water_level_derivative</span>
<span class="c1">----                   ----------------------
</span><span class="c1"></span><span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">0129999999999999</span>
<span class="mi">2015</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">18</span><span class="n">T00</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">00</span><span class="n">Z</span>   <span class="o">-</span><span class="mi">0</span><span class="p">.</span><span class="mi">030999999999999694</span></code></pre></div>
<p>Next, InfluxDB performs the main query and calculates the sum of the <code>water_level_derivative</code> values for each tag value of <code>location</code>.
Notice that the main query specifies <code>water_level_derivative</code>, not <code>water_level</code> or <code>derivative</code>, as the field key in the <code>SUM()</code> function.</p>

<h3 id="common-issues-with-subqueries">Common issues with subqueries</h3>

<h4 id="multiple-select-statements-in-a-subquery">Multiple SELECT statements in a subquery</h4>

<p>InfluxQL supports multiple nested subqueries per main query:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="k">FROM</span> <span class="p">(</span> <span class="n">SELECT_clause</span> <span class="k">FROM</span> <span class="p">(</span> <span class="n">SELECT_statement</span> <span class="p">)</span> <span class="p">[...]</span> <span class="p">)</span> <span class="p">[...]</span>
                     <span class="c1">------------------   ----------------
</span><span class="c1"></span>                         <span class="n">Subquery</span> <span class="mi">1</span>          <span class="n">Subquery</span> <span class="mi">2</span></code></pre></div>
<p>InfluxQL does not support multiple <a href="index.html#the-basic-select-statement"><code>SELECT</code> statements</a> per subquery:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">SELECT_clause</span> <span class="k">FROM</span> <span class="p">(</span><span class="n">SELECT_statement</span><span class="p">;</span> <span class="n">SELECT_statement</span><span class="p">)</span> <span class="p">[...]</span></code></pre></div>
<p>The system returns a parsing error if a subquery includes multiple <code>SELECT</code> statements.</p>

		</div>
	</section>
	
<section class="article-section article-footer">
	<div class="article-content">
		<p><span class="icon logo" style="margin-right: 1em;"></span> This documentation is <a href="https://github.com/influxdata/docs.influxdata.com/blob/master/content/influxdb/v1.7/query_language/data_exploration.md">open source</a>. See a typo? Please, open an <a href="https://github.com/influxdata/docs.influxdata.com/issues/new">issue</a>.</p>
		<br/>
		<p><span class="icon bubbles2" style="margin-right: 1em;"></span><strong>Need help getting up and running?</strong> <a href="https://www.influxdata.com/products/services/" target="_blank">Get Support</a></p>
	</div>
</section>


</article>
<script>window.jQuery || document.write('<script src="../../../../js/vendor/jquery-2.1.4.min.js"><\/script>')</script>

<script src="../../../../js/docs-interactions.js" type="text/javascript"></script>
<script>
  $("h2, h3, h4").each(function() {
  var link = "<a href="https://docs.influxdata.com/influxdb/v1.7/query_language/data_exploration/\&quot;#"" + $(this).attr("id") + "\"></a>"
  $(this).wrapInner( link );
  })
</script>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45024174-5', 'auto');ga('send', 'pageview');</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  docsearch({
    apiKey: 'ba4435a9d456ac0d954cc276206eac06',
    appId: 'WHM9UWMP6M',
    indexName: 'influxdata',
    inputSelector: '#algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 15,
      facets: [ "project", "version", "latest"],
      facetFilters: [ "latest:true" ]
    }
  });
</script>
</body>
</html>

<div class="modal-overlay"></div>
<div id="chronograf-url-modal" class="modal-content">
    <label>Chronograf Data Explorer URL</label>
    <form class="flex-form" id="save-chronograf-url">
        <input type="text" id="chronograf-url" name="chronograf-url"/>
        <button class="save-btn"><span>Save</span></button>
    </form>
    <a id="default-chronograf-url">Revert to Default</a>
</div>

