<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title> InfluxDB API reference | InfluxData Documentation</title>
    <meta name="description" content="Use the InfluxDB API endpoints to run queries, write data, check server status, and troubleshoot by tracking HTTP client requests, collecting server statistics, and using Go &#34;pprof&#34; profiles.. ">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="../../../img/favicon.ico" type="image/x-icon">

    
    
    
    
    <meta name="docsearch:latest" content="true">
    
    

    
    <meta name="robots" 
        
         content="index, follow"  >

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
    <link rel="stylesheet" title="dark-theme" href="../../../css/docs-default.css">
    <link rel="alternate stylesheet" title="light-theme" href="https://docs.influxdata.com/css/docs-light.css">

    <link href='https://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,500,400italic,500italic,700,700italic,900,900italic'
        rel='stylesheet' type='text/css'>

    <meta name="application-name" content="InfluxData" />
    <meta name="msapplication-TileColor" content="" />

    <meta name="msapplication-TileImage" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png" />

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@influxdb">
    <meta name="twitter:title" content=" InfluxDB API reference | InfluxData Documentation">
    <meta name="twitter:description" content="Use the InfluxDB API endpoints to run queries, write data, check server status, and troubleshoot by tracking HTTP client requests, collecting server statistics, and using Go &#34;pprof&#34; profiles.. ">

    <meta name="twitter:image" content="https://docs.influxdata.com/img/influx-logo-cubo-dark.png" />

    <meta property="fb:app_id" content="222112578359661" />
    <meta property="og:title" content=" InfluxDB API reference | InfluxData Documentation" />
    <meta property="og:description" content="Use the InfluxDB API endpoints to run queries, write data, check server status, and troubleshoot by tracking HTTP client requests, collecting server statistics, and using Go &#34;pprof&#34; profiles.. " />
    <meta property="og:url" content="https://docs.influxdata.com/" />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.influxdata.com/wp-content/uploads/Simple-Kubo.jpg" />
    <meta property="og:image:width" content="555px" />
    <meta property="og:image:height" content="290px" />

    <meta name="Copyright" content="InfluxData Inc." />

    
    <script type="text/javascript" src="https://script.crazyegg.com/pages/scripts/0080/4231.js" async="async"></script>

    <script src="../../../js/vendor/js.cookie.js" type="text/javascript"></script>
    <script src="../../../js/docs-themes.js" type="text/javascript"></script>
    <script src="../../../js/docs-chronograf-url.js" type="text/javascript"></script>
    <script type="text/javascript">
        set_style_from_cookie();

    </script>
</head>

<body      class="docs-theme--influxdb"
               >
    
    <script>
        (function (w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src =
                'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-WXRH9C');

    </script>
    
    <nav class="navbar" id="main-nav">
    <div class="navbar--logo">
      <a href="https://www.influxdata.com/"  target="_blank" title="Go to InfluxData">
        <span class="icon logo"></span>
        <span class="icon logotype"></span>
      </a>
      <span class="divider"></span>
      <a href="https://docs.influxdata.com/" class="navbar--docs klavika-font" title="Go to Documentation Homepage">Docs</span></a>
    </div>
    

<div class="navbar--hamburger" id="navbar--hamburger">
    <div class="navbar--hamburger-bar top"></div>
    <div class="navbar--hamburger-bar middle"></div>
    <div class="navbar--hamburger-bar bottom"></div>
</div>
<div class="navbar--product-dropdown" id="navbar--dropdown">
    <div class="navbar--current-product">
      
      
        
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
          InfluxDB v1.7
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
      
        
        
      
        
      
        
      
      
        
        
      
        
      
        
      
        
      
        
      
      
      
    </div>
    <div class="navbar--product-dropdown-caret"><span class="icon arrow-down"></span></div>
</div>
<div class="navbar--product-container" id="navbar--product-container">
    <div class="navbar--dropdown-dismiss" id="navbar--dropdown-dismiss"></div>
    <ul class="navbar--product-menu" id="navbar--product-menu">
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/telegraf/v1.13/">Telegraf</a></li>
          
        
          
            <li><a class="navbar--product" href="../index.html">InfluxDB</a></li>
            <li><a class="navbar--product v2" href="https://v2.docs.influxdata.com" target="_blank">InfluxDB 2.0 <span class="v2-status">beta</span></a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_influxdb/v1.7/">InfluxDB Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/chronograf/v1.7/">Chronograf</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/kapacitor/v1.5/">Kapacitor</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/enterprise_kapacitor/v1.5/">Kapacitor Enterprise</a></li>
          
        
          
            <li><a class="navbar--product" href="https://docs.influxdata.com/flux/v0.50/">Flux</a></li>
          
        
        <li class="navbar--product-divider"></li>
        <li><a class="navbar--product external" href="https://influxdata.com/use-cases/" target="_blank">&#9658;&nbsp; See how the TICK Stack is used</a></li>
        <li><a class="navbar--product external" href="https://influxdata.com/pricing/" target="_blank">&#9658;&nbsp; Need help using our stack?</a></li>
    </ul>
</div>


    <div class="navbar--search" id="navbar--search">
	
	
	
	
			
				<input class="navbar--search-field" id="algolia-search-input" type="text" accesskey="s" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" dir="auto" placeholder="Search the docs...">
			
		
	
	
	
	
	
	
</div>

    <button class="theme-switcher" id="theme-switch-light" onclick="switch_style('light-theme');return false;"><span class="icon sun2"></span></button>
<button class="theme-switcher" id="theme-switch-dark" onclick="switch_style('dark-theme');return false;"><span class="icon moon"></span></button>


</nav>


<div class="sidebar--toggle" id="sidebar--toggle"></span>InfluxDB Contents</div>
<aside class="sidebar" id="sidebar">
  <section class="sidebar--section">
    <div id="sidebar--ad"></div>

  </section>
  
  
    
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../about_the_project/index.html">About the project</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../about_the_project/releasenotes-changelog/index.html">Release notes</a></li>
              
            
              
                <li><a class="sidebar--page" href="../about_the_project/contributing/index.html">Contributing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../about_the_project/cla/index.html">Contributor license agreement</a></li>
              
            
              
                <li><a class="sidebar--page" href="../about_the_project/licenses/index.html">InfluxDB license</a></li>
              
            
              
                <li><a class="sidebar--page" href="../about_the_project/third-party/index.html">Third party software</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../introduction/index.html">Introduction</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../introduction/downloading/index.html">Downloading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../introduction/installation/index.html">Installing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../introduction/getting-started/index.html">Getting started</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../concepts/index.html">Concepts</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../concepts/key_concepts/index.html">Key concepts</a></li>
              
            
              
                <li><a class="sidebar--page" href="../concepts/glossary/index.html">Glossary</a></li>
              
            
              
                <li><a class="sidebar--page" href="../concepts/crosswalk/index.html">Comparing InfluxDB to SQL databases</a></li>
              
            
              
                <li><a class="sidebar--page" href="../concepts/insights_tradeoffs/index.html">InfluxDB design insights and tradeoffs</a></li>
              
            
              
                <li><a class="sidebar--page" href="../concepts/schema_and_data_layout/index.html">Schema design and data layout</a></li>
              
            
              
                <li><a class="sidebar--page" href="../concepts/storage_engine/index.html">In-memory indexing with TSM</a></li>
              
            
              
                <li><a class="sidebar--page" href="../concepts/time-series-index/index.html">Time Series Index (TSI) overview</a></li>
              
            
              
                <li><a class="sidebar--page" href="../concepts/tsi-details/index.html">Time Series Index (TSI) details</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../administration/index.html">Administration</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../administration/config/index.html">Configuring InfluxDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/authentication_and_authorization/index.html">Authentication and authorization</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/upgrading/index.html">Upgrading</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/https_setup/index.html">Enabling HTTPS</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/logs/index.html">Logging and tracing</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/ports/index.html">Ports</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/backup_and_restore/index.html">Backing up and restoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/rebuild-tsi-index/index.html">Rebuild the TSI index</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/security/index.html">Managing security</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/server_monitoring/index.html">Server monitoring</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/stability_and_compatibility/index.html">Stability and compatibility</a></li>
              
            
              
                <li><a class="sidebar--page" href="../administration/subscription-management/index.html">Manage subscriptions</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class=" active" href="index.html">Tools</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="shell/index.html">InfluxDB command line interface (CLI/shell)</a></li>
              
            
              
                <li><a class="sidebar--page active" href="api/index.html">InfluxDB API reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="api_client_libraries/index.html">InfluxDB API client libraries</a></li>
              
            
              
                <li><a class="sidebar--page" href="influx_inspect/index.html">Influx Inspect disk utility</a></li>
              
            
              
                <li><a class="sidebar--page" href="inch/index.html">InfluxDB inch tool</a></li>
              
            
              
                <li><a class="sidebar--page" href="https://grafana.com/docs/grafana/latest/features/datasources/influxdb/">Grafana graphs and dashboards</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../query_language/index.html">Influx Query Language (InfluxQL)</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../query_language/data_download/index.html">Sample data</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_language/data_exploration/index.html">Data exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_language/schema_exploration/index.html">Schema exploration</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_language/database_management/index.html">Data management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_language/continuous_queries/index.html">Continuous Queries</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_language/functions/index.html">Functions</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_language/math_operators/index.html">Mathematical operators</a></li>
              
            
              
                <li><a class="sidebar--page" href="../query_language/spec/index.html">InfluxQL reference</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../write_protocols/index.html">Write protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../write_protocols/line_protocol_reference/index.html">InfluxDB line protocol reference</a></li>
              
            
              
                <li><a class="sidebar--page" href="../write_protocols/line_protocol_tutorial/index.html">InfluxDB line protocol tutorial</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../supported_protocols/index.html">Supported protocols</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../supported_protocols/collectd/index.html">CollectD</a></li>
              
            
              
                <li><a class="sidebar--page" href="../supported_protocols/graphite/index.html">Graphite</a></li>
              
            
              
                <li><a class="sidebar--page" href="../supported_protocols/opentsdb/index.html">OpenTSDB</a></li>
              
            
              
                <li><a class="sidebar--page" href="../supported_protocols/prometheus/index.html">Prometheus</a></li>
              
            
              
                <li><a class="sidebar--page" href="../supported_protocols/udp/index.html">UDP</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../high_availability/index.html">High availability</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../high_availability/clusters/index.html">Clustering</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../troubleshooting/index.html">Troubleshooting</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../troubleshooting/frequently-asked-questions/index.html">Frequently asked questions (FAQ)</a></li>
              
            
              
                <li><a class="sidebar--page" href="../troubleshooting/query_management/index.html">Query management</a></li>
              
            
              
                <li><a class="sidebar--page" href="../troubleshooting/errors/index.html">Error messages</a></li>
              
            
            </ul>
          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="../additional_resources/additional_resources/index.html">Additional resources</a>
          </div>

          

        </section>
      
        <section class="sidebar--section">
          <div class="sidebar--section-title">
            <a class="" href="api.html">Guides</a>
          </div>

          
            <ul>
            
              
                <li><a class="sidebar--page" href="../guides/writing_data/index.html">Writing data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../guides/querying_data/index.html">Querying data with the InfluxDB API</a></li>
              
            
              
                <li><a class="sidebar--page" href="../guides/downsampling_and_retention/index.html">Downsampling and data retention</a></li>
              
            
              
                <li><a class="sidebar--page" href="../guides/hardware_sizing/index.html">Hardware sizing guidelines</a></li>
              
            
              
                <li><a class="sidebar--page" href="../guides/calculating_percentages/index.html">Calculating percentages in a query</a></li>
              
            
            </ul>
          

        </section>
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  <section class="sidebar--section">
    <div class="sidebar--section-title">
      <a href="https://docs.influxdata.com/influxdb/">InfluxDB versions</a>
    </div>
    <ul>
      
      <li><a class="sidebar--page" href="../index.html">v1.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.6/">v1.6</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.5/">v1.5</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.4/">v1.4</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.3/">v1.3</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.2/">v1.2</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.1/">v1.1</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v1.0/">v1.0</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.13/">v0.13</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.12/">v0.12</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.11/">v0.11</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.10/">v0.10</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.9/">v0.9</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.8/">v0.8</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.7/">v0.7</a></li>
      
      <li><a class="sidebar--page" href="https://docs.influxdata.com/influxdb/v0.6/">v0.6</a></li>
      
    </ul>
  </section>
</aside>

<article class="article">
	
	<section class="article-section article-heading">
		<div class="article-content">
			<h1>InfluxDB API reference</h1>
		</div>
	</section>
	
	<section class="article-section">
		<div class="article-content">
			

			

<p>The InfluxDB API provides a simple way to interact with the database.
It uses HTTP response codes, HTTP authentication, JWT Tokens, and basic authentication, and responses are returned in JSON.</p>

<p>The following sections assume your InfluxDB instance is running on <code>localhost</code>
port <code>8086</code> and HTTPS is not enabled.
Those settings <a href="../administration/config/index.html#http-endpoints-settings">are configurable</a>.</p>

<h2 id="influxdb-http-endpoints">InfluxDB HTTP endpoints</h2>

<table>
<thead>
<tr>
<th align="left">Endpoint</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left"><a href="api.html#debug-pprof-http-endpoint">/debug/pprof </a></td>
<td align="left">Use <code>/debug/pprof</code> to generate profiles for troubleshooting.</td>
</tr>

<tr>
<td align="left"><a href="api.html#debug-requests-http-endpoint">/debug/requests</a></td>
<td align="left">Use <code>/debug/requests/</code> to track HTTP client requests to the <code>/write</code> and <code>/query</code> endpoints.</td>
</tr>

<tr>
<td align="left"><a href="api.html#debug-vars-http-endpoint">/debug/vars</a></td>
<td align="left">Use <code>/debug/vars</code> to collect statistics</td>
</tr>

<tr>
<td align="left"><a href="api.html#ping-http-endpoint">/ping</a></td>
<td align="left">Use <code>/ping</code> to check the status of your InfluxDB instance and your version of InfluxDB.</td>
</tr>

<tr>
<td align="left"><a href="api.html#query-http-endpoint">/query</a></td>
<td align="left">Use <code>/query</code> to query data and manage databases, retention policies, and users.</td>
</tr>

<tr>
<td align="left"><a href="api.html#write-http-endpoint">/write</a></td>
<td align="left">Use <code>/write</code> to write data to a pre-existing database.</td>
</tr>
</tbody>
</table>

<h2 id="debug-pprof-http-endpoint"><code>/debug/pprof</code> HTTP endpoint</h2>

<p>InfluxDB supports the Go <a href="https://golang.org/pkg/net/http/pprof/"><code>net/http/pprof</code></a> HTTP endpoints, which are useful for troubleshooting. The <code>pprof</code> package serves runtime profiling data in the format expected by the <em>pprof</em> visualization tool.</p>

<h4 id="definition">Definition</h4>

<pre><code>curl http://localhost:8086/debug/pprof/
</code></pre>

<p>The <code>/debug/pprof/</code> endpoint generates an HTML page with a list of built-in Go profiles and hyperlinks for each.</p>

<table>
<thead>
<tr>
<th align="left">Profile</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">block</td>
<td align="left">Stack traces that led to blocking on synchronization primitives.</td>
</tr>

<tr>
<td align="left">goroutine</td>
<td align="left">Stack traces of all current goroutines.</td>
</tr>

<tr>
<td align="left">heap</td>
<td align="left">Sampling of stack traces for heap allocations.</td>
</tr>

<tr>
<td align="left">mutex</td>
<td align="left">Stack traces of holders of contended mutexes.</td>
</tr>

<tr>
<td align="left">threadcreate</td>
<td align="left">Stack traces that led to the creation of new OS threads.</td>
</tr>
</tbody>
</table>

<p>To access one of the <code>/debug/pprof/</code> profiles listed above, use the following cURL request, substituting <code>&lt;profile&gt;</code> with the name of the profile. The resulting profile is output to a file specified in <code>&lt;path/to/output-file&gt;</code>.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl -o &lt;path/to/output-file&gt;  http://localhost:8086/debug/pprof/&lt;profile&gt;</code></pre></div>
<p>In the following example, the cURL command outputs the resulting heap profile to a file:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl -o &lt;path/to/output-file&gt; http://localhost:/8086/debug/pprof/heap</code></pre></div>
<p>You can also use the <a href="https://github.com/google/pprof">Go <code>pprof</code> interactive tool</a> to access the InfluxDB <code>/debug/pprof/</code> profiles.
For example, to look at the heap profile of a InfluxDB instance using this tool, you would use a command like this:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">go tool pprof http://localhost:8086/debug/pprof/heap</code></pre></div>
<p>For more information about the Go <code>/net/http/pprof</code> package and the interactive <em>pprof</em> analysis and visualization tool, see:</p>

<ul>
<li><a href="https://golang.org/pkg/net/http/pprof/">Package pprof (<code>net/http/pprof</code>)</a></li>
<li><a href="https://github.com/google/pprof"><code>pprof</code> analysis and visualization tool</a></li>
<li><a href="https://blog.golang.org/profiling-go-programs">Profiling Go programs</a></li>
<li><a href="https://golang.org/doc/diagnostics.html#profiling">Diagnostics - Profiling</a></li>
</ul>

<h4 id="debug-pprof-all-http-endpoint"><code>/debug/pprof/all</code> HTTP endpoint</h4>

<p>The <code>/debug/pprof/all</code> endpoint is a custom <code>/debug/pprof</code> profile intended primarily for use by InfluxData support. This endpoint generates a <code>profile.tar.gz</code> archive containing text files with the standard Go profiling information and additional debugging data. An optional CPU profile is generated when using the <code>cpu=true</code> option (default is <code>false</code>).</p>

<p>To create a <code>profile.tar.gz</code> archive, use the following cURL command to generate a <code>profile.tar.gz</code> file for sharing with InfluxData support.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl -o profiles.tar.gz <span class="s2">&#34;http://localhost:8086/debug/pprof/all?cpu=true&#34;</span></code></pre></div>
<blockquote>
<p><strong>Note:</strong> When the <code>cpu=true</code> option is included, a CPU profile is generated for 30+ seconds.
If you&rsquo;re concerned about running a CPU profile (which only has a small, temporary impact on performance), then you can set <code>?cpu=false</code> or omit <code>?cpu=true</code> altogether.</p>
</blockquote>

<p>As the following example shows, the cURL output includes &ldquo;Time Spent,&rdquo; the time elapsed (in  seconds). After 30 seconds of data has been collected, the results are output to a file.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">➜  ~ curl -o profiles.tar.gz <span class="s2">&#34;http://localhost:8086/debug/pprof/all?cpu=true&#34;</span>
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
<span class="m">100</span>  237k    <span class="m">0</span>  237k    <span class="m">0</span>     <span class="m">0</span>   <span class="m">8025</span>      <span class="m">0</span> --:--:--  <span class="m">0</span>:00:30 --:--:-- <span class="m">79588</span></code></pre></div>
<h2 id="debug-requests-http-endpoint"><code>/debug/requests</code> HTTP endpoint</h2>

<p>Use this endpoint to track HTTP client requests to the <code>/write</code> and <code>/query</code> endpoints.
The <code>/debug/requests</code> endpoint returns the number of writes and queries to InfluxDB per username and IP address.</p>

<h3 id="definition-1">Definition</h3>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl http://localhost:8086/debug/requests</code></pre></div>
<h3 id="query-string-parameters">Query string parameters</h3>

<table>
<thead>
<tr>
<th align="left">Query String Parameter</th>
<th align="left">Optional/Required</th>
<th align="left">Definition</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">seconds=&lt;integer&gt;</td>
<td align="left">Optional</td>
<td align="left">Sets the duration (in seconds) over which the client collects information. The default duration is ten seconds.</td>
</tr>
</tbody>
</table>

<h4 id="examples">Examples</h4>

<h5 id="track-requests-over-a-ten-second-interval">Track requests over a ten-second interval</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl http://localhost:8086/debug/requests

<span class="o">{</span>
<span class="s2">&#34;user1:123.45.678.91&#34;</span>: <span class="o">{</span><span class="s2">&#34;writes&#34;</span>:1,<span class="s2">&#34;queries&#34;</span>:0<span class="o">}</span>,
<span class="o">}</span></code></pre></div>
<p>The response shows that, over the past ten seconds, the <code>user1</code> user sent one request to the <code>/write</code> endpoint and no requests to the <code>/query</code> endpoint from the <code>123.45.678.91</code> IP address.</p>

<h5 id="track-requests-over-a-one-minute-interval">Track requests over a one-minute interval</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl http://localhost:8086/debug/requests?seconds<span class="o">=</span><span class="m">60</span>

<span class="o">{</span>
<span class="s2">&#34;user1:123.45.678.91&#34;</span>: <span class="o">{</span><span class="s2">&#34;writes&#34;</span>:3,<span class="s2">&#34;queries&#34;</span>:0<span class="o">}</span>,
<span class="s2">&#34;user1:000.0.0.0&#34;</span>: <span class="o">{</span><span class="s2">&#34;writes&#34;</span>:0,<span class="s2">&#34;queries&#34;</span>:16<span class="o">}</span>,
<span class="s2">&#34;user2:xx.xx.xxx.xxx&#34;</span>: <span class="o">{</span><span class="s2">&#34;writes&#34;</span>:4,<span class="s2">&#34;queries&#34;</span>:0<span class="o">}</span>
<span class="o">}</span></code></pre></div>
<p>The response shows that, over the past minute, <code>user1</code> sent three requests to the <code>/write</code> endpoint from <code>123.45.678.91</code>, <code>user1</code> sent 16 requests to the <code>/query</code> endpoint from <code>000.0.0.0</code>, and <code>user2</code> sent four requests to the <code>/write</code> endpoint from <code>xx.xx.xxx.xxx</code>.</p>

<h2 id="debug-vars-http-endpoint"><code>/debug/vars</code> HTTP endpoint</h2>

<p>InfluxDB exposes statistics and information about its runtime through the <code>/debug/vars</code> endpoint, which can be accessed using the following cURL command:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl http://localhost:8086/debug/vars</code></pre></div>
<p>Server statistics and information are displayed in JSON format.</p>

<blockquote>
<p><strong>Note:</strong> The <a href="https://github.com/influxdata/telegraf/tree/release-1.7/plugins/inputs/influxdb">InfluxDB input plugin</a> is available to collect metrics (using the <code>/debug/vars</code> endpoint) from specified Kapacitor instances. For a list of the measurements and fields, see the <a href="https://github.com/influxdata/telegraf/tree/release-1.7/plugins/inputs/influxdb">InfluxDB input plugin README</a>.</p>
</blockquote>

<h2 id="ping-http-endpoint"><code>/ping</code> HTTP endpoint</h2>

<p>The ping endpoint accepts both <code>GET</code> and <code>HEAD</code> HTTP requests.
Use this endpoint to check the status of your InfluxDB instance and your version
of InfluxDB.</p>

<h3 id="definition-2">Definition</h3>

<pre><code>GET http://localhost:8086/ping
</code></pre>

<pre><code>HEAD http://localhost:8086/ping
</code></pre>

<h3 id="verbose-option"><code>verbose</code> option</h3>

<p>By default, the <code>/ping</code> HTTP endpoint returns a simple HTTP 204 status response to let the client know that the server is running. Default value is <code>false</code>.
When <code>verbose</code> option is set to <code>true</code> (<code>/ping?verbose=true</code>), an HTTP 200 status  is returned.
The <code>verbose=true</code> option is required for <a href="https://cloud.google.com/load-balancing/docs/health-check-concepts">Google Cloud Load Balancing</a> health checks.</p>

<h3 id="example">Example</h3>

<p>You can use the <code>/ping</code> endpoint to find the build and version of an InfluxDB instance.
The <code>X-Influxdb-Build</code> header field displays the InfluxDB build type, either <code>OSS</code> (open source) or <code>ENT</code> (Enterprise).
The <code>X-Influxdb-Version</code> header field displays the InfluxDB version.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">~ curl -sl -I http://localhost:8086/ping

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: 9c353b0e-aadc-11e8-8023-000000000000
X-Influxdb-Build: OSS
X-Influxdb-Version: v1.7.0
X-Request-Id: 9c353b0e-aadc-11e8-8023-000000000000
Date: Tue, <span class="m">05</span> Nov <span class="m">2018</span> <span class="m">16</span>:08:32 GMT</code></pre></div>
<h3 id="status-codes-and-responses">Status Codes and Responses</h3>

<p>The response body is empty.</p>

<table>
<thead>
<tr>
<th align="left">HTTP Status Code</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">204</td>
<td align="left">Success! Your InfluxDB instance is up and running.</td>
</tr>
</tbody>
</table>

<h2 id="query-http-endpoint"><code>/query</code> HTTP endpoint</h2>

<p>The <code>/query</code> endpoint accepts <code>GET</code> and <code>POST</code> HTTP requests.
Use this endpoint to query data and manage databases, retention policies,
and users.</p>

<h3 id="definition-3">Definition</h3>

<pre><code>GET http://localhost:8086/query
</code></pre>

<pre><code>POST http://localhost:8086/query
</code></pre>

<h3 id="verb-usage">Verb usage</h3>

<table>
<thead>
<tr>
<th align="left">Verb</th>
<th align="left">Query Type</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">GET</td>
<td align="left">Use for all queries that start with: <br><br> <a href="../query_language/spec/index.html#select"><code>SELECT</code></a>* <br><br> <a href="../query_language/spec/index.html#show-continuous-queries"><code>SHOW</code></a></td>
</tr>

<tr>
<td align="left">POST</td>
<td align="left">Use for all queries that start with: <br><br> <a href="../query_language/spec/index.html#alter-retention-policy"><code>ALTER</code></a> <br><br> <a href="../query_language/spec/index.html#create-continuous-query"><code>CREATE</code></a> <br><br> <a href="../query_language/spec/index.html#delete"><code>DELETE</code></a> <br><br> <a href="../query_language/spec/index.html#drop-continuous-query"><code>DROP</code></a> <br><br> <a href="../query_language/spec/index.html#grant"><code>GRANT</code></a> <br><br> <a href="../query_language/spec/index.html#kill-query"><code>KILL</code></a> <br><br> <a href="../query_language/spec/index.html#revoke"><code>REVOKE</code></a></td>
</tr>
</tbody>
</table>

<p>* The only exceptions are <code>SELECT</code> queries that include an <a href="../query_language/data_exploration/index.html#the-into-clause"><code>INTO</code> clause</a>.
Those <code>SELECT</code> queries require a <code>POST</code> request.</p>

<h4 id="examples-1">Examples</h4>

<h5 id="query-data-with-a-select-statement">Query data with a <code>SELECT</code> statement</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;myfield&#34;</span>,<span class="s2">&#34;mytag1&#34;</span>,<span class="s2">&#34;mytag2&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="s2">&#34;2017-03-01T00:16:18Z&#34;</span>,33.1,null,null<span class="o">]</span>,<span class="o">[</span><span class="s2">&#34;2017-03-01T00:17:18Z&#34;</span>,12.4,<span class="s2">&#34;12&#34;</span>,<span class="s2">&#34;14&#34;</span><span class="o">]]}]}]}</span></code></pre></div>
<p>The <code>mymeas</code> <a href="../concepts/glossary/index.html#measurement">measurement</a> has two points.
The first point has the <a href="../concepts/glossary/index.html#timestamp">timestamp</a> <code>2017-03-01T00:16:18Z</code>, a <code>myfield</code> value of <code>33.1</code>, and no tag values for the <code>mytag1</code> and <code>mytag2</code> <a href="../concepts/glossary/index.html#tag-key">tag keys</a>.
The second point has the timestamp <code>2017-03-01T00:17:18Z</code>, a <code>myfield</code> value of <code>12.4</code>, a <code>mytag1</code> value of <code>12</code>, and a <code>mytag2</code> value of <code>14</code>.</p>

<p>The same query in the InfluxDB <a href="shell/index.html">Command Line Interface</a> (CLI) returns the following table:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="n">name</span><span class="p">:</span> <span class="n">mymeas</span>
<span class="n">time</span>                  <span class="n">myfield</span>  <span class="n">mytag1</span>  <span class="n">mytag2</span>
<span class="c1">----                  -------  ------  ------
</span><span class="c1"></span><span class="mi">2017</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">16</span><span class="p">:</span><span class="mi">18</span><span class="n">Z</span>  <span class="mi">33</span><span class="p">.</span><span class="mi">1</span>
<span class="mi">2017</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">01</span><span class="n">T00</span><span class="p">:</span><span class="mi">17</span><span class="p">:</span><span class="mi">18</span><span class="n">Z</span>  <span class="mi">12</span><span class="p">.</span><span class="mi">4</span>     <span class="mi">12</span>      <span class="mi">14</span></code></pre></div>
<h5 id="query-data-with-a-select-statement-and-an-into-clause">Query data with a <code>SELECT</code> statement and an <code>INTO</code> clause</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -XPOST <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * INTO &#34;newmeas&#34; FROM &#34;mymeas&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;result&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;written&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="s2">&#34;1970-01-01T00:00:00Z&#34;</span>,2<span class="o">]]}]}]}</span></code></pre></div>
<p><code>SELECT</code> queries that include and <a href="../query_language/data_exploration/index.html#the-into-clause"><code>INTO</code> clause</a> require a <code>POST</code> request.</p>

<p>The response shows that InfluxDB writes two points to the <code>newmeas</code> <a href="../concepts/glossary/index.html#measurement">measurement</a>.
Note that the system uses epoch 0 (<code>1970-01-01T00:00:00Z</code>) as a <a href="../troubleshooting/frequently-asked-questions/index.html#why-does-my-query-return-epoch-0-as-the-timestamp">null timestamp equivalent</a>.</p>

<h5 id="create-a-database">Create a database</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -XPOST <span class="s1">&#39;http://localhost:8086/query&#39;</span> --data-urlencode <span class="s1">&#39;q=CREATE DATABASE &#34;mydb&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0<span class="o">}]}</span></code></pre></div>
<p>A successful <a href="../query_language/database_management/index.html#create-database"><code>CREATE DATABASE</code> query</a> returns no additional information.</p>

<h3 id="query-string-parameters-1">Query string parameters</h3>

<table>
<thead>
<tr>
<th align="left">Query String Parameter</th>
<th align="left">Optional/Required</th>
<th align="left">Definition</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">chunked=[true | &lt;number_of_points&gt;]</td>
<td align="left">Optional</td>
<td align="left">Returns points in streamed batches instead of in a single response. If set to <code>true</code>, InfluxDB chunks responses by series or by every 10,000 points, whichever occurs first. If set to a specific value, InfluxDB chunks responses by series or by that number of points.*</td>
</tr>

<tr>
<td align="left">db=&lt;database_name&gt;</td>
<td align="left">Required for database-dependent queries (most <a href="../query_language/spec/index.html#select"><code>SELECT</code></a> queries and <a href="../query_language/spec/index.html#show-continuous-queries"><code>SHOW</code></a> queries require this parameter).</td>
<td align="left">Sets the target <a href="../concepts/glossary/index.html#database">database</a> for the query.</td>
</tr>

<tr>
<td align="left">epoch=[ns,u,µ,ms,s,m,h]</td>
<td align="left">Optional</td>
<td align="left">Returns epoch timestamps with the specified precision. By default, InfluxDB returns timestamps in RFC3339 format with nanosecond precision. Both <code>u</code> and <code>µ</code> indicate microseconds.</td>
</tr>

<tr>
<td align="left">p=&lt;password&gt;</td>
<td align="left">Optional if you haven&rsquo;t <a href="../administration/authentication_and_authorization/index.html#set-up-authentication">enabled authentication</a>. Required if you&rsquo;ve enabled authentication.**</td>
<td align="left">Sets the password for authentication if you&rsquo;ve enabled authentication. Use with the query string parameter <code>u</code>.</td>
</tr>

<tr>
<td align="left">pretty=true</td>
<td align="left">Optional</td>
<td align="left">Enables pretty-printed JSON output. While this is useful for debugging it is not recommended for production use as it consumes unnecessary network bandwidth.</td>
</tr>

<tr>
<td align="left">q=&lt;query&gt;</td>
<td align="left">Required</td>
<td align="left">InfluxQL string to execute.  See also <a href="api/index.html#request-body">Request Body</a>.</td>
</tr>

<tr>
<td align="left">u=&lt;username&gt;</td>
<td align="left">Optional if you haven&rsquo;t <a href="../administration/authentication_and_authorization/index.html#set-up-authentication">enabled authentication</a>. Required if you&rsquo;ve enabled authentication.*</td>
<td align="left">Sets the username for authentication if you&rsquo;ve enabled authentication. The user must have read access to the database. Use with the query string parameter <code>p</code>.</td>
</tr>
</tbody>
</table>

<p>* InfluxDB does not truncate the number of rows returned for requests without the <code>chunked</code> parameter.
That behavior is configurable; see the <a href="../administration/config/index.html#max-row-limit-0"><code>max-row-limit</code></a> configuration option for more information.</p>

<p>** The InfluxDB API also supports basic authentication.
Use basic authentication if you&rsquo;ve <a href="../administration/authentication_and_authorization/index.html#set-up-authentication">enabled authentication</a>
and aren&rsquo;t using the query string parameters <code>u</code> and <code>p</code>.
See below for an <a href="api.html#create-a-database-using-basic-authentication">example</a> of basic authentication.</p>

<h4 id="examples-2">Examples</h4>

<h5 id="query-data-with-a-select-statement-and-return-pretty-printed-json">Query data with a <code>SELECT</code> statement and return pretty-printed JSON</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&amp;pretty=true&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34;&#39;</span>

<span class="o">{</span>
    <span class="s2">&#34;results&#34;</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">&#34;statement_id&#34;</span>: <span class="m">0</span>,
            <span class="s2">&#34;series&#34;</span>: <span class="o">[</span>
                <span class="o">{</span>
                    <span class="s2">&#34;name&#34;</span>: <span class="s2">&#34;mymeas&#34;</span>,
                    <span class="s2">&#34;columns&#34;</span>: <span class="o">[</span>
                        <span class="s2">&#34;time&#34;</span>,
                        <span class="s2">&#34;myfield&#34;</span>,
                        <span class="s2">&#34;mytag1&#34;</span>,
                        <span class="s2">&#34;mytag2&#34;</span>
                    <span class="o">]</span>,
                    <span class="s2">&#34;values&#34;</span>: <span class="o">[</span>
                        <span class="o">[</span>
                            <span class="s2">&#34;2017-03-01T00:16:18Z&#34;</span>,
                            <span class="m">33</span>.1,
                            null,
                            null
                        <span class="o">]</span>,
                        <span class="o">[</span>
                            <span class="s2">&#34;2017-03-01T00:17:18Z&#34;</span>,
                            <span class="m">12</span>.4,
                            <span class="s2">&#34;12&#34;</span>,
                            <span class="s2">&#34;14&#34;</span>
                        <span class="o">]</span>
                    <span class="o">]</span>
                <span class="o">}</span>
            <span class="o">]</span>
        <span class="o">}</span>
    <span class="o">]</span>
<span class="o">}</span></code></pre></div>
<h5 id="query-data-with-a-select-statement-and-return-second-precision-epoch-timestamps">Query data with a <code>SELECT</code> statement and return second precision epoch timestamps</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&amp;epoch=s&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;myfield&#34;</span>,<span class="s2">&#34;mytag1&#34;</span>,<span class="s2">&#34;mytag2&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="m">1488327378</span>,33.1,null,null<span class="o">]</span>,<span class="o">[</span><span class="m">1488327438</span>,12.4,<span class="s2">&#34;12&#34;</span>,<span class="s2">&#34;14&#34;</span><span class="o">]]}]}]}</span></code></pre></div>
<h5 id="create-a-database-using-http-authentication">Create a database using HTTP authentication</h5>

<p>Valid credentials:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -XPOST <span class="s1">&#39;http://localhost:8086/query?u=myusername&amp;p=mypassword&#39;</span> --data-urlencode <span class="s1">&#39;q=CREATE DATABASE &#34;mydb&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0<span class="o">}]}</span></code></pre></div>
<p>A successful <a href="../query_language/database_management/index.html#create-database"><code>CREATE DATABASE</code> query</a> returns no additional information.</p>

<p>Invalid credentials:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -XPOST <span class="s1">&#39;http://localhost:8086/query?u=myusername&amp;p=notmypassword&#39;</span> --data-urlencode <span class="s1">&#39;q=CREATE DATABASE &#34;mydb&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;error&#34;</span>:<span class="s2">&#34;authorization failed&#34;</span><span class="o">}</span></code></pre></div>
<h5 id="create-a-database-using-basic-authentication">Create a database using basic authentication</h5>

<p>The following example uses valid credentials.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -XPOST -u myusername:mypassword <span class="s1">&#39;http://localhost:8086/query&#39;</span> --data-urlencode <span class="s1">&#39;q=CREATE DATABASE &#34;mydb&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0<span class="o">}]}</span></code></pre></div>
<p>A successful <a href="../query_language/database_management/index.html#create-database"><code>CREATE DATABASE</code> query</a> returns no additional information.</p>

<p>The following example uses invalid credentials.</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -XPOST -u myusername:notmypassword <span class="s1">&#39;http://localhost:8086/query&#39;</span> --data-urlencode <span class="s1">&#39;q=CREATE DATABASE &#34;mydb&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;error&#34;</span>:<span class="s2">&#34;authorization failed&#34;</span><span class="o">}</span></code></pre></div>
<h3 id="request-body">Request body</h3>

<pre><code>--data-urlencode &quot;q=&lt;InfluxQL query&gt;&quot;
</code></pre>

<p>All queries must be URL encoded and follow
<a href="../query_language/index.html">InfluxQL</a> syntax.
Our example shows the <code>--data-urlencode</code> parameter from <code>curl</code>, which we use in all examples on this page.</p>

<h4 id="options">Options</h4>

<h5 id="request-multiple-queries">Request multiple queries</h5>

<p>Delimit multiple queries with a semicolon <code>;</code>.</p>

<h5 id="submit-queries-from-a-file">Submit queries from a file</h5>

<p>The API supports submitting queries from a file using a multipart <code>POST</code>
request.
The queries in the file must be separated a semicolon (<code>;</code>).</p>

<p>Syntax:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl -F <span class="s2">&#34;q=@&lt;path_to_file&gt;&#34;</span> -F <span class="s2">&#34;async=true&#34;</span> http://localhost:8086/query</code></pre></div>
<h5 id="request-query-results-in-csv-format">Request query results in CSV format</h5>

<p>Syntax:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl -H <span class="s2">&#34;Accept: application/csv&#34;</span> -G <span class="err">&#39;</span>http://localhost:8086/query <span class="o">[</span>...<span class="o">]</span></code></pre></div>
<p>Note that when the request includes <code>-H &quot;Accept: application/csv&quot;</code>, the system returns timestamps in <code>epoch</code> format, not RFC3339 format.</p>

<h5 id="bind-parameters">Bind parameters</h5>

<p>The API supports binding parameters to particular field values or tag values in
the <a href="../query_language/data_exploration/index.html#the-where-clause"><code>WHERE</code> clause</a>.
Use the syntax <code>$&lt;placeholder_key&gt;</code> as a placeholder in the query, and URL
encode the map of placeholder keys to placeholder values in the request body:</p>

<p>Query syntax:</p>

<pre><code>--data-urlencode 'q= SELECT [...] WHERE [ &lt;field_key&gt; | &lt;tag_key&gt; ] = $&lt;placeholder_key&gt;'
</code></pre>

<p>Map syntax:</p>

<pre><code>--data-urlencode 'params={&quot;&lt;placeholder_key&gt;&quot;:[ &lt;placeholder_float_field_value&gt; | &lt;placeholder_integer_field_value&gt; | &quot;&lt;placeholder_string_field_value&gt;&quot; | &lt;placeholder_boolean_field_value&gt; | &quot;&lt;placeholder_tag_value&gt;&quot; ]}'
</code></pre>

<p>Delimit multiple placeholder key-value pairs with comma <code>,</code>.</p>

<h4 id="examples-3">Examples</h4>

<h5 id="send-multiple-queries">Send multiple queries</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&amp;epoch=s&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34;;SELECT mean(&#34;myfield&#34;) FROM &#34;mymeas&#34;&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;myfield&#34;</span>,<span class="s2">&#34;mytag1&#34;</span>,<span class="s2">&#34;mytag2&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="m">1488327378</span>,33.1,null,null<span class="o">]</span>,<span class="o">[</span><span class="m">1488327438</span>,12.4,<span class="s2">&#34;12&#34;</span>,<span class="s2">&#34;14&#34;</span><span class="o">]]}]}</span>,<span class="o">{</span><span class="s2">&#34;statement_id&#34;</span>:1,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;mean&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="m">0</span>,22.75<span class="o">]]}]}]}</span></code></pre></div>
<p>The request includes two queries: <code>SELECT * FROM &quot;mymeas&quot;</code> and <code>SELECT mean(&quot;myfield&quot;) FROM &quot;mymeas&quot;'</code>.
In the results, the system assigns a statement identifier to each query return.
The first query&rsquo;s result has a <code>statement_id</code> of <code>0</code> and the second query&rsquo;s result has a <code>statement_id</code> of <code>1</code>.</p>

<h5 id="request-query-results-in-csv-format-1">Request query results in CSV format</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -H <span class="s2">&#34;Accept: application/csv&#34;</span> -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34;&#39;</span>

name,tags,time,myfield,mytag1,mytag2
mymeas,,1488327378000000000,33.1,mytag1,mytag2
mymeas,,1488327438000000000,12.4,12,14</code></pre></div>
<p>The first point has no <a href="../concepts/glossary/index.html#tag-value">tag values</a> for the <code>mytag1</code> and <code>mytag2</code> <a href="../concepts/glossary/index.html#tag-key">tag keys</a>.</p>

<h5 id="submit-queries-from-a-file-1">Submit queries from a file</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">curl -F <span class="s2">&#34;q=@queries.txt&#34;</span> -F <span class="s2">&#34;async=true&#34;</span> <span class="s1">&#39;http://localhost:8086/query&#39;</span></code></pre></div>
<p>A sample of the queries in <code>queries.txt</code>:</p>
<div class="highlight"><pre class="chroma"><code class="language-sql" data-lang="sql"><span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">mydb</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="n">RETENTION</span> <span class="n">POLICY</span> <span class="n">four_weeks</span> <span class="k">ON</span> <span class="n">mydb</span> <span class="n">DURATION</span> <span class="mi">4</span><span class="n">w</span> <span class="n">REPLICATION</span> <span class="mi">1</span><span class="p">;</span></code></pre></div>
<h5 id="bind-a-parameter-in-the-where-clause-to-specific-tag-value">Bind a parameter in the <code>WHERE</code> clause to specific tag value</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34; WHERE &#34;mytag1&#34; = $tag_value&#39;</span> --data-urlencode <span class="s1">&#39;params={&#34;tag_value&#34;:&#34;12&#34;}&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;myfield&#34;</span>,<span class="s2">&#34;mytag1&#34;</span>,<span class="s2">&#34;mytag2&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="s2">&#34;2017-03-01T00:17:18Z&#34;</span>,12.4,<span class="s2">&#34;12&#34;</span>,<span class="s2">&#34;14&#34;</span><span class="o">]]}]}]}</span></code></pre></div>
<p>The request maps <code>$tag_value</code> to <code>12</code>.
InfluxDB stores <a href="../concepts/glossary/index.html#tag-value">tag values</a> as strings they and must be double quoted in the request.</p>

<h5 id="bind-a-parameter-in-the-where-clause-to-a-numerical-field-value">Bind a parameter in the <code>WHERE</code> clause to a numerical field value</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34; WHERE &#34;myfield&#34; &gt; $field_value&#39;</span> --data-urlencode <span class="s1">&#39;params={&#34;field_value&#34;:30}&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;myfield&#34;</span>,<span class="s2">&#34;mytag1&#34;</span>,<span class="s2">&#34;mytag2&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="s2">&#34;2017-03-01T00:16:18Z&#34;</span>,33.1,null,null<span class="o">]]}]}]}</span></code></pre></div>
<p>The request maps <code>$field_value</code> to <code>30</code>.
The value <code>30</code> does not require double quotes because <code>myfield</code> stores numerical <a href="../concepts/glossary/index.html#field-value">field values</a>.</p>

<h5 id="bind-two-parameters-in-the-where-clause-to-a-specific-tag-value-and-numerical-field-value">Bind two parameters in the <code>WHERE</code> clause to a specific tag value and numerical field value</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34; WHERE &#34;mytag1&#34; = $tag_value AND  &#34;myfield&#34; &lt; $field_value&#39;</span> --data-urlencode <span class="s1">&#39;params={&#34;tag_value&#34;:&#34;12&#34;,&#34;field_value&#34;:30}&#39;</span>

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;myfield&#34;</span>,<span class="s2">&#34;mytag1&#34;</span>,<span class="s2">&#34;mytag2&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="s2">&#34;2017-03-01T00:17:18Z&#34;</span>,12.4,<span class="s2">&#34;12&#34;</span>,<span class="s2">&#34;14&#34;</span><span class="o">]]}]}]}</span></code></pre></div>
<p>The request maps <code>$tag_value</code> to <code>12</code> and <code>$field_value</code> to <code>30</code>.</p>

<h3 id="status-codes-and-responses-1">Status codes and responses</h3>

<p>Responses are returned in JSON.
Include the query string parameter <code>pretty=true</code>
to enable pretty-print JSON.</p>

<h4 id="summary-table">Summary table</h4>

<table>
<thead>
<tr>
<th align="left">HTTP status code</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">200 OK</td>
<td align="left">Success! The returned JSON offers further information.</td>
</tr>

<tr>
<td align="left">400 Bad Request</td>
<td align="left">Unacceptable request. Can occur with a syntactically incorrect query. The returned JSON offers further information.</td>
</tr>

<tr>
<td align="left">401 Unauthorized</td>
<td align="left">Unacceptable request. Can occur with invalid authentication credentials.</td>
</tr>
</tbody>
</table>

<h4 id="examples-4">Examples</h4>

<h5 id="a-successful-request-that-returns-data">A successful request that returns data</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34;&#39;</span>

HTTP/1.1 <span class="m">200</span> OK
Connection: close
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">19</span>:22:54 GMT
Transfer-Encoding: chunked

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;series&#34;</span>:<span class="o">[{</span><span class="s2">&#34;name&#34;</span>:<span class="s2">&#34;mymeas&#34;</span>,<span class="s2">&#34;columns&#34;</span>:<span class="o">[</span><span class="s2">&#34;time&#34;</span>,<span class="s2">&#34;myfield&#34;</span>,<span class="s2">&#34;mytag1&#34;</span>,<span class="s2">&#34;mytag2&#34;</span><span class="o">]</span>,<span class="s2">&#34;values&#34;</span>:<span class="o">[[</span><span class="s2">&#34;2017-03-01T00:16:18Z&#34;</span>,33.1,null,null<span class="o">]</span>,<span class="o">[</span><span class="s2">&#34;2017-03-01T00:17:18Z&#34;</span>,12.4,<span class="s2">&#34;12&#34;</span>,<span class="s2">&#34;14&#34;</span><span class="o">]]}]}]}</span></code></pre></div>
<h5 id="a-successful-request-that-returns-an-error">A successful request that returns an error</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -G <span class="s1">&#39;http://localhost:8086/query?db=mydb1&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT * FROM &#34;mymeas&#34;&#39;</span>

HTTP/1.1 <span class="m">200</span> OK
Connection: close
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">19</span>:23:48 GMT
Transfer-Encoding: chunked

<span class="o">{</span><span class="s2">&#34;results&#34;</span>:<span class="o">[{</span><span class="s2">&#34;statement_id&#34;</span>:0,<span class="s2">&#34;error&#34;</span>:<span class="s2">&#34;database not found: mydb1&#34;</span><span class="o">}]}</span></code></pre></div>
<h5 id="an-incorrectly-formatted-query">An incorrectly formatted query</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -G <span class="s1">&#39;http://localhost:8086/query?db=mydb&#39;</span> --data-urlencode <span class="s1">&#39;q=SELECT *&#39;</span>

HTTP/1.1 <span class="m">400</span> Bad Request
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">19</span>:24:25 GMT
Content-Length: <span class="m">76</span>

<span class="o">{</span><span class="s2">&#34;error&#34;</span>:<span class="s2">&#34;error parsing query: found EOF, expected FROM at line 1, char 9&#34;</span><span class="o">}</span></code></pre></div>
<h5 id="query-data-with-invalid-authentication-credentials">Query data with invalid authentication credentials</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i  -XPOST <span class="s1">&#39;http://localhost:8086/query?u=myusername&amp;p=notmypassword&#39;</span> --data-urlencode <span class="s1">&#39;q=CREATE DATABASE &#34;mydb&#34;&#39;</span>

HTTP/1.1 <span class="m">401</span> Unauthorized
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
Www-Authenticate: Basic <span class="nv">realm</span><span class="o">=</span><span class="s2">&#34;InfluxDB&#34;</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">19</span>:11:26 GMT
Content-Length: <span class="m">33</span>

<span class="o">{</span><span class="s2">&#34;error&#34;</span>:<span class="s2">&#34;authorization failed&#34;</span><span class="o">}</span></code></pre></div>
<h2 id="write-http-endpoint"><code>/write</code> HTTP endpoint</h2>

<p>The <code>/write</code> endpoint accepts <code>POST</code> HTTP requests.
Use this endpoint to write data to a pre-existing database.</p>

<h3 id="definition-4">Definition</h3>

<pre><code>POST http://localhost:8086/write
</code></pre>

<h3 id="query-string-parameters-2">Query string parameters</h3>

<table>
<thead>
<tr>
<th align="left">Query String Parameter</th>
<th align="left">Optional/Required</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">consistency=[any,one,quorum,all]</td>
<td align="left">Optional, available with <a href="https://docs.influxdata.com/enterprise_influxdb/v1.6/">InfluxDB Enterprise clusters</a> only.</td>
<td align="left">Sets the write consistency for the point. InfluxDB assumes that the write consistency is <code>one</code> if you do not specify <code>consistency</code>. See the <a href="https://docs.influxdata.com/enterprise_influxdb/v1.6/concepts/clustering#write-consistency">InfluxDB Enterprise documentation</a> for detailed descriptions of each consistency option.</td>
</tr>

<tr>
<td align="left">db=&lt;database&gt;</td>
<td align="left">Required</td>
<td align="left">Sets the target <a href="../concepts/glossary/index.html#database">database</a> for the write.</td>
</tr>

<tr>
<td align="left">p=&lt;password&gt;</td>
<td align="left">Optional if you haven&rsquo;t <a href="../administration/authentication_and_authorization/index.html#set-up-authentication">enabled authentication</a>. Required if you&rsquo;ve enabled authentication.*</td>
<td align="left">Sets the password for authentication if you&rsquo;ve enabled authentication. Use with the query string parameter <code>u</code>.</td>
</tr>

<tr>
<td align="left">precision=[ns,u,ms,s,m,h]</td>
<td align="left">Optional</td>
<td align="left">Sets the precision for the supplied Unix time values. InfluxDB assumes that timestamps are in nanoseconds if you do not specify <code>precision</code>.**</td>
</tr>

<tr>
<td align="left">rp=&lt;retention_policy_name&gt;</td>
<td align="left">Optional</td>
<td align="left">Sets the target <a href="../concepts/glossary/index.html#retention-policy-rp">retention policy</a> for the write. InfluxDB writes to the <code>DEFAULT</code> retention policy if you do not specify a retention policy.</td>
</tr>

<tr>
<td align="left">u=&lt;username&gt;</td>
<td align="left">Optional if you haven&rsquo;t <a href="../administration/authentication_and_authorization/index.html#set-up-authentication">enabled authentication</a>. Required if you&rsquo;ve enabled authentication.*</td>
<td align="left">Sets the username for authentication if you&rsquo;ve enabled authentication. The user must have write access to the database. Use with the query string parameter <code>p</code>.</td>
</tr>
</tbody>
</table>

<p>* The InfluxDB API also supports basic authentication.
Use basic authentication if you&rsquo;ve <a href="../administration/authentication_and_authorization/index.html#set-up-authentication">enabled authentication</a>
and aren&rsquo;t using the query string parameters <code>u</code> and <code>p</code>.
See below for an <a href="api.html#write-a-point-to-the-database-mydb-using-basic-authentication">example</a> of basic authentication.</p>

<p>** We recommend using the least precise precision possible as this can result
in significant improvements in compression.</p>

<h4 id="examples-5">Examples</h4>

<h5 id="write-a-point-to-the-database-mydb-with-a-timestamp-in-seconds">Write a point to the database <code>mydb</code> with a timestamp in seconds</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&amp;precision=s&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=90 1463683075&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">17</span>:33:23 GMT</code></pre></div>
<h5 id="write-a-point-to-the-database-mydb-and-the-retention-policy-myrp">Write a point to the database <code>mydb</code> and the retention policy <code>myrp</code></h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&amp;rp=myrp&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=90&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">17</span>:34:31 GMT</code></pre></div>
<h5 id="write-a-point-to-the-database-mydb-using-http-authentication">Write a point to the database <code>mydb</code> using HTTP authentication</h5>

<p>Valid credentials:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&amp;u=myusername&amp;p=mypassword&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=91&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">17</span>:34:56 GMT</code></pre></div>
<p>Invalid credentials:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&amp;u=myusername&amp;p=notmypassword&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=91&#39;</span>

HTTP/1.1 <span class="m">401</span> Unauthorized
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
Www-Authenticate: Basic <span class="nv">realm</span><span class="o">=</span><span class="s2">&#34;InfluxDB&#34;</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">17</span>:40:30 GMT
Content-Length: <span class="m">33</span>

<span class="o">{</span><span class="s2">&#34;error&#34;</span>:<span class="s2">&#34;authorization failed&#34;</span><span class="o">}</span></code></pre></div>
<h5 id="write-a-point-to-the-database-mydb-using-basic-authentication">Write a point to the database <code>mydb</code> using basic authentication</h5>

<p>Valid credentials:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST -u myusername:mypassword <span class="s2">&#34;http://localhost:8086/write?db=mydb&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=91&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">17</span>:36:40 GMT</code></pre></div>
<p>Invalid credentials:</p>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST -u myusername:notmypassword <span class="s2">&#34;http://localhost:8086/write?db=mydb&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=91&#39;</span>

HTTP/1.1 <span class="m">401</span> Unauthorized
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
Www-Authenticate: Basic <span class="nv">realm</span><span class="o">=</span><span class="s2">&#34;InfluxDB&#34;</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">17</span>:46:40 GMT
Content-Length: <span class="m">33</span>

<span class="o">{</span><span class="s2">&#34;error&#34;</span>:<span class="s2">&#34;authorization failed&#34;</span><span class="o">}</span></code></pre></div>
<h3 id="request-body-1">Request body</h3>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">--data-binary <span class="s1">&#39;&lt;Data in InfluxDB line protocol format&gt;&#39;</span></code></pre></div>
<p>All data must be binary encoded and in the
<a href="../concepts/glossary/index.html#influxdb-line-protocol">InfluxDB line protocol</a> format.
Our example shows the <code>--data-binary</code> parameter from curl, which we will use in
all examples on this page.
Using any encoding method other than <code>--data-binary</code> will likely lead to issues;
<code>-d</code>, <code>--data-urlencode</code>, and <code>--data-ascii</code> may strip out newlines or
introduce new, unintended formatting.</p>

<p>Options:</p>

<ul>
<li>Write several points to the database with one request by separating each point
by a new line.</li>

<li><p>Write points from a file with the <code>@</code> flag.
The file should contain a batch of points in the InfluxDB line protocol format.
Individual points must be on their own line and separated by newline characters
(<code>\n</code>).
Files containing carriage returns will cause parser errors.</p>

<p>We recommend writing points in batches of 5,000 to 10,000 points.
Smaller batches, and more HTTP requests, will result in sub-optimal performance.</p></li>
</ul>

<h4 id="examples-6">Examples</h4>

<h5 id="write-a-point-to-the-database-mydb-with-a-nanosecond-timestamp">Write a point to the database <code>mydb</code> with a nanosecond timestamp</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=90 1463683075000000000&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">18</span>:02:57 GMT</code></pre></div>
<h5 id="write-a-point-to-the-database-mydb-with-the-local-server-s-nanosecond-timestamp">Write a point to the database <code>mydb</code> with the local server&rsquo;s nanosecond timestamp</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=1 myfield=90&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">18</span>:03:44 GMT</code></pre></div>
<h5 id="write-several-points-to-the-database-mydb-by-separating-points-with-a-new-line">Write several points to the database <code>mydb</code> by separating points with a new line</h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&#34;</span> --data-binary <span class="s1">&#39;mymeas,mytag=3 myfield=89 1463689152000000000
</span><span class="s1">mymeas,mytag=2 myfield=34 1463689152000000000&#39;</span>

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">18</span>:04:02 GMT</code></pre></div>
<h5 id="write-several-points-to-the-database-mydb-from-the-file-data-txt">Write several points to the database <code>mydb</code> from the file <code>data.txt</code></h5>
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ curl -i -XPOST <span class="s2">&#34;http://localhost:8086/write?db=mydb&#34;</span> --data-binary @data.txt

HTTP/1.1 <span class="m">204</span> No Content
Content-Type: application/json
Request-Id: <span class="o">[</span>...<span class="o">]</span>
X-Influxdb-Version: <span class="m">1</span>.4.x
Date: Wed, <span class="m">08</span> Nov <span class="m">2017</span> <span class="m">18</span>:08:11 GMT</code></pre></div>
<p>A sample of the data in <code>data.txt</code>:</p>

<pre><code>mymeas,mytag1=1 value=21 1463689680000000000
mymeas,mytag1=1 value=34 1463689690000000000
mymeas,mytag2=8 value=78 1463689700000000000
mymeas,mytag3=9 value=89 1463689710000000000
</code></pre>

<h3 id="status-codes-and-responses-2">Status codes and responses</h3>

<p>In general, status codes of the form <code>2xx</code> indicate success, <code>4xx</code> indicate
that InfluxDB could not understand the request, and <code>5xx</code> indicate that the
system is overloaded or significantly impaired.
Errors are returned in JSON.</p>

<h4 id="summary-table-1">Summary table</h4>

<table>
<thead>
<tr>
<th align="left">HTTP status code</th>
<th align="left">Description</th>
</tr>
</thead>

<tbody>
<tr>
<td align="left">204 No Content</td>
<td align="left">Success!</td>
</tr>

<tr>
<td align="left">400 Bad Request</td>
<td align="left">Unacceptable request. Can occur with an InfluxDB line protocol syntax error or if a user attempts to write values to a field that previously accepted a different value type. The returned JSON offers further information.</td>
</tr>

<tr>
<td align="left">401 Unauthorized</td>
<td align="left">Unacceptable request. Can occur with invalid authentication credentials.</td>
</tr>

<tr>
<td align="left">404 Not Found</td>
<td align="left">Unacceptable request. Can occur if a user attempts to write to a database that does not exist. The returned JSON offers further information.</td>
</tr>

<tr>
<td align="left">413 Request Entity Too Large</td>
<td align="left">Unaccetable request. It will occur if the payload of the POST request is bigger than the maximum size allowed. See <a href="https://docs.influxdata.com/influxdb/latest/administration/config/#max-body-size-25000000"><code>max-body-size</code></a> parameter for more details.</td>
</tr>

<tr>
<td align="left">500 Internal Server Error</td>
<td align="left">The system is overloaded or significantly impaired. Can occur if a user attempts to write to a retention policy that does not exist. The returned JSON offers further information.</td>
</tr>
</tbody>
</table>

<h4 id="examples-7">Examples</h4>

<h5 id="a-successful-write">A successful write</h5>

<pre><code>HTTP/1.1 204 No Content
</code></pre>

<h5 id="write-a-point-with-an-incorrect-timestamp">Write a point with an incorrect timestamp</h5>

<pre><code>HTTP/1.1 400 Bad Request
[...]
{&quot;error&quot;:&quot;unable to parse 'mymeas,mytag=1 myfield=91 abc123': bad timestamp&quot;}
</code></pre>

<h5 id="write-an-integer-to-a-field-that-previously-accepted-a-float">Write an integer to a field that previously accepted a float</h5>

<pre><code>HTTP/1.1 400 Bad Request
[...]
{&quot;error&quot;:&quot;field type conflict: input field \&quot;myfield\&quot; on measurement \&quot;mymeas\&quot; is type int64, already exists as type float&quot;}
</code></pre>

<h5 id="write-a-point-with-invalid-authentication-credentials">Write a point with invalid authentication credentials</h5>

<pre><code>HTTP/1.1 401 Unauthorized
[...]
{&quot;error&quot;:&quot;authorization failed&quot;}
</code></pre>

<h5 id="write-a-point-to-a-database-that-doesn-t-exist">Write a point to a database that doesn&rsquo;t exist</h5>

<pre><code>HTTP/1.1 404 Not Found
[...]
{&quot;error&quot;:&quot;database not found: \&quot;mydb1\&quot;&quot;}
</code></pre>

<h5 id="send-a-request-body-that-is-too-large">Send a request body that is too large</h5>

<pre><code>HTTP/2 413 Request Entity Too Large
[...]
{&quot;error&quot;:&quot;Request Entity Too Large&quot;}
</code></pre>

<h5 id="write-a-point-to-a-retention-policy-that-doesn-t-exist">Write a point to a retention policy that doesn&rsquo;t exist</h5>

<pre><code>HTTP/1.1 500 Internal Server Error
[...]
{&quot;error&quot;:&quot;retention policy not found: myrp&quot;}
</code></pre>

		</div>
	</section>
	
<section class="article-section article-footer">
	<div class="article-content">
		<p><span class="icon logo" style="margin-right: 1em;"></span> This documentation is <a href="https://github.com/influxdata/docs.influxdata.com/blob/master/content/influxdb/v1.7/tools/api.md">open source</a>. See a typo? Please, open an <a href="https://github.com/influxdata/docs.influxdata.com/issues/new">issue</a>.</p>
		<br/>
		<p><span class="icon bubbles2" style="margin-right: 1em;"></span><strong>Need help getting up and running?</strong> <a href="https://www.influxdata.com/products/services/" target="_blank">Get Support</a></p>
	</div>
</section>


</article>
<script>window.jQuery || document.write('<script src="../../../js/vendor/jquery-2.1.4.min.js"><\/script>')</script>

<script src="../../../js/docs-interactions.js" type="text/javascript"></script>
<script>
  $("h2, h3, h4").each(function() {
  var link = "<a href="https://docs.influxdata.com/influxdb/v1.7/tools/\&quot;#"" + $(this).attr("id") + "\"></a>"
  $(this).wrapInner( link );
  })
</script>
<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-45024174-5', 'auto');ga('send', 'pageview');</script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript">
  docsearch({
    apiKey: 'ba4435a9d456ac0d954cc276206eac06',
    appId: 'WHM9UWMP6M',
    indexName: 'influxdata',
    inputSelector: '#algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 15,
      facets: [ "project", "version", "latest"],
      facetFilters: [ "latest:true" ]
    }
  });
</script>
</body>
</html>

<div class="modal-overlay"></div>
<div id="chronograf-url-modal" class="modal-content">
    <label>Chronograf Data Explorer URL</label>
    <form class="flex-form" id="save-chronograf-url">
        <input type="text" id="chronograf-url" name="chronograf-url"/>
        <button class="save-btn"><span>Save</span></button>
    </form>
    <a id="default-chronograf-url">Revert to Default</a>
</div>

