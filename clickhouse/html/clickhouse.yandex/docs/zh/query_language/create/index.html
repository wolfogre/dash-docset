<!DOCTYPE html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href="index.html" rel=canonical><meta name=lang:clipboard.copy content=复制><meta name=lang:clipboard.copied content=已复制><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content><meta name=lang:search.pipeline.trimmer content><meta name=lang:search.result.none content=没有找到符合条件的结果><meta name=lang:search.result.one content="找到 1 个符合条件的结果"><meta name=lang:search.result.other content="# 个符合条件的结果"><meta name=lang:search.tokenizer content=[\uff0c\u3002]+><link rel="shortcut icon" href="../../assets/images/favicon.ico"><title>CREATE - ClickHouse文档</title><link rel=stylesheet href="../../assets/stylesheets/application.2a88008a.css"><link rel=stylesheet href="../../assets/stylesheets/application-palette.792431c1.css"><link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel=stylesheet href="../../assets/stylesheets/custom.css@1578425159.css"></head> <body dir=ltr data-md-color-primary=white data-md-color-accent=white class=md-lang-zh> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=drawer> <input class=md-toggle data-md-toggle=search type=checkbox id=search> <label class=md-overlay data-md-component=overlay for=drawer></label> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href="https://clickhouse.yandex/" title="ClickHouse文档 " class="md-header-nav__button md-logo"> <img src="../../images/logo.svg" width=40 height=40> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> ClickHouse文档 </span> <span class=md-header-nav__topic> CREATE </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=search></label> <div class=md-search__inner> <form class=md-search__form name=search> <input type=text class=md-search__input name=query required placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query> <label class="md-icon md-search__icon" for=search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset>&#xE5CD;</button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> 键入以开始搜索 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div id=md-language-switch class=md-header-nav__source> <a class=md-alt-lang href="https://clickhouse.yandex/docs/en/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href="https://clickhouse.yandex/docs/ru/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class="md-alt-lang md-current-lang" href="index.html" class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href="https://clickhouse.yandex/docs/ja/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href="https://clickhouse.yandex/docs/fa/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=drawer> ClickHouse文档 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> 介绍 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> 介绍 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../index.html" title=概貌 class=md-nav__link> 概貌 </a> </li> <li class=md-nav__item> <a href="../../introduction/distinctive_features/index.html" title=ClickHouse的独特功能 class=md-nav__link> ClickHouse的独特功能 </a> </li> <li class=md-nav__item> <a href="../../introduction/features_considered_disadvantages/index.html" title=ClickHouse功能可被视为缺点 class=md-nav__link> ClickHouse功能可被视为缺点 </a> </li> <li class=md-nav__item> <a href="../../introduction/performance/index.html" title=性能 class=md-nav__link> 性能 </a> </li> <li class=md-nav__item> <a href="../../introduction/history/index.html" title=历史 class=md-nav__link> 历史 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> 入门指南 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> 入门指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../getting_started/install/index.html" title=安装 class=md-nav__link> 安装 </a> </li> <li class=md-nav__item> <a href="../../getting_started/tutorial/index.html" title=教程 class=md-nav__link> 教程 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-4 type=checkbox id=nav-2-4> <label class=md-nav__link for=nav-2-4> 示例数据集 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-4> 示例数据集 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../getting_started/example_datasets/ontime/index.html" title=航班飞行数据 class=md-nav__link> 航班飞行数据 </a> </li> <li class=md-nav__item> <a href="../../getting_started/example_datasets/nyc_taxi/index.html" title=纽约市出租车数据 class=md-nav__link> 纽约市出租车数据 </a> </li> <li class=md-nav__item> <a href="../../getting_started/example_datasets/amplab_benchmark/index.html" title=AMPLab大数据基准测试 class=md-nav__link> AMPLab大数据基准测试 </a> </li> <li class=md-nav__item> <a href="../../getting_started/example_datasets/wikistat/index.html" title=维基访问数据 class=md-nav__link> 维基访问数据 </a> </li> <li class=md-nav__item> <a href="../../getting_started/example_datasets/criteo/index.html" title="Criteo TB级别点击日志" class=md-nav__link> Criteo TB级别点击日志 </a> </li> <li class=md-nav__item> <a href="../../getting_started/example_datasets/star_schema/index.html" title="Star Schema基准测试" class=md-nav__link> Star Schema基准测试 </a> </li> <li class=md-nav__item> <a href="../../getting_started/example_datasets/metrica/index.html" title=Yandex.Metrica class=md-nav__link> Yandex.Metrica </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> 客户端 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> 客户端 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../interfaces/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../interfaces/cli/index.html" title=命令行客户端接口 class=md-nav__link> 命令行客户端接口 </a> </li> <li class=md-nav__item> <a href="../../interfaces/tcp/index.html" title="原生客户端接口 (TCP)" class=md-nav__link> 原生客户端接口 (TCP) </a> </li> <li class=md-nav__item> <a href="../../interfaces/http/index.html" title="HTTP 客户端接口" class=md-nav__link> HTTP 客户端接口 </a> </li> <li class=md-nav__item> <a href="../../interfaces/formats/index.html" title=输入输出格式 class=md-nav__link> 输入输出格式 </a> </li> <li class=md-nav__item> <a href="../../interfaces/jdbc/index.html" title="JDBC 驱动" class=md-nav__link> JDBC 驱动 </a> </li> <li class=md-nav__item> <a href="../../interfaces/odbc/index.html" title="ODBC 驱动" class=md-nav__link> ODBC 驱动 </a> </li> <li class=md-nav__item> <a href="../../interfaces/cpp/index.html" title="C ++客户端库" class=md-nav__link> C ++客户端库 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-9 type=checkbox id=nav-3-9> <label class=md-nav__link for=nav-3-9> 第三方 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-9> 第三方 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../interfaces/third-party/client_libraries/index.html" title=客户端库 class=md-nav__link> 客户端库 </a> </li> <li class=md-nav__item> <a href="../../interfaces/third-party/integrations/index.html" title=集成 class=md-nav__link> 集成 </a> </li> <li class=md-nav__item> <a href="../../interfaces/third-party/gui/index.html" title=可视界面 class=md-nav__link> 可视界面 </a> </li> <li class=md-nav__item> <a href="../../interfaces/third-party/proxy/index.html" title=代理 class=md-nav__link> 代理 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> 数据类型 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> 数据类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../data_types/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../data_types/int_uint/index.html" title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class=md-nav__link> UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64 </a> </li> <li class=md-nav__item> <a href="../../data_types/float/index.html" title="Float32, Float64" class=md-nav__link> Float32, Float64 </a> </li> <li class=md-nav__item> <a href="../../data_types/decimal/index.html" title=Decimal class=md-nav__link> Decimal </a> </li> <li class=md-nav__item> <a href="../../data_types/boolean/index.html" title="Boolean values" class=md-nav__link> Boolean values </a> </li> <li class=md-nav__item> <a href="../../data_types/string/index.html" title=String class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href="../../data_types/fixedstring/index.html" title=FixedString(N) class=md-nav__link> FixedString(N) </a> </li> <li class=md-nav__item> <a href="../../data_types/uuid/index.html" title=UUID class=md-nav__link> UUID </a> </li> <li class=md-nav__item> <a href="../../data_types/date/index.html" title=Date class=md-nav__link> Date </a> </li> <li class=md-nav__item> <a href="../../data_types/datetime/index.html" title=DateTime class=md-nav__link> DateTime </a> </li> <li class=md-nav__item> <a href="../../data_types/enum/index.html" title=Enum class=md-nav__link> Enum </a> </li> <li class=md-nav__item> <a href="../../data_types/array/index.html" title=Array(T) class=md-nav__link> Array(T) </a> </li> <li class=md-nav__item> <a href="../../data_types/nested_data_structures/aggregatefunction/index.html" title="AggregateFunction(name, types_of_arguments...)" class=md-nav__link> AggregateFunction(name, types_of_arguments...) </a> </li> <li class=md-nav__item> <a href="../../data_types/tuple/index.html" title="Tuple(T1, T2, ...)" class=md-nav__link> Tuple(T1, T2, ...) </a> </li> <li class=md-nav__item> <a href="../../data_types/nullable/index.html" title=Nullable class=md-nav__link> Nullable </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-16 type=checkbox id=nav-4-16> <label class=md-nav__link for=nav-4-16> 嵌套数据结构 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-16> 嵌套数据结构 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../data_types/nested_data_structures/nested/index.html" title="Nested(Name1 Type1, Name2 Type2, ...)" class=md-nav__link> Nested(Name1 Type1, Name2 Type2, ...) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-17 type=checkbox id=nav-4-17> <label class=md-nav__link for=nav-4-17> 特殊数据类型 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-17> 特殊数据类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../data_types/special_data_types/expression/index.html" title=Expression class=md-nav__link> Expression </a> </li> <li class=md-nav__item> <a href="../../data_types/special_data_types/set/index.html" title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href="../../data_types/special_data_types/nothing/index.html" title=Nothing class=md-nav__link> Nothing </a> </li> <li class=md-nav__item> <a href="../../data_types/special_data_types/interval/index.html" title=Interval class=md-nav__link> Interval </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-18 type=checkbox id=nav-4-18> <label class=md-nav__link for=nav-4-18> Domain类型 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-18> Domain类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../data_types/domains/overview/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../data_types/domains/ipv4/index.html" title=IPv4 class=md-nav__link> IPv4 </a> </li> <li class=md-nav__item> <a href="../../data_types/domains/ipv6/index.html" title=IPv6 class=md-nav__link> IPv6 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> 数据库引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> 数据库引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../database_engines/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../database_engines/mysql/index.html" title=MySQL class=md-nav__link> MySQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> 表引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> 表引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/table_engines/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> MergeTree </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-2> MergeTree </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/table_engines/mergetree/index.html" title=MergeTree class=md-nav__link> MergeTree </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/replication/index.html" title="Data Replication" class=md-nav__link> Data Replication </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/custom_partitioning_key/index.html" title="Custom Partitioning Key" class=md-nav__link> Custom Partitioning Key </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/replacingmergetree/index.html" title=ReplacingMergeTree class=md-nav__link> ReplacingMergeTree </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/summingmergetree/index.html" title=SummingMergeTree class=md-nav__link> SummingMergeTree </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/aggregatingmergetree/index.html" title=AggregatingMergeTree class=md-nav__link> AggregatingMergeTree </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/collapsingmergetree/index.html" title=CollapsingMergeTree class=md-nav__link> CollapsingMergeTree </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/versionedcollapsingmergetree/index.html" title=VersionedCollapsingMergeTree class=md-nav__link> VersionedCollapsingMergeTree </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/graphitemergetree/index.html" title=GraphiteMergeTree class=md-nav__link> GraphiteMergeTree </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-3 type=checkbox id=nav-6-3> <label class=md-nav__link for=nav-6-3> Log </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-3> Log </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/table_engines/log_family/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/stripelog/index.html" title=StripeLog class=md-nav__link> StripeLog </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/log/index.html" title=Log class=md-nav__link> Log </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/tinylog/index.html" title=TinyLog class=md-nav__link> TinyLog </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-4 type=checkbox id=nav-6-4> <label class=md-nav__link for=nav-6-4> 外部表引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-4> 外部表引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/table_engines/kafka/index.html" title=Kafka class=md-nav__link> Kafka </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/mysql/index.html" title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/jdbc/index.html" title=JDBC class=md-nav__link> JDBC </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/odbc/index.html" title=ODBC class=md-nav__link> ODBC </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/hdfs/index.html" title=HDFS class=md-nav__link> HDFS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-5 type=checkbox id=nav-6-5> <label class=md-nav__link for=nav-6-5> 其他表引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-5> 其他表引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/table_engines/distributed/index.html" title=Distributed class=md-nav__link> Distributed </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/external_data/index.html" title="External data" class=md-nav__link> External data </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/dictionary/index.html" title=Dictionary class=md-nav__link> Dictionary </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/merge/index.html" title=Merge class=md-nav__link> Merge </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/file/index.html" title=File class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/null/index.html" title=Null class=md-nav__link> Null </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/set/index.html" title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/join/index.html" title=Join class=md-nav__link> Join </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/url/index.html" title=URL class=md-nav__link> URL </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/view/index.html" title=View class=md-nav__link> View </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/materializedview/index.html" title=MaterializedView class=md-nav__link> MaterializedView </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/memory/index.html" title=Memory class=md-nav__link> Memory </a> </li> <li class=md-nav__item> <a href="../../operations/table_engines/buffer/index.html" title=Buffer class=md-nav__link> Buffer </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7 checked> <label class=md-nav__link for=nav-7> SQL语法 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> SQL语法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../select/index.html" title=SELECT class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href="../insert_into/index.html" title="INSERT INTO" class=md-nav__link> INSERT INTO </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=toc> <label class="md-nav__link md-nav__link--active" for=toc> CREATE </label> <a href="index.html" title=CREATE class="md-nav__link md-nav__link--active"> <strong>CREATE</strong> </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="index.html#create-database" title="CREATE DATABASE" class=md-nav__link> CREATE DATABASE </a> </li> <li class=md-nav__item> <a href="index.html#create-table-query" title="CREATE TABLE" class=md-nav__link> CREATE TABLE </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href="index.html#create-default-values" title=默认值 class=md-nav__link> 默认值 </a> </li> <li class=md-nav__item> <a href="index.html#constraints" title=Constraints class=md-nav__link> Constraints </a> </li> <li class=md-nav__item> <a href="index.html#ttl-expression" title="TTL Expression" class=md-nav__link> TTL Expression </a> </li> <li class=md-nav__item> <a href="index.html#codecs" title="Column Compression Codecs" class=md-nav__link> Column Compression Codecs </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href="index.html#create-query-specialized-codecs" title="Specialized Codecs" class=md-nav__link> Specialized Codecs </a> </li> <li class=md-nav__item> <a href="index.html#create-query-common-purpose-codecs" title="Common purpose codecs" class=md-nav__link> Common purpose codecs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="index.html#lin-shi-biao" title=临时表 class=md-nav__link> 临时表 </a> </li> <li class=md-nav__item> <a href="index.html#fen-bu-shi-ddlcha-xun-on-cluster-zi-ju" title="分布式DDL查询 （ON CLUSTER 子句）" class=md-nav__link> 分布式DDL查询 （ON CLUSTER 子句） </a> </li> <li class=md-nav__item> <a href="index.html#create-view" title="CREATE VIEW" class=md-nav__link> CREATE VIEW </a> </li> <li class=md-nav__item> <a href="index.html#create-dictionary-query" title="CREATE DICTIONARY" class=md-nav__link> CREATE DICTIONARY </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="../alter/index.html" title=ALTER class=md-nav__link> ALTER </a> </li> <li class=md-nav__item> <a href="../system/index.html" title=SYSTEM class=md-nav__link> SYSTEM </a> </li> <li class=md-nav__item> <a href="../show/index.html" title=SHOW class=md-nav__link> SHOW </a> </li> <li class=md-nav__item> <a href="../misc/index.html" title=其他类型的查询 class=md-nav__link> 其他类型的查询 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-9 type=checkbox id=nav-7-9> <label class=md-nav__link for=nav-7-9> 函数 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-9> 函数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../functions/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../functions/arithmetic_functions/index.html" title=算术函数 class=md-nav__link> 算术函数 </a> </li> <li class=md-nav__item> <a href="../functions/comparison_functions/index.html" title=比较函数 class=md-nav__link> 比较函数 </a> </li> <li class=md-nav__item> <a href="../functions/logical_functions/index.html" title=逻辑函数 class=md-nav__link> 逻辑函数 </a> </li> <li class=md-nav__item> <a href="../functions/type_conversion_functions/index.html" title=类型转换函数 class=md-nav__link> 类型转换函数 </a> </li> <li class=md-nav__item> <a href="../functions/date_time_functions/index.html" title=时间日期函数 class=md-nav__link> 时间日期函数 </a> </li> <li class=md-nav__item> <a href="../functions/string_functions/index.html" title=字符串函数 class=md-nav__link> 字符串函数 </a> </li> <li class=md-nav__item> <a href="../functions/string_search_functions/index.html" title=字符串搜索函数 class=md-nav__link> 字符串搜索函数 </a> </li> <li class=md-nav__item> <a href="../functions/string_replace_functions/index.html" title=字符串替换函数 class=md-nav__link> 字符串替换函数 </a> </li> <li class=md-nav__item> <a href="../functions/conditional_functions/index.html" title="条件函数 " class=md-nav__link> 条件函数 </a> </li> <li class=md-nav__item> <a href="../functions/math_functions/index.html" title=数学函数 class=md-nav__link> 数学函数 </a> </li> <li class=md-nav__item> <a href="../functions/rounding_functions/index.html" title=取整函数 class=md-nav__link> 取整函数 </a> </li> <li class=md-nav__item> <a href="../functions/array_functions/index.html" title=数组函数 class=md-nav__link> 数组函数 </a> </li> <li class=md-nav__item> <a href="../functions/splitting_merging_functions/index.html" title=字符串拆分合并函数 class=md-nav__link> 字符串拆分合并函数 </a> </li> <li class=md-nav__item> <a href="../functions/bit_functions/index.html" title=位操作函数 class=md-nav__link> 位操作函数 </a> </li> <li class=md-nav__item> <a href="../functions/bitmap_functions/index.html" title=位图函数 class=md-nav__link> 位图函数 </a> </li> <li class=md-nav__item> <a href="../functions/hash_functions/index.html" title=Hash函数 class=md-nav__link> Hash函数 </a> </li> <li class=md-nav__item> <a href="../functions/random_functions/index.html" title=随机函数 class=md-nav__link> 随机函数 </a> </li> <li class=md-nav__item> <a href="../functions/encoding_functions/index.html" title=编码函数 class=md-nav__link> 编码函数 </a> </li> <li class=md-nav__item> <a href="../functions/uuid_functions/index.html" title=UUID函数 class=md-nav__link> UUID函数 </a> </li> <li class=md-nav__item> <a href="../functions/url_functions/index.html" title=URL函数 class=md-nav__link> URL函数 </a> </li> <li class=md-nav__item> <a href="../functions/ip_address_functions/index.html" title=IP函数 class=md-nav__link> IP函数 </a> </li> <li class=md-nav__item> <a href="../functions/json_functions/index.html" title=JSON函数 class=md-nav__link> JSON函数 </a> </li> <li class=md-nav__item> <a href="../functions/higher_order_functions/index.html" title=高阶函数 class=md-nav__link> 高阶函数 </a> </li> <li class=md-nav__item> <a href="../functions/ext_dict_functions/index.html" title=字典函数 class=md-nav__link> 字典函数 </a> </li> <li class=md-nav__item> <a href="../functions/ym_dict_functions/index.html" title=Yandex.Metrica字典函数 class=md-nav__link> Yandex.Metrica字典函数 </a> </li> <li class=md-nav__item> <a href="../functions/in_functions/index.html" title=IN运算符相关函数 class=md-nav__link> IN运算符相关函数 </a> </li> <li class=md-nav__item> <a href="../functions/array_join/index.html" title=arrayJoin函数 class=md-nav__link> arrayJoin函数 </a> </li> <li class=md-nav__item> <a href="../functions/geo/index.html" title=GEO函数 class=md-nav__link> GEO函数 </a> </li> <li class=md-nav__item> <a href="../functions/functions_for_nulls/index.html" title=Nullable处理函数 class=md-nav__link> Nullable处理函数 </a> </li> <li class=md-nav__item> <a href="../functions/machine_learning_functions/index.html" title=机器学习函数 class=md-nav__link> 机器学习函数 </a> </li> <li class=md-nav__item> <a href="../functions/introspection/index.html" title=Introspection class=md-nav__link> Introspection </a> </li> <li class=md-nav__item> <a href="../functions/other_functions/index.html" title=其他函数 class=md-nav__link> 其他函数 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-10 type=checkbox id=nav-7-10> <label class=md-nav__link for=nav-7-10> 聚合函数 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-10> 聚合函数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../agg_functions/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../agg_functions/reference/index.html" title=函数列表 class=md-nav__link> 函数列表 </a> </li> <li class=md-nav__item> <a href="../agg_functions/combinators/index.html" title=聚合函数组合子 class=md-nav__link> 聚合函数组合子 </a> </li> <li class=md-nav__item> <a href="../agg_functions/parametric_functions/index.html" title=参数化聚合函数 class=md-nav__link> 参数化聚合函数 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-11 type=checkbox id=nav-7-11> <label class=md-nav__link for=nav-7-11> 表引擎函数 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-11> 表引擎函数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../table_functions/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../table_functions/file/index.html" title=file class=md-nav__link> file </a> </li> <li class=md-nav__item> <a href="../table_functions/merge/index.html" title=merge class=md-nav__link> merge </a> </li> <li class=md-nav__item> <a href="../table_functions/numbers/index.html" title=numbers class=md-nav__link> numbers </a> </li> <li class=md-nav__item> <a href="../table_functions/remote/index.html" title=remote class=md-nav__link> remote </a> </li> <li class=md-nav__item> <a href="../table_functions/url/index.html" title=url class=md-nav__link> url </a> </li> <li class=md-nav__item> <a href="../table_functions/mysql/index.html" title=mysql class=md-nav__link> mysql </a> </li> <li class=md-nav__item> <a href="../table_functions/jdbc/index.html" title=jdbc class=md-nav__link> jdbc </a> </li> <li class=md-nav__item> <a href="../table_functions/odbc/index.html" title=odbc class=md-nav__link> odbc </a> </li> <li class=md-nav__item> <a href="../table_functions/hdfs/index.html" title=hdfs class=md-nav__link> hdfs </a> </li> <li class=md-nav__item> <a href="../table_functions/input/index.html" title=input class=md-nav__link> input </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-12 type=checkbox id=nav-7-12> <label class=md-nav__link for=nav-7-12> 字典 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-12> 字典 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../dicts/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-12-2 type=checkbox id=nav-7-12-2> <label class=md-nav__link for=nav-7-12-2> 外部字典 </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-12-2> 外部字典 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../dicts/external_dicts/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../dicts/external_dicts_dict/index.html" title=配置外部字典 class=md-nav__link> 配置外部字典 </a> </li> <li class=md-nav__item> <a href="../dicts/external_dicts_dict_layout/index.html" title=字典的内存布局 class=md-nav__link> 字典的内存布局 </a> </li> <li class=md-nav__item> <a href="../dicts/external_dicts_dict_lifetime/index.html" title=字典的刷新策略 class=md-nav__link> 字典的刷新策略 </a> </li> <li class=md-nav__item> <a href="../dicts/external_dicts_dict_sources/index.html" title=字典的外部数据源 class=md-nav__link> 字典的外部数据源 </a> </li> <li class=md-nav__item> <a href="../dicts/external_dicts_dict_structure/index.html" title=字典的键和字段值 class=md-nav__link> 字典的键和字段值 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="../dicts/internal_dicts/index.html" title=内部字典 class=md-nav__link> 内部字典 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="../operators/index.html" title=操作符 class=md-nav__link> 操作符 </a> </li> <li class=md-nav__item> <a href="../syntax/index.html" title=语法说明 class=md-nav__link> 语法说明 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> 运维 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> 运维 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../operations/requirements/index.html" title=环境要求 class=md-nav__link> 环境要求 </a> </li> <li class=md-nav__item> <a href="../../operations/monitoring/index.html" title=监控 class=md-nav__link> 监控 </a> </li> <li class=md-nav__item> <a href="../../operations/troubleshooting/index.html" title=故障排查 class=md-nav__link> 故障排查 </a> </li> <li class=md-nav__item> <a href="../../operations/tips/index.html" title=使用建议 class=md-nav__link> 使用建议 </a> </li> <li class=md-nav__item> <a href="../../operations/update/index.html" title=版本升级 class=md-nav__link> 版本升级 </a> </li> <li class=md-nav__item> <a href="../../operations/access_rights/index.html" title=访问权限控制 class=md-nav__link> 访问权限控制 </a> </li> <li class=md-nav__item> <a href="../../operations/backup/index.html" title=数据备份 class=md-nav__link> 数据备份 </a> </li> <li class=md-nav__item> <a href="../../operations/configuration_files/index.html" title=配置文件 class=md-nav__link> 配置文件 </a> </li> <li class=md-nav__item> <a href="../../operations/quotas/index.html" title=配额 class=md-nav__link> 配额 </a> </li> <li class=md-nav__item> <a href="../../operations/system_tables/index.html" title=系统表 class=md-nav__link> 系统表 </a> </li> <li class=md-nav__item> <a href="../../operations/performance_test/index.html" title="Testing Hardware" class=md-nav__link> Testing Hardware </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-13 type=checkbox id=nav-8-13> <label class=md-nav__link for=nav-8-13> Server参数配置 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-13> Server参数配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/server_settings/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../operations/server_settings/settings/index.html" title=Server参数说明 class=md-nav__link> Server参数说明 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-14 type=checkbox id=nav-8-14> <label class=md-nav__link for=nav-8-14> Settings配置 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-14> Settings配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/settings/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../operations/settings/permissions_for_queries/index.html" title=查询权限管理 class=md-nav__link> 查询权限管理 </a> </li> <li class=md-nav__item> <a href="../../operations/settings/query_complexity/index.html" title=查询复杂性的限制 class=md-nav__link> 查询复杂性的限制 </a> </li> <li class=md-nav__item> <a href="../../operations/settings/settings/index.html" title=Setting列表 class=md-nav__link> Setting列表 </a> </li> <li class=md-nav__item> <a href="../../operations/settings/settings_profiles/index.html" title=Setting配置组 class=md-nav__link> Setting配置组 </a> </li> <li class=md-nav__item> <a href="../../operations/settings/settings_users/index.html" title=用户配置 class=md-nav__link> 用户配置 </a> </li> <li class=md-nav__item> <a href="../../operations/settings/constraints_on_settings/index.html" title=Settings的约束 class=md-nav__link> Settings的约束 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-15 type=checkbox id=nav-8-15> <label class=md-nav__link for=nav-8-15> 常用工具 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-15> 常用工具 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../operations/utils/index.html" title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href="../../operations/utils/clickhouse-copier/index.html" title=clickhouse-copier class=md-nav__link> clickhouse-copier </a> </li> <li class=md-nav__item> <a href="../../operations/utils/clickhouse-local/index.html" title=clickhouse-local class=md-nav__link> clickhouse-local </a> </li> <li class=md-nav__item> <a href="../../operations/utils/clickhouse-benchmark/index.html" title=clickhouse-benchmark class=md-nav__link> clickhouse-benchmark </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> 常见问题 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-9> 常见问题 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../faq/general/index.html" title=一般的问题 class=md-nav__link> 一般的问题 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class=md-nav__link for=nav-10> 开发者指南 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-10> 开发者指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../development/architecture/index.html" title=ClickHouse架构概述 class=md-nav__link> ClickHouse架构概述 </a> </li> <li class=md-nav__item> <a href="../../development/build/index.html" title=如何在Linux中编译ClickHouse class=md-nav__link> 如何在Linux中编译ClickHouse </a> </li> <li class=md-nav__item> <a href="../../development/build_osx/index.html" title="如何在Mac OS X中编译ClickHouse" class=md-nav__link> 如何在Mac OS X中编译ClickHouse </a> </li> <li class=md-nav__item> <a href="../../development/build_cross_osx/index.html" title="如何在Linux中编译Mac OS X ClickHouse" class=md-nav__link> 如何在Linux中编译Mac OS X ClickHouse </a> </li> <li class=md-nav__item> <a href="../../development/style/index.html" title=如何编写C++代码 class=md-nav__link> 如何编写C++代码 </a> </li> <li class=md-nav__item> <a href="../../development/tests/index.html" title=如何运行ClickHouse测试 class=md-nav__link> 如何运行ClickHouse测试 </a> </li> <li class=md-nav__item> <a href="../../development/developer_instruction/index.html" title=开发者指南 class=md-nav__link> 开发者指南 </a> </li> <li class=md-nav__item> <a href="../../development/contrib/index.html" title=使用的第三方库 class=md-nav__link> 使用的第三方库 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-11 type=checkbox id=nav-11> <label class=md-nav__link for=nav-11> 新功能特性 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-11> 新功能特性 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="../../roadmap/index.html" title=路线图 class=md-nav__link> 路线图 </a> </li> <li class=md-nav__item> <a href="../../changelog/index.html" title=更新日志 class=md-nav__link> 更新日志 </a> </li> <li class=md-nav__item> <a href="../../security_changelog/index.html" title=安全更改日志 class=md-nav__link> 安全更改日志 </a> </li> </ul> </nav> </li> </ul> <ul id=md-extra-nav class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> 发布: <span class=md-selector> <select id=releases-selector> <option value>最新</option> <option value=v19.17>v19.17</option> </select><span id=releases-selector-after>&nbsp;▾</span> </span> </li> <li class="md-nav__item md-nav__item--active"> <a href="https://clickhouse.yandex/docs/zh/single/" class="md-nav__link md-nav__link--active">单页版本</a> </li> <li class="md-nav__item md-nav__item--active"> <a href="https://clickhouse.yandex/docs/zh/single/clickhouse_zh.pdf" class="md-nav__link md-nav__link--active">PDF版本</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=https://github.com/ClickHouse/ClickHouse/ rel="external nofollow" target=_blank class=md-nav__link> ClickHouse源代码 </a> </li> <li class="md-nav__item md-nav__item--active"> <span id=md-sidebar-flags class=md-nav__link> <a class=md-alt-lang href="https://clickhouse.yandex/docs/en/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href="https://clickhouse.yandex/docs/ru/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class="md-alt-lang md-current-lang" href="index.html" class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href="https://clickhouse.yandex/docs/ja/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href="https://clickhouse.yandex/docs/fa/query_language/create/" class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </span> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href="index.html#create-database" title="CREATE DATABASE" class=md-nav__link> CREATE DATABASE </a> </li> <li class=md-nav__item> <a href="index.html#create-table-query" title="CREATE TABLE" class=md-nav__link> CREATE TABLE </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href="index.html#create-default-values" title=默认值 class=md-nav__link> 默认值 </a> </li> <li class=md-nav__item> <a href="index.html#constraints" title=Constraints class=md-nav__link> Constraints </a> </li> <li class=md-nav__item> <a href="index.html#ttl-expression" title="TTL Expression" class=md-nav__link> TTL Expression </a> </li> <li class=md-nav__item> <a href="index.html#codecs" title="Column Compression Codecs" class=md-nav__link> Column Compression Codecs </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href="index.html#create-query-specialized-codecs" title="Specialized Codecs" class=md-nav__link> Specialized Codecs </a> </li> <li class=md-nav__item> <a href="index.html#create-query-common-purpose-codecs" title="Common purpose codecs" class=md-nav__link> Common purpose codecs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href="index.html#lin-shi-biao" title=临时表 class=md-nav__link> 临时表 </a> </li> <li class=md-nav__item> <a href="index.html#fen-bu-shi-ddlcha-xun-on-cluster-zi-ju" title="分布式DDL查询 （ON CLUSTER 子句）" class=md-nav__link> 分布式DDL查询 （ON CLUSTER 子句） </a> </li> <li class=md-nav__item> <a href="index.html#create-view" title="CREATE VIEW" class=md-nav__link> CREATE VIEW </a> </li> <li class=md-nav__item> <a href="index.html#create-dictionary-query" title="CREATE DICTIONARY" class=md-nav__link> CREATE DICTIONARY </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/query_language/create.md title=编辑此页 class="md-icon md-content__icon" rel="external nofollow">&#xE3C9;</a> <h1>CREATE</h1> <div id=content> <h2 id=create-database>CREATE DATABASE<a class=headerlink href="index.html#create-database" title="Permanent link">&para;</a></h2> <p>该查询用于根据指定名称创建数据库。</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>DATABASE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=n>db_name</span>
</pre></div> <p>数据库其实只是用于存放表的一个目录。 如果查询中存在<code>IF NOT EXISTS</code>，则当数据库已经存在时，该查询不会返回任何错误。</p> <h2 id=create-table-query>CREATE TABLE<a class=headerlink href="index.html#create-table-query" title="Permanent link">&para;</a></h2> <p>对于<code>CREATE TABLE</code>，存在以下几种方式。</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=n>name2</span> <span class=p>[</span><span class=n>type2</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr2</span><span class=p>],</span>
    <span class=p>...</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span>
</pre></div> <p>在指定的‘db’数据库中创建一个名为‘name’的表，如果查询中没有包含‘db’，则默认使用当前选择的数据库作为‘db’。后面的是包含在括号中的表结构以及表引擎的声明。 其中表结构声明是一个包含一组列描述声明的组合。如果表引擎是支持索引的，那么可以在表引擎的参数中对其进行说明。</p> <p>在最简单的情况下，列描述是指<code>名称 类型</code>这样的子句。例如： <code>RegionID UInt32</code>。 但是也可以为列另外定义默认值表达式（见后文）。</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=k>AS</span> <span class=p>[</span><span class=n>db2</span><span class=p>.]</span><span class=n>name2</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>]</span>
</pre></div> <p>创建一个与<code>db2.name2</code>具有相同结构的表，同时你可以对其指定不同的表引擎声明。如果没有表引擎声明，则创建的表将与<code>db2.name2</code>使用相同的表引擎。</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</pre></div> <p>使用指定的引擎创建一个与<code>SELECT</code>子句的结果具有相同结构的表，并使用<code>SELECT</code>子句的结果填充它。</p> <p>以上所有情况，如果指定了<code>IF NOT EXISTS</code>，那么在该表已经存在的情况下，查询不会返回任何错误。在这种情况下，查询几乎不会做任何事情。</p> <p>在<code>ENGINE</code>子句后还可能存在一些其他的子句，更详细的信息可以参考 <a href="../../operations/table_engines/index.html" >表引擎</a> 中关于建表的描述。</p> <h3 id=create-default-values>默认值<a class=headerlink href="index.html#create-default-values" title="Permanent link">&para;</a></h3> <p>在列描述中你可以通过以下方式之一为列指定默认表达式：<code>DEFAULT expr</code>，<code>MATERIALIZED expr</code>，<code>ALIAS expr</code>。 示例：<code>URLDomain String DEFAULT domain(URL)</code>。</p> <p>如果在列描述中未定义任何默认表达式，那么系统将会根据类型设置对应的默认值，如：数值类型为零、字符串类型为空字符串、数组类型为空数组、日期类型为‘0000-00-00’以及时间类型为‘0000-00-00 00:00:00’。不支持使用NULL作为普通类型的默认值。</p> <p>如果定义了默认表达式，则可以不定义列的类型。如果没有明确的定义类的类型，则使用默认表达式的类型。例如：<code>EventDate DEFAULT toDate(EventTime)</code> - 最终‘EventDate’将使用‘Date’作为类型。</p> <p>如果同时指定了默认表达式与列的类型，则将使用类型转换函数将默认表达式转换为指定的类型。例如：<code>Hits UInt32 DEFAULT 0</code>与<code>Hits UInt32 DEFAULT toUInt32(0)</code>意思相同。</p> <p>默认表达式可以包含常量或表的任意其他列。当创建或更改表结构时，系统将会运行检查，确保不会包含循环依赖。对于INSERT, 它仅检查表达式是否是可以解析的 - 它们可以从中计算出所有需要的列的默认值。</p> <p><code>DEFAULT expr</code></p> <p>普通的默认值，如果INSERT中不包含指定的列，那么将通过表达式计算它的默认值并填充它。</p> <p><code>MATERIALIZED expr</code></p> <p>物化表达式，被该表达式指定的列不能包含在INSERT的列表中，因为它总是被计算出来的。 对于INSERT而言，不需要考虑这些列。 另外，在SELECT查询中如果包含星号，此列不会被用来替换星号，这是因为考虑到数据转储，在使用<code>SELECT *</code>查询出的结果总能够被'INSERT'回表。</p> <p><code>ALIAS expr</code></p> <p>别名。这样的列不会存储在表中。 它的值不能够通过INSERT写入，同时使用SELECT查询星号时，这些列也不会被用来替换星号。 但是它们可以显示的用于SELECT中，在这种情况下，在查询分析中别名将被替换。</p> <p>当使用ALTER查询对添加新的列时，不同于为所有旧数据添加这个列，对于需要在旧数据中查询新列，只会在查询时动态计算这个新列的值。但是如果新列的默认表示中依赖其他列的值进行计算，那么同样会加载这些依赖的列的数据。</p> <p>如果你向表中添加一个新列，并在之后的一段时间后修改它的默认表达式，则旧数据中的值将会被改变。请注意，在运行后台合并时，缺少的列的值将被计算后写入到合并后的数据部分中。</p> <p>不能够为nested类型的列设置默认值。</p> <h3 id=constraints>Constraints<a class=headerlink href="index.html#constraints" title="Permanent link">&para;</a></h3> <p>Along with columns descriptions constraints could be defined:</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>]</span> <span class=p>[</span><span class=n>compression_codec</span><span class=p>]</span> <span class=p>[</span><span class=n>TTL</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=p>...</span>
    <span class=k>CONSTRAINT</span> <span class=n>constraint_name_1</span> <span class=k>CHECK</span> <span class=n>boolean_expr_1</span><span class=p>,</span>
    <span class=p>...</span>
<span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span>
</pre></div> <p><code>boolean_expr_1</code> could by any boolean expression. If constraints are defined for the table, each of them will be checked for every row in <code>INSERT</code> query. If any constraint is not satisfied — server will raise an exception with constraint name and checking expression.</p> <p>Adding large amount of constraints can negatively affect performance of big <code>INSERT</code> queries.</p> <h3 id=ttl-expression>TTL Expression<a class=headerlink href="index.html#ttl-expression" title="Permanent link">&para;</a></h3> <p>Defines storage time for values. Can be specified only for MergeTree-family tables. For the detailed description, see <a href="../../operations/table_engines/mergetree/index.html#table_engine-mergetree-ttl">TTL for columns and tables</a>.</p> <h3 id=codecs>Column Compression Codecs<a class=headerlink href="index.html#codecs" title="Permanent link">&para;</a></h3> <p>By default, ClickHouse applies the compression method, defined in <a href="../../operations/server_settings/settings/index.html#compression">server settings</a>, to columns. You can also define the compression method for each individual column in the <code>CREATE TABLE</code> query.</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>codec_example</span>
<span class=p>(</span>
    <span class=n>dt</span> <span class=nb>Date</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>ZSTD</span><span class=p>),</span>
    <span class=n>ts</span> <span class=n>DateTime</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>LZ4HC</span><span class=p>),</span>
    <span class=n>float_value</span> <span class=n>Float32</span> <span class=n>CODEC</span><span class=p>(</span><span class=k>NONE</span><span class=p>),</span>
    <span class=n>double_value</span> <span class=n>Float64</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>LZ4HC</span><span class=p>(</span><span class=mi>9</span><span class=p>))</span>
    <span class=n>value</span> <span class=n>Float32</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>Delta</span><span class=p>,</span> <span class=n>ZSTD</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=o>&lt;</span><span class=n>Engine</span><span class=o>&gt;</span>
<span class=p>...</span>
</pre></div> <p>If a codec is specified, the default codec doesn't apply. Codecs can be combined in a pipeline, for example, <code>CODEC(Delta, ZSTD)</code>. To select the best codec combination for you project, pass benchmarks similar to described in the Altinity <a href=https://www.altinity.com/blog/2019/7/new-encodings-to-improve-clickhouse rel="external nofollow">New Encodings to Improve ClickHouse Efficiency</a> article.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>You can't decompress ClickHouse database files with external utilities like <code>lz4</code>. Instead, use the special <a href=https://github.com/yandex/ClickHouse/tree/master/dbms/programs/compressor rel="external nofollow">clickhouse-compressor</a> utility.</p> </div> <p>Compression is supported for the following table engines:</p> <ul> <li><a href="../../operations/table_engines/mergetree/index.html" >MergeTree</a> family</li> <li><a href="../../operations/table_engines/log_family/index.html" >Log</a> family</li> <li><a href="../../operations/table_engines/set/index.html" >Set</a></li> <li><a href="../../operations/table_engines/join/index.html" >Join</a></li> </ul> <p>ClickHouse supports common purpose codecs and specialized codecs.</p> <h4 id=create-query-specialized-codecs>Specialized Codecs<a class=headerlink href="index.html#create-query-specialized-codecs" title="Permanent link">&para;</a></h4> <p>These codecs are designed to make compression more effective by using specific features of data. Some of these codecs don't compress data themself. Instead, they prepare the data for a common purpose codec, which compresses it better than without this preparation.</p> <p>Specialized codecs:</p> <ul> <li><code>Delta(delta_bytes)</code> — Compression approach in which raw values are replaced by the difference of two neighboring values, except for the first value that stays unchanged. Up to <code>delta_bytes</code> are used for storing delta values, so <code>delta_bytes</code> is the maximum size of raw values. Possible <code>delta_bytes</code> values: 1, 2, 4, 8. The default value for <code>delta_bytes</code> is <code>sizeof(type)</code> if equal to 1, 2, 4, or 8. In all other cases, it's 1.</li> <li><code>DoubleDelta</code> — Calculates delta of deltas and writes it in compact binary form. Optimal compression rates are achieved for monotonic sequences with a constant stride, such as time series data. Can be used with any fixed-width type. Implements the algorithm used in Gorilla TSDB, extending it to support 64-bit types. Uses 1 extra bit for 32-byte deltas: 5-bit prefixes instead of 4-bit prefixes. For additional information, see Compressing Time Stamps in <a href=http://www.vldb.org/pvldb/vol8/p1816-teller.pdf rel="external nofollow">Gorilla: A Fast, Scalable, In-Memory Time Series Database</a>.</li> <li><code>Gorilla</code> — Calculates XOR between current and previous value and writes it in compact binary form. Efficient when storing a series of floating point values that change slowly, because the best compression rate is achieved when neighboring values are binary equal. Implements the algorithm used in Gorilla TSDB, extending it to support 64-bit types. For additional information, see Compressing Values in <a href=http://www.vldb.org/pvldb/vol8/p1816-teller.pdf rel="external nofollow">Gorilla: A Fast, Scalable, In-Memory Time Series Database</a>.</li> <li><code>T64</code> — Compression approach that crops unused high bits of values in integer data types (including <code>Enum</code>, <code>Date</code> and <code>DateTime</code>). At each step of its algorithm, codec takes a block of 64 values, puts them into 64x64 bit matrix, transposes it, crops the unused bits of values and returns the rest as a sequence. Unused bits are the bits, that don't differ between maximum and minimum values in the whole data part for which the compression is used.</li> </ul> <p><code>DoubleDelta</code> and <code>Gorilla</code> codecs are used in Gorilla TSDB as the components of its compressing algorithm. Gorilla approach is effective in scenarios when there is a sequence of slowly changing values with their timestamps. Timestamps are effectively compressed by the <code>DoubleDelta</code> codec, and values are effectively compressed by the <code>Gorilla</code> codec. For example, to get an effectively stored table, you can create it in the following configuration:</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=n>codec_example</span>
<span class=p>(</span>
    <span class=k>timestamp</span> <span class=n>DateTime</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>DoubleDelta</span><span class=p>),</span>
    <span class=n>slow_values</span> <span class=n>Float32</span> <span class=n>CODEC</span><span class=p>(</span><span class=n>Gorilla</span><span class=p>)</span>
<span class=p>)</span>
<span class=n>ENGINE</span> <span class=o>=</span> <span class=n>MergeTree</span><span class=p>()</span>
</pre></div> <h4 id=create-query-common-purpose-codecs>Common purpose codecs<a class=headerlink href="index.html#create-query-common-purpose-codecs" title="Permanent link">&para;</a></h4> <p>Codecs:</p> <ul> <li><code>NONE</code> — No compression.</li> <li><code>LZ4</code> — Lossless <a href=https://github.com/lz4/lz4 rel="external nofollow">data compression algorithm</a> used by default. Applies LZ4 fast compression.</li> <li><code>LZ4HC[(level)]</code> — LZ4 HC (high compression) algorithm with configurable level. Default level: 9. Setting <code>level &lt;= 0</code> applies the default level. Possible levels: [1, 12]. Recommended level range: [4, 9].</li> <li><code>ZSTD[(level)]</code> — <a href=https://en.wikipedia.org/wiki/Zstandard rel="external nofollow">ZSTD compression algorithm</a> with configurable <code>level</code>. Possible levels: [1, 22]. Default value: 1.</li> </ul> <p>High compression levels are useful for asymmetric scenarios, like compress once, decompress repeatedly. Higher levels mean better compression and higher CPU usage.</p> <h2 id=lin-shi-biao>临时表<a class=headerlink href="index.html#lin-shi-biao" title="Permanent link">&para;</a></h2> <p>ClickHouse支持临时表，其具有以下特征：</p> <ul> <li>当回话结束时，临时表将随会话一起消失，这包含链接中断。</li> <li>临时表仅能够使用Memory表引擎。</li> <li>无法为临时表指定数据库。它是在数据库之外创建的。</li> <li>如果临时表与另一个表名称相同，那么当在查询时没有显示的指定db的情况下，将优先使用临时表。</li> <li>对于分布式处理，查询中使用的临时表将被传递到远程服务器。</li> </ul> <p>可以使用下面的语法创建一个临时表：</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TEMPORARY</span> <span class=k>TABLE</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=k>table_name</span> <span class=p>[</span><span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span><span class=p>]</span>
<span class=p>(</span>
    <span class=n>name1</span> <span class=p>[</span><span class=n>type1</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr1</span><span class=p>],</span>
    <span class=n>name2</span> <span class=p>[</span><span class=n>type2</span><span class=p>]</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>MATERIALIZED</span><span class=o>|</span><span class=k>ALIAS</span> <span class=n>expr2</span><span class=p>],</span>
    <span class=p>...</span>
<span class=p>)</span>
</pre></div> <p>大多数情况下，临时表不是手动创建的，只有在分布式查询处理中使用<code>(GLOBAL) IN</code>时为外部数据创建。更多信息，可以参考相关章节。</p> <h2 id=fen-bu-shi-ddlcha-xun-on-cluster-zi-ju>分布式DDL查询 （ON CLUSTER 子句）<a class=headerlink href="index.html#fen-bu-shi-ddlcha-xun-on-cluster-zi-ju" title="Permanent link">&para;</a></h2> <p>对于 <code>CREATE</code>， <code>DROP</code>， <code>ALTER</code>，以及<code>RENAME</code>查询，系统支持其运行在整个集群上。 例如，以下查询将在<code>cluster</code>集群的所有节点上创建名为<code>all_hits</code>的<code>Distributed</code>表：</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>TABLE</span> <span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span> <span class=n>all_hits</span> <span class=k>ON</span> <span class=k>CLUSTER</span> <span class=k>cluster</span> <span class=p>(</span><span class=n>p</span> <span class=nb>Date</span><span class=p>,</span> <span class=n>i</span> <span class=n>Int32</span><span class=p>)</span> <span class=n>ENGINE</span> <span class=o>=</span> <span class=n>Distributed</span><span class=p>(</span><span class=k>cluster</span><span class=p>,</span> <span class=k>default</span><span class=p>,</span> <span class=n>hits</span><span class=p>)</span>
</pre></div> <p>为了能够正确的运行这种查询，每台主机必须具有相同的cluster声明（为了简化配置的同步，你可以使用zookeeper的方式进行配置）。同时这些主机还必须链接到zookeeper服务器。 这个查询将最终在集群的每台主机上运行，即使一些主机当前处于不可用状态。同时它还保证了所有的查询在单台主机中的执行顺序。</p> <h2 id=create-view>CREATE VIEW<a class=headerlink href="index.html#create-view" title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=p>[</span><span class=n>MATERIALIZED</span><span class=p>]</span> <span class=k>VIEW</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=k>table_name</span> <span class=p>[</span><span class=k>TO</span><span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>name</span><span class=p>]</span> <span class=p>[</span><span class=n>ENGINE</span> <span class=o>=</span> <span class=n>engine</span><span class=p>]</span> <span class=p>[</span><span class=n>POPULATE</span><span class=p>]</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</pre></div> <p>创建一个视图。它存在两种可选择的类型：普通视图与物化视图。</p> <p>普通视图不存储任何数据，只是执行从另一个表中的读取。换句话说，普通视图只是保存了视图的查询，当从视图中查询时，此查询被作为子查询用于替换FROM子句。</p> <p>举个例子，假设你已经创建了一个视图：</p> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>VIEW</span> <span class=k>view</span> <span class=k>AS</span> <span class=k>SELECT</span> <span class=p>...</span>
</pre></div> <p>还有一个查询：</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=k>c</span> <span class=k>FROM</span> <span class=k>view</span>
</pre></div> <p>这个查询完全等价于：</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=k>c</span> <span class=k>FROM</span> <span class=p>(</span><span class=k>SELECT</span> <span class=p>...)</span>
</pre></div> <p>物化视图存储的数据是由相应的SELECT查询转换得来的。</p> <p>在创建物化视图时，你还必须指定表的引擎 - 将会使用这个表引擎存储数据。</p> <p>目前物化视图的工作原理：当将数据写入到物化视图中SELECT子句所指定的表时，插入的数据会通过SELECT子句查询进行转换并将最终结果插入到视图中。</p> <p>如果创建物化视图时指定了POPULATE子句，则在创建时将该表的数据插入到物化视图中。就像使用<code>CREATE TABLE ... AS SELECT ...</code>一样。否则，物化视图只会包含在物化视图创建后的新写入的数据。我们不推荐使用POPULATE，因为在视图创建期间写入的数据将不会写入其中。</p> <p>当一个<code>SELECT</code>子句包含<code>DISTINCT</code>, <code>GROUP BY</code>, <code>ORDER BY</code>, <code>LIMIT</code>时，请注意，这些仅会在插入数据时在每个单独的数据块上执行。例如，如果你在其中包含了<code>GROUP BY</code>，则只会在查询期间进行聚合，但聚合范围仅限于单个批的写入数据。数据不会进一步被聚合。但是当你使用一些其他数据聚合引擎时这是例外的，如：<code>SummingMergeTree</code>。</p> <p>目前对物化视图执行<code>ALTER</code>是不支持的，因此这可能是不方便的。如果物化视图是使用的<code>TO [db.]name</code>的方式进行构建的，你可以使用<code>DETACH</code>语句现将视图剥离，然后使用<code>ALTER</code>运行在目标表上，然后使用<code>ATTACH</code>将之前剥离的表重新加载进来。</p> <p>视图看起来和普通的表相同。例如，你可以通过<code>SHOW TABLES</code>查看到它们。</p> <p>没有单独的删除视图的语法。如果要删除视图，请使用<code>DROP TABLE</code>。</p> <h2 id=create-dictionary-query>CREATE DICTIONARY<a class=headerlink href="index.html#create-dictionary-query" title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><span class=k>CREATE</span> <span class=k>DICTIONARY</span> <span class=p>[</span><span class=k>IF</span> <span class=k>NOT</span> <span class=k>EXISTS</span><span class=p>]</span> <span class=p>[</span><span class=n>db</span><span class=p>.]</span><span class=n>dictionary_name</span>
<span class=p>(</span>
    <span class=n>key1</span> <span class=n>type1</span>  <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr1</span><span class=p>]</span> <span class=p>[</span><span class=n>HIERARCHICAL</span><span class=o>|</span><span class=n>INJECTIVE</span><span class=o>|</span><span class=n>IS_OBJECT_ID</span><span class=p>],</span>
    <span class=n>key2</span> <span class=n>type2</span>  <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr2</span><span class=p>]</span> <span class=p>[</span><span class=n>HIERARCHICAL</span><span class=o>|</span><span class=n>INJECTIVE</span><span class=o>|</span><span class=n>IS_OBJECT_ID</span><span class=p>],</span>
    <span class=n>attr1</span> <span class=n>type2</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr3</span><span class=p>],</span>
    <span class=n>attr2</span> <span class=n>type2</span> <span class=p>[</span><span class=k>DEFAULT</span><span class=o>|</span><span class=n>EXPRESSION</span> <span class=n>expr4</span><span class=p>]</span>
<span class=p>)</span>
<span class=k>PRIMARY</span> <span class=k>KEY</span> <span class=n>key1</span><span class=p>,</span> <span class=n>key2</span>
<span class=k>SOURCE</span><span class=p>(</span><span class=n>SOURCE_NAME</span><span class=p>([</span><span class=n>param1</span> <span class=n>value1</span> <span class=p>...</span> <span class=n>paramN</span> <span class=n>valueN</span><span class=p>]))</span>
<span class=n>LAYOUT</span><span class=p>(</span><span class=n>LAYOUT_NAME</span><span class=p>([</span><span class=n>param_name</span> <span class=n>param_value</span><span class=p>]))</span>
<span class=n>LIFETIME</span><span class=p>([</span><span class=k>MIN</span> <span class=n>val1</span><span class=p>]</span> <span class=k>MAX</span> <span class=n>val2</span><span class=p>)</span>
</pre></div> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href="../insert_into/index.html" title="INSERT INTO" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 后退 </span> INSERT INTO </span> </div> </a> <a href="../alter/index.html" title=ALTER class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 前进 </span> ALTER </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> ©2016–2019 Yandex LLC </div> </div> </div> </div> </footer> </div> <script src="../../assets/javascripts/modernizr.js"></script> <script src="../../assets/javascripts/application.js"></script> <script type=text/javascript>
      function ready(callback){
          if (document.readyState != 'loading') {
              callback();
          } else if (document.addEventListener) {
              document.addEventListener('DOMContentLoaded', callback);
          } else document.attachEvent('onreadystatechange', function() {
              if (document.readyState == 'complete') {
                  callback();
              }
          });
      }
      ready(function () {
          var i;
          
          app.initialize({
              version: "1.0.4",
              url: {
                  base: "../.."
              }
          });
          var beforePrint = function() {
            var details = document.getElementsByTagName("details");
            for (i = 0; i < details.length; ++i) {
                details[i].open = 1;
            }
          };
          if (window.matchMedia) {
              window.matchMedia('print').addListener(function(q) {
                  if (q.matches) {
                      beforePrint();
                  }
              });
          }
          window.onbeforeprint = beforePrint;

          var name = window.location.hostname.split('.')[0];
          var feedback_address = name + '-feedback' + '@yandex-team.ru';
          var feedback_email = document.getElementsByClassName('feedback-email');
          for (i = 0; i < feedback_email.length; i++) {
            feedback_email[i].setAttribute('href', 'mailto:' + feedback_address);
            feedback_email[i].innerHTML = feedback_address;
          }

          document.getElementById("releases-selector").addEventListener(
            "change",
            function() {
              var target = window.location.href.split('docs')[0] + 'docs/';
              if (this.value) {
                target = target + this.value + '/';
              }
              window.location = target + 'zh';
            }
          )
      });
    </script> <!-- Yandex.Metrika counter --> <script type=text/javascript>
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter18343495 = new Ya.Metrika2({
                        id:18343495,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor: true
                    });
                } catch(e) { }
            });
            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks2");
    </script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 style="position:absolute; left:-9999px;" alt></div> </noscript> <!-- /Yandex.Metrika counter --> </body> </html>